<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_2.dtd'>
<nta>
	<declaration>const int nil = 0;
const int nilAnything = -1;
const int c4Timer = 1;
const int lightly = 2;
const int flewOverPopulatedArea = 3;
const int startNewTimer = 4;
const int addressedProblem = 5;
const int turnAround = 6;
const int operator = 7;
const int searchDecisions = 8;
const int sentCommand = 9;
const int C2_Start = 10;
const int wait_flag = 11;
const int commands = 12;
const int fully = 13;
const int queryPop = 14;
const int output_link = 15;
const int previousDecision = 16;
const int C3_Start = 17;
const int io = 18;
const int populated = 19;
const int turnAroundEmergency = 20;
const int previousDecisionCommand = 21;
const int currentTime = 22;
const int flightdata = 23;
const int stopC4Timer = 24;
const int null = 25;
const int C6_Start = 26;
const int name = 27;
const int timerLength = 28;
const int applyPreviousDecision = 29;
const int no = 30;
const int C4_Start = 31;
const int superstate = 32;
const int droneFlight = 33;
const int acknowledgedCommands = 34;
const int Processing = 35;
const int timer = 36;
const int initialize_drone = 37;
const int C7_Start = 38;
const int contingencyComplete = 39;
const int maxTimers = 40;
const int yes = 41;
const int currentTimers = 42;
const int takeOver = 43;
const int input_link = 44;
const int reverse = 45;
const int previousDecisionValue = 46;
const int startContingency = 47;
const int targetTime = 48;
const int willBeInPopulatedArea = 49;
const int state_operator_1 = 50;
const int state_operator_2 = 51;
const int state_operator_3 = 52;
const int state_c4Timer_1 = 53;
const int state_operator_4 = 54;
const int state_operator_5 = 55;
const int state_operator_6 = 56;
const int state_operator_7 = 57;
const int state_operator_8 = 58;
const int state_operator_9 = 59;
const int state_timer_1 = 60;
const int state_operator_10 = 61;
const int state_operator_11 = 62;
const int state_operator_12 = 63;
const int state_operator_13 = 64;
const int state_operator_14 = 65;
const int state_operator_15 = 66;
const int state_operator_16 = 67;
const int state_timer_2 = 68;
const int state_operator_17 = 69;
const int state_operator_18 = 70;
const int state_operator_19 = 71;
const int finalOp = 72;
const int _state = -1;
const int state_num_attributes = 17;
const int state_timer_1_num_attributes = 1;
const int state_timer_2_num_attributes = 1;
const int state_operator_14_num_attributes = 2;
const int state_operator_15_num_attributes = 2;
const int state_operator_16_num_attributes = 1;
const int state_operator_17_num_attributes = 1;
const int state_operator_18_num_attributes = 2;
const int state_operator_19_num_attributes = 1;
const int state_c4Timer_1_num_attributes = 1;
const int state_operator_3_num_attributes = 1;
const int state_operator_10_num_attributes = 2;
const int state_operator_4_num_attributes = 1;
const int state_operator_11_num_attributes = 2;
const int state_operator_1_num_attributes = 1;
const int state_operator_12_num_attributes = 1;
const int state_operator_2_num_attributes = 1;
const int state_operator_13_num_attributes = 1;
const int state_operator_7_num_attributes = 1;
const int state_operator_8_num_attributes = 1;
const int state_operator_5_num_attributes = 2;
const int state_operator_6_num_attributes = 2;
const int state_operator_9_num_attributes = 2;

//new
broadcast chan Start_Rule;
chan Start_Input;
const int dummy_io1 = 73;
const int dummy_io2 = 74;
const int dummy_io3 = 75;


broadcast chan Run_Rule;
broadcast chan Halt;
broadcast chan Reset_Apply;\

chan Continue_Run;
chan Require_Test;
bool halt = false;
bool isRetracting;
bool addOperator;
bool removeOperator;
bool productionFired;
const int numTemplates = 42;
int stackCondition[numTemplates];
int stackAction[numTemplates];
int stackRetract[numTemplates];
int stackConditionIndex = -1;
int stackActionIndex = -1;
int stackRetractIndex = -1;
int selectedFinalOperatorIndex;
const int EMPTY = -2;
const int remove = -3;
const int addFunction = -4;
const int subtractFunction = -5;
const int multiplyFunction = -6;
const int divideFunction = -7;
const int extraRestriction = -8;
const int isNotEqualTo = -9;
const int isGreaterThan = -10;
const int isLessThan = -11;
const int isGreaterThanOrEqualTo = -12;
const int numAVs = 8;
int numAVCounter = 0;
int lookAheadArray[11];
int lookAheadIndex;
int lookAheadDefault[11];
int globalIndex = 0;
int valueFunction;
int attributeFunction;
int globalIdentifier;
int globalAttribute;
int globalValue;
int globalDoesContain;
int currentNumAttributes;
const int TOTAL_NUM_ATTRIBUTES = 47;
int nestedCheckArray[TOTAL_NUM_ATTRIBUTES];
int nestedCheckIndex = 0;

int id = 1;
const int N = 25;

typedef struct {
	bool isRequired;
	bool isAcceptable;
	bool isBest;
	bool isWorst;
	bool isProhibited;
	bool isRejected;
	bool isUnaryIndifferent;
	bool hasNumericIndifferent;
	int numericIndifferent;
	int id;
} BaseOperator;
typedef struct {
	BaseOperator operator;
	int[0, N] betterIndex;
	int better[N];
	int[0, N] binaryIndifferentIndex;
	int binaryIndifferent[N];
} Operator;

int retractOperators[N];
int retractOperatorsIndex = 0;
Operator operators[N];
int required[N];
int acceptable[N];
int best[N];
BaseOperator defaultOperator = {false, false, false, false, false, false, false, false, 0, 0};
int defaultOperatorArray[N];
int numLeft = 0;


//new
int takeovervalue[11] = {0,no,no,yes,yes,yes,yes,yes,yes,yes,yes};
int takeovervalueIndex = 0;
int populatedvalue[11] = {0,lightly, lightly, lightly, fully, fully, fully, fully, fully, fully, fully};
int populatedvalueIndex = 0;
int currentTimeValue[2] = {0, 60};
int currentTimeValueIndex = 0;
void updatevalue(){
      //out of bounds
    takeovervalueIndex++;
    if(takeovervalueIndex &gt; 10){
        takeovervalueIndex = 1;
    }
    populatedvalueIndex++;
    if(populatedvalueIndex &gt; 10){
        populatedvalueIndex = 1;
    }
    currentTimeValue[0] = currentTimeValue[0] + currentTimeValue[1];
    if (currentTimeValue[0] &gt;= 32000) {
      halt = true;
    }
//    currentTimeValueIndex++;
//    if (currentTimeValueIndex &gt; 10) {
//        currentTimeValueIndex = 1;   
//    }
}
int nextElement;
int getNumButNextElement(int globalAttribute, int nextIndex){
    return nextElement;
}
//new end


int getNumLeft(int &amp;ref[N]) {
	int i = 0;
	int count = 0;
	while (i &lt; N &amp;&amp; ref[i] != 0) {
			count++;
			i++;
	}
	return count;
}

void initialize(Operator &amp;op[N]) {
	int i = 0;
	for (i = 0; i &lt; N; i++) {
		defaultOperatorArray[i] = 0;
	}
	for (i = 0; i &lt; N; i++) {
		BaseOperator def = {false, false, false, false, false, false, false, false, 0, id};
		op[i].operator = def;
		op[i].better = defaultOperatorArray;
		op[i].binaryIndifferent = defaultOperatorArray;
		id++;
		stackCondition[i] = 0;
		stackAction[i] = 0;
		stackRetract[i] = 0;
		retractOperators[i] = 0;
	}
	for (i = 0; i &lt; 11; i++) {
		lookAheadDefault[i] = 0;
	}
}

void addToStackCondition(int flag) {
	stackConditionIndex++;
	stackCondition[stackConditionIndex] = flag;
}

void addToStackAction(int flag) {
	stackActionIndex++;
	stackAction[stackActionIndex] = flag;
}

void addToStackRetract(int flag) {
	stackRetractIndex++;
	stackRetract[stackRetractIndex] = flag;
}

int removeStackCondition() {
	int temp = stackCondition[stackConditionIndex];
	stackCondition[stackConditionIndex] = 0;
	stackConditionIndex--;
	return temp;
}

int removeStackAction() {
	int temp = stackAction[stackActionIndex];
	stackAction[stackActionIndex] = 0;
	stackActionIndex--;
	return temp;
}

int removeStackRetract() {
	int temp = stackRetract[stackRetractIndex];
	stackRetract[stackRetractIndex] = 0;
	stackRetractIndex--;
	return temp;
}

void clearStacks() {
	stackConditionIndex = -1;
	stackActionIndex = -1;
	stackRetractIndex = -1;
}

void clearFill(int &amp;ref[N]) {
	int i = 0;
	while(i &lt; N &amp;&amp; ref[i] != 0) {
		ref[i] = 0;
	}
}

bool retractOperatorsContains(int checkValue) {
	bool contains = false;
	int i;
	for(i = 0; i &lt; retractOperatorsIndex; i++) {
		if (retractOperators[i] == checkValue) {
			contains = true;
			i = retractOperatorsIndex;
		}
	}
	return contains;
}

void clearOperator(int operatorIndex) {
	BaseOperator def = defaultOperator;
	def.id = operators[operatorIndex].operator.id;
	operators[operatorIndex].operator = def;
	while (operators[operatorIndex].betterIndex &gt; 0) {
		operators[operatorIndex].betterIndex--;
		operators[operatorIndex].better[operators[operatorIndex].betterIndex] = 0;
	}
	while (operators[operatorIndex].binaryIndifferentIndex &gt; 0) {
		operators[operatorIndex].binaryIndifferentIndex--;
		operators[operatorIndex].binaryIndifferent[operators[operatorIndex].binaryIndifferentIndex] = 0;
	}
}

void fillOthers() {
	int i = 0;
	int requiredIndex = 0;
	int acceptableIndex = 0;
	int bestIndex = 0;
	for (i = 0; i &lt; N; i++) {
		if (operators[i].operator.isRequired) {
			required[requiredIndex] = operators[i].operator.id;
			requiredIndex++;
		}
		if (operators[i].operator.isAcceptable) {
			acceptable[acceptableIndex] = operators[i].operator.id;
			acceptableIndex++;
		} 
		if (operators[i].operator.isBest) {
			best[bestIndex] = operators[i].operator.id;
			bestIndex++;
		}
	}
}
void addBetterTo(int index1, int index2) {
	int nextIndex = operators[index1].betterIndex;
	operators[index1].betterIndex++;
	operators[index1].better[nextIndex] = index2;
}

void addBinaryIndifferentTo(int index1, int index2) {
	int nextIndex = operators[index1].binaryIndifferentIndex;
	operators[index1].binaryIndifferentIndex++;
	operators[index1].binaryIndifferent[nextIndex] = index2;
}

void addToNestedCheckArray(int value) {
	nestedCheckArray[nestedCheckIndex] = value;
	nestedCheckIndex++;
}

void removeNestedCheckArray() {
	nestedCheckArray[globalIndex] = 0;
}

int getNumAttributes(int variable) {
	if (variable == finalOp){
		return 1;
	} else if (variable == state_operator_1) {
		return state_operator_1_num_attributes;
	} else if (variable == state_operator_2) {
		return state_operator_2_num_attributes;
	} else if (variable == state_operator_3) {
		return state_operator_3_num_attributes;
	} else if (variable == state_c4Timer_1) {
		return state_c4Timer_1_num_attributes;
	} else if (variable == state_operator_4) {
		return state_operator_4_num_attributes;
	} else if (variable == state_operator_5) {
		return state_operator_5_num_attributes;
	} else if (variable == state_operator_6) {
		return state_operator_6_num_attributes;
	} else if (variable == state_operator_7) {
		return state_operator_7_num_attributes;
	} else if (variable == state_operator_8) {
		return state_operator_8_num_attributes;
	} else if (variable == state_operator_9) {
		return state_operator_9_num_attributes;
	} else if (variable == state_timer_1) {
		return state_timer_1_num_attributes;
	} else if (variable == state_operator_10) {
		return state_operator_10_num_attributes;
	} else if (variable == state_operator_11) {
		return state_operator_11_num_attributes;
	} else if (variable == state_operator_12) {
		return state_operator_12_num_attributes;
	} else if (variable == state_operator_13) {
		return state_operator_13_num_attributes;
	} else if (variable == state_operator_14) {
		return state_operator_14_num_attributes;
	} else if (variable == state_operator_15) {
		return state_operator_15_num_attributes;
	} else if (variable == state_operator_16) {
		return state_operator_16_num_attributes;
	} else if (variable == state_timer_2) {
		return state_timer_2_num_attributes;
	} else if (variable == state_operator_17) {
		return state_operator_17_num_attributes;
	} else if (variable == state_operator_18) {
		return state_operator_18_num_attributes;
	} else if (variable == state_operator_19) {
		return state_operator_19_num_attributes;
	} else {
		return -1;
	}
}

int getOperatorFromID(int id) {
	if (id == 0) {
		return state_operator_1;
	} else if (id == 1) {
		return state_operator_2;
	} else if (id == 2) {
		return state_operator_3;
	} else if (id == 3) {
		return state_operator_4;
	} else if (id == 4) {
		return state_operator_5;
	} else if (id == 5) {
		return state_operator_6;
	} else if (id == 6) {
		return state_operator_7;
	} else if (id == 7) {
		return state_operator_8;
	} else if (id == 8) {
		return state_operator_9;
	} else if (id == 9) {
		return state_operator_10;
	} else if (id == 10) {
		return state_operator_11;
	} else if (id == 11) {
		return state_operator_12;
	} else if (id == 12) {
		return state_operator_13;
	} else if (id == 13) {
		return state_operator_14;
	} else if (id == 14) {
		return state_operator_15;
	} else if (id == 15) {
		return state_operator_16;
	} else if (id == 16) {
		return state_operator_17;
	} else if (id == 17) {
		return state_operator_18;
	} else if (id == 18) {
		return state_operator_19;
	} else {
		return -1;
	}
}

int getIDFromOperator(int operator) {
	if (operator == state_operator_1) {
		return 0;
	} else if (operator == state_operator_2) {
		return 1;
	} else if (operator == state_operator_3) {
		return 2;
	} else if (operator == state_operator_4) {
		return 3;
	} else if (operator == state_operator_5) {
		return 4;
	} else if (operator == state_operator_6) {
		return 5;
	} else if (operator == state_operator_7) {
		return 6;
	} else if (operator == state_operator_8) {
		return 7;
	} else if (operator == state_operator_9) {
		return 8;
	} else if (operator == state_operator_10) {
		return 9;
	} else if (operator == state_operator_11) {
		return 10;
	} else if (operator == state_operator_12) {
		return 11;
	} else if (operator == state_operator_13) {
		return 12;
	} else if (operator == state_operator_14) {
		return 13;
	} else if (operator == state_operator_15) {
		return 14;
	} else if (operator == state_operator_16) {
		return 15;
	} else if (operator == state_operator_17) {
		return 16;
	} else if (operator == state_operator_18) {
		return 17;
	} else if (operator == state_operator_19) {
		return 18;
	} else {
		return -1;
	}
}

</declaration>
	<template>
		<name>drone_propose_initialize</name>
		<declaration>const int NUMBER_OF_PRODUCTIONS = 1;

int productionIndex = 0;
int productionIndexTemp;
void fillNextProduction() {
	productionIndex++;
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 13) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 13;
	clearOperator(12);
}
</declaration>
		<location id="id0" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id1" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id2" x="-892" y="0">
			<committed/>
		</location>
		<location id="id3" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id4" x="-892" y="319">
			<committed/>
		</location>
		<location id="id5" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id6" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id7" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id8" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id9" x="588" y="0">
			<committed/>
		</location>
		<location id="id10" x="588" y="200">
			<committed/>
		</location>
		<location id="id11" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id12" x="1328" y="0">
			<committed/>
		</location>
		<location id="id13" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id0"/>
		<transition>
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(1),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id0"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 1 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id2"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 1</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = nil,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = superstate,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id3"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id4"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id3"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id1"/>
			<label kind="guard" x="-1234" y="175">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="192">productionIndexTemp++</label>
			<nail x="-1237" y="319"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id5"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 1</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_13,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = initialize_drone,
attributeFunction = 0,
globalIdentifier = state_operator_13,
globalAttribute = name,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id7"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id1"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id8"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(1)</label>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id9"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 1 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = superstate,
globalValue = nil,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id0"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id10"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = EMPTY,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id0"/>
			<label kind="guard" x="-132" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="414">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id11"/>
			<label kind="guard" x="736" y="383">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="400">removeStackCondition(),
addToStackAction(1),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="400"/>
			<nail x="958" y="400"/>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id12"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 1</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_13,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id13"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_13,
globalAttribute = name,
globalValue = initialize_drone,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id0"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[12].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_initialize</name>
		<declaration>int dummy_state_operator_$_o_1_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[1];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o_1_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o_1_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id14" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id15" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id16" x="588" y="0">
			<committed/>
		</location>
		<location id="id17" x="588" y="200">
			<committed/>
		</location>
		<location id="id18" x="588" y="400">
			<committed/>
		</location>
		<location id="id19" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id20" x="1328" y="0">
			<committed/>
		</location>
		<location id="id21" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id14"/>
		<transition>
			<source ref="id14"/>
			<target ref="id14"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id14"/>
			<target ref="id14"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id14"/>
			<target ref="id15"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(2)</label>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id14"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id16"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 2 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id16"/>
			<target ref="id14"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id16"/>
			<target ref="id17"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_1_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_1_$,
globalAttribute = name,
globalValue = initialize_drone,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id17"/>
			<target ref="id16"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id17"/>
			<target ref="id18"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="238">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id18"/>
			<target ref="id16"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id18"/>
			<target ref="id19"/>
			<label kind="guard" x="736" y="583">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="600">removeStackCondition(),
addToStackAction(2),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="600"/>
			<nail x="958" y="600"/>
		</transition>
		<transition>
			<source ref="id19"/>
			<target ref="id14"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id19"/>
			<target ref="id20"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 2</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id20"/>
			<target ref="id21"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = 1,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id21"/>
			<target ref="id14"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>proposeWait</name>
		<declaration>int dummy_state_wait_flag_$_w_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[1];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_wait_flag_$_w_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_wait_flag_$_w_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 19) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 19;
	clearOperator(18);
}
</declaration>
		<location id="id22" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id23" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id24" x="-892" y="0">
			<committed/>
		</location>
		<location id="id25" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id26" x="-892" y="319">
			<committed/>
		</location>
		<location id="id27" x="-892" y="519">
			<committed/>
		</location>
		<location id="id28" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id29" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id30" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id31" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id32" x="588" y="0">
			<committed/>
		</location>
		<location id="id33" x="588" y="200">
			<committed/>
		</location>
		<location id="id34" x="588" y="400">
			<committed/>
		</location>
		<location id="id35" x="588" y="600">
			<committed/>
		</location>
		<location id="id36" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id37" x="1328" y="0">
			<committed/>
		</location>
		<location id="id38" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id22"/>
		<transition>
			<source ref="id22"/>
			<target ref="id23"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(3),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id23"/>
			<target ref="id22"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 3 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id23"/>
			<target ref="id24"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 3</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id24"/>
			<target ref="id25"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id24"/>
			<target ref="id26"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id26"/>
			<target ref="id25"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id26"/>
			<target ref="id27"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id27"/>
			<target ref="id25"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id27"/>
			<target ref="id23"/>
			<label kind="guard" x="-1234" y="375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="392">productionIndexTemp++</label>
			<nail x="-1237" y="519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id28"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 3</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_19,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id28"/>
			<target ref="id29"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = Processing,
attributeFunction = 0,
globalIdentifier = state_operator_19,
globalAttribute = name,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id29"/>
			<target ref="id30"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id23"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id22"/>
			<target ref="id31"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(3)</label>
		</transition>
		<transition>
			<source ref="id31"/>
			<target ref="id22"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id31"/>
			<target ref="id32"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 3 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id32"/>
			<target ref="id22"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id32"/>
			<target ref="id33"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_wait_flag_$_w_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id33"/>
			<target ref="id32"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id33"/>
			<target ref="id34"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = EMPTY,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id34"/>
			<target ref="id32"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id34"/>
			<target ref="id35"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id35"/>
			<target ref="id32"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id35"/>
			<target ref="id36"/>
			<label kind="guard" x="736" y="783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="800">removeStackCondition(),
addToStackAction(3),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="800"/>
			<nail x="958" y="800"/>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id22"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id37"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 3</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_19,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id37"/>
			<target ref="id38"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_19,
globalAttribute = name,
globalValue = Processing,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id38"/>
			<target ref="id22"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[18].operator.isAcceptable = true,
operators[18].operator.isWorst = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>applyWait</name>
		<declaration>int dummy_state_wait_flag_$_w_$;
int dummy_state_operator_$_o_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_wait_flag_$_w_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_wait_flag_$_w_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id39" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id40" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id41" x="588" y="0">
			<committed/>
		</location>
		<location id="id42" x="588" y="200">
			<committed/>
		</location>
		<location id="id43" x="588" y="400">
			<committed/>
		</location>
		<location id="id44" x="588" y="600">
			<committed/>
		</location>
		<location id="id45" x="588" y="800">
			<committed/>
		</location>
		<location id="id46" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id47" x="1328" y="0">
			<committed/>
		</location>
		<location id="id48" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id39"/>
		<transition>
			<source ref="id39"/>
			<target ref="id39"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id39"/>
			<target ref="id39"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id39"/>
			<target ref="id40"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(4)</label>
		</transition>
		<transition>
			<source ref="id40"/>
			<target ref="id39"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id40"/>
			<target ref="id41"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 4 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id41"/>
			<target ref="id39"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id41"/>
			<target ref="id42"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id42"/>
			<target ref="id41"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id42"/>
			<target ref="id43"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_wait_flag_$_w_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id43"/>
			<target ref="id42"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id43"/>
			<target ref="id44"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="433">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = Processing,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id44"/>
			<target ref="id42"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id44"/>
			<target ref="id45"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id45"/>
			<target ref="id42"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id45"/>
			<target ref="id46"/>
			<label kind="guard" x="736" y="983">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1000">removeStackCondition(),
addToStackAction(4),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1000"/>
			<nail x="958" y="1000"/>
		</transition>
		<transition>
			<source ref="id46"/>
			<target ref="id39"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id46"/>
			<target ref="id47"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 4</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = dummy_state_wait_flag_$_w_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id47"/>
			<target ref="id48"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = subtractFunction,
attributeFunction = 1,
globalIdentifier = _state,
globalAttribute = wait_flag,
globalValue = null,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id48"/>
			<target ref="id39"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_takeOver</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 3) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 3;
	clearOperator(2);
}
</declaration>
		<location id="id49" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id50" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id51" x="-892" y="0">
			<committed/>
		</location>
		<location id="id52" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id53" x="-892" y="319">
			<committed/>
		</location>
		<location id="id54" x="-892" y="519">
			<committed/>
		</location>
		<location id="id55" x="-892" y="719">
			<committed/>
		</location>
		<location id="id56" x="-892" y="919">
			<committed/>
		</location>
		<location id="id57" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id58" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id59" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id60" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id61" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id62" x="588" y="0">
			<committed/>
		</location>
		<location id="id63" x="588" y="200">
			<committed/>
		</location>
		<location id="id64" x="588" y="400">
			<committed/>
		</location>
		<location id="id65" x="588" y="600">
			<committed/>
		</location>
		<location id="id66" x="588" y="800">
			<committed/>
		</location>
		<location id="id67" x="588" y="1000">
			<committed/>
		</location>
		<location id="id68" x="588" y="1200">
			<committed/>
		</location>
		<location id="id69" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id70" x="1328" y="0">
			<committed/>
		</location>
		<location id="id71" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id49"/>
		<transition>
			<source ref="id49"/>
			<target ref="id50"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(5),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id50"/>
			<target ref="id49"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 5 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id50"/>
			<target ref="id51"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 5</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id51"/>
			<target ref="id52"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id51"/>
			<target ref="id53"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id53"/>
			<target ref="id52"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id53"/>
			<target ref="id54"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id54"/>
			<target ref="id52"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id54"/>
			<target ref="id55"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id55"/>
			<target ref="id52"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id55"/>
			<target ref="id56"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = commands,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id56"/>
			<target ref="id52"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id56"/>
			<target ref="id57"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id52"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id50"/>
			<label kind="guard" x="-1234" y="975">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="992">productionIndexTemp++</label>
			<nail x="-1237" y="1119"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id52"/>
			<target ref="id58"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 5</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_3,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id58"/>
			<target ref="id59"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = takeOver,
attributeFunction = 0,
globalIdentifier = state_operator_3,
globalAttribute = name,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id59"/>
			<target ref="id60"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id60"/>
			<target ref="id50"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id49"/>
			<target ref="id61"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(5)</label>
		</transition>
		<transition>
			<source ref="id61"/>
			<target ref="id49"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id61"/>
			<target ref="id62"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 5 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id62"/>
			<target ref="id49"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id62"/>
			<target ref="id63"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id63"/>
			<target ref="id62"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id63"/>
			<target ref="id64"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id64"/>
			<target ref="id62"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id64"/>
			<target ref="id65"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id65"/>
			<target ref="id64"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id65"/>
			<target ref="id66"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = commands,
globalValue = EMPTY,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id66"/>
			<target ref="id65"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id66"/>
			<target ref="id67"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="833">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id67"/>
			<target ref="id65"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id67"/>
			<target ref="id68"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
			<nail x="595" y="1011"/>
		</transition>
		<transition>
			<source ref="id68"/>
			<target ref="id65"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id68"/>
			<target ref="id69"/>
			<label kind="guard" x="736" y="1383">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1400">removeStackCondition(),
addToStackAction(5),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1400"/>
			<nail x="958" y="1400"/>
		</transition>
		<transition>
			<source ref="id69"/>
			<target ref="id49"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id69"/>
			<target ref="id70"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 5</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_3,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id70"/>
			<target ref="id71"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_3,
globalAttribute = name,
globalValue = takeOver,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id71"/>
			<target ref="id49"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[2].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_usePreviousDecision</name>
		<declaration>int dummy_state_previousDecisionCommand_$_com_$;
int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
int dummy_state_previousDecisionValue_$_val_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[5];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_previousDecisionCommand_$_com_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[3] = dummy_state_io;
	productions[productionIndex].savedTempAndFunction[4] = dummy_state_previousDecisionValue_$_val_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[4] == dummy_state_previousDecisionValue_$_val_$ &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_previousDecisionCommand_$_com_$ &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 8) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 8;
	clearOperator(7);
}
</declaration>
		<location id="id72" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id73" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id74" x="-892" y="0">
			<committed/>
		</location>
		<location id="id75" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id76" x="-892" y="319">
			<committed/>
		</location>
		<location id="id77" x="-892" y="519">
			<committed/>
		</location>
		<location id="id78" x="-892" y="719">
			<committed/>
		</location>
		<location id="id79" x="-892" y="919">
			<committed/>
		</location>
		<location id="id80" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id81" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id82" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id83" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id84" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id85" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id86" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id87" x="588" y="0">
			<committed/>
		</location>
		<location id="id88" x="588" y="200">
			<committed/>
		</location>
		<location id="id89" x="588" y="400">
			<committed/>
		</location>
		<location id="id90" x="588" y="600">
			<committed/>
		</location>
		<location id="id91" x="588" y="800">
			<committed/>
		</location>
		<location id="id92" x="588" y="1000">
			<committed/>
		</location>
		<location id="id93" x="588" y="1200">
			<committed/>
		</location>
		<location id="id94" x="588" y="1400">
			<committed/>
		</location>
		<location id="id95" x="588" y="1600">
			<committed/>
		</location>
		<location id="id96" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id97" x="1328" y="0">
			<committed/>
		</location>
		<location id="id98" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id72"/>
		<transition>
			<source ref="id72"/>
			<target ref="id73"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(6),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id73"/>
			<target ref="id72"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 6 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id73"/>
			<target ref="id74"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 6</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id74"/>
			<target ref="id75"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id74"/>
			<target ref="id76"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionCommand,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id75"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id77"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[4],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id75"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id78"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id78"/>
			<target ref="id75"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id78"/>
			<target ref="id79"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[3],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id75"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id80"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id75"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id81"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = searchDecisions,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = acknowledgedCommands,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id75"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id82"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-858" y="1351">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id82"/>
			<target ref="id75"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id82"/>
			<target ref="id73"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id75"/>
			<target ref="id83"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 6</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_8,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id83"/>
			<target ref="id84"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = applyPreviousDecision,
attributeFunction = 0,
globalIdentifier = state_operator_8,
globalAttribute = name,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id84"/>
			<target ref="id85"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id85"/>
			<target ref="id73"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id72"/>
			<target ref="id86"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(6)</label>
		</transition>
		<transition>
			<source ref="id86"/>
			<target ref="id72"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id86"/>
			<target ref="id87"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 6 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id87"/>
			<target ref="id72"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id87"/>
			<target ref="id88"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionCommand,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id88"/>
			<target ref="id87"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id88"/>
			<target ref="id89"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_previousDecisionCommand_$_com_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id89"/>
			<target ref="id88"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionCommand,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id89"/>
			<target ref="id90"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">dummy_state_previousDecisionValue_$_val_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id90"/>
			<target ref="id89"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id90"/>
			<target ref="id91"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id91"/>
			<target ref="id89"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id91"/>
			<target ref="id92"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id92"/>
			<target ref="id91"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id92"/>
			<target ref="id93"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = acknowledgedCommands,
globalValue = searchDecisions,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id93"/>
			<target ref="id92"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id93"/>
			<target ref="id94"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id94"/>
			<target ref="id92"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id94"/>
			<target ref="id95"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1436">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
			<nail x="586" y="1419"/>
		</transition>
		<transition>
			<source ref="id95"/>
			<target ref="id92"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id95"/>
			<target ref="id96"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(6),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id96"/>
			<target ref="id72"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id96"/>
			<target ref="id97"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 6</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_8,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id97"/>
			<target ref="id98"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_8,
globalAttribute = name,
globalValue = applyPreviousDecision,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id98"/>
			<target ref="id72"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[7].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_throwAwayPreviousDecision</name>
		<declaration>int dummy_state_operator_$_o_$;
int dummy_state_previousDecisionValue_$_val_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_previousDecisionValue_$_val_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_previousDecisionValue_$_val_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id99" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id100" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id101" x="588" y="0">
			<committed/>
		</location>
		<location id="id102" x="588" y="200">
			<committed/>
		</location>
		<location id="id103" x="588" y="400">
			<committed/>
		</location>
		<location id="id104" x="588" y="600">
			<committed/>
		</location>
		<location id="id105" x="588" y="800">
			<committed/>
		</location>
		<location id="id106" x="588" y="1000">
			<committed/>
		</location>
		<location id="id107" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id108" x="1328" y="0">
			<committed/>
		</location>
		<location id="id109" x="1328" y="200">
			<committed/>
		</location>
		<location id="id110" x="1328" y="400">
			<committed/>
		</location>
		<location id="id111" x="1328" y="600">
			<committed/>
		</location>
		<init ref="id99"/>
		<transition>
			<source ref="id99"/>
			<target ref="id99"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id99"/>
			<target ref="id99"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id99"/>
			<target ref="id100"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(7)</label>
		</transition>
		<transition>
			<source ref="id100"/>
			<target ref="id99"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id100"/>
			<target ref="id101"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 7 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id101"/>
			<target ref="id99"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id101"/>
			<target ref="id102"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id102"/>
			<target ref="id101"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id102"/>
			<target ref="id103"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_previousDecisionValue_$_val_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id103"/>
			<target ref="id102"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id103"/>
			<target ref="id104"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionCommand,
globalValue = null,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id104"/>
			<target ref="id102"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id104"/>
			<target ref="id105"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = applyPreviousDecision,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id105"/>
			<target ref="id102"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id105"/>
			<target ref="id106"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id106"/>
			<target ref="id102"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id106"/>
			<target ref="id107"/>
			<label kind="guard" x="736" y="1183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1200">removeStackCondition(),
addToStackAction(7),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1200"/>
			<nail x="958" y="1200"/>
		</transition>
		<transition>
			<source ref="id107"/>
			<target ref="id99"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id107"/>
			<target ref="id108"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 7</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = dummy_state_previousDecisionValue_$_val_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id108"/>
			<target ref="id109"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionCommand,
globalValue = null,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id109"/>
			<target ref="id110"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = acknowledgedCommands,
globalValue = searchDecisions,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id110"/>
			<target ref="id111"/>
			<label kind="guard" x="1353" y="417">!addOperator</label>
			<label kind="assignment" x="1353" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id111"/>
			<target ref="id99"/>
			<label kind="guard" x="1353" y="583">!addOperator</label>
			<label kind="assignment" x="1353" y="600">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="600"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_usePreviousDecisionTimer</name>
		<declaration>int dummy_state_operator_$_o_$;
int dummy_state_previousDecisionValue_$_val_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_previousDecisionValue_$_val_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_previousDecisionValue_$_val_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id112" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id113" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id114" x="588" y="0">
			<committed/>
		</location>
		<location id="id115" x="588" y="200">
			<committed/>
		</location>
		<location id="id116" x="588" y="400">
			<committed/>
		</location>
		<location id="id117" x="588" y="600">
			<committed/>
		</location>
		<location id="id118" x="588" y="800">
			<committed/>
		</location>
		<location id="id119" x="588" y="1000">
			<committed/>
		</location>
		<location id="id120" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id121" x="1328" y="0">
			<committed/>
		</location>
		<location id="id122" x="1328" y="200">
			<committed/>
		</location>
		<location id="id123" x="1328" y="400">
			<committed/>
		</location>
		<location id="id124" x="1328" y="600">
			<committed/>
		</location>
		<location id="id125" x="1328" y="800">
			<committed/>
		</location>
		<location id="id126" x="1328" y="1000">
			<committed/>
		</location>
		<init ref="id112"/>
		<transition>
			<source ref="id112"/>
			<target ref="id112"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id112"/>
			<target ref="id112"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id112"/>
			<target ref="id113"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(8)</label>
		</transition>
		<transition>
			<source ref="id113"/>
			<target ref="id112"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id113"/>
			<target ref="id114"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 8 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id114"/>
			<target ref="id112"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id114"/>
			<target ref="id115"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id115"/>
			<target ref="id114"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id115"/>
			<target ref="id116"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_previousDecisionValue_$_val_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id116"/>
			<target ref="id115"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id116"/>
			<target ref="id117"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionCommand,
globalValue = timer,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id117"/>
			<target ref="id115"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id117"/>
			<target ref="id118"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="629">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = applyPreviousDecision,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id118"/>
			<target ref="id115"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id118"/>
			<target ref="id119"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="833">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id119"/>
			<target ref="id115"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id119"/>
			<target ref="id120"/>
			<label kind="guard" x="736" y="1183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1200">removeStackCondition(),
addToStackAction(8),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1200"/>
			<nail x="958" y="1200"/>
		</transition>
		<transition>
			<source ref="id120"/>
			<target ref="id112"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id120"/>
			<target ref="id121"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 8</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionValue,
globalValue = dummy_state_previousDecisionValue_$_val_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id121"/>
			<target ref="id122"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = previousDecisionCommand,
globalValue = null,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id122"/>
			<target ref="id123"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = acknowledgedCommands,
globalValue = searchDecisions,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id123"/>
			<target ref="id124"/>
			<label kind="guard" x="1353" y="417">!addOperator</label>
			<label kind="assignment" x="1353" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = previousDecision,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id124"/>
			<target ref="id125"/>
			<label kind="guard" x="1353" y="617">!addOperator</label>
			<label kind="assignment" x="1353" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = dummy_state_previousDecisionValue_$_val_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id125"/>
			<target ref="id126"/>
			<label kind="guard" x="1353" y="817">!addOperator</label>
			<label kind="assignment" x="1353" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id126"/>
			<target ref="id112"/>
			<label kind="guard" x="1353" y="983">!addOperator</label>
			<label kind="assignment" x="1353" y="1000">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="1000"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_operator_C2_Lost_Link_Start_fully</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 11) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 11;
	clearOperator(10);
}
</declaration>
		<location id="id127" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id128" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id129" x="-892" y="0">
			<committed/>
		</location>
		<location id="id130" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id131" x="-892" y="319">
			<committed/>
		</location>
		<location id="id132" x="-892" y="519">
			<committed/>
		</location>
		<location id="id133" x="-892" y="719">
			<committed/>
		</location>
		<location id="id134" x="-892" y="919">
			<committed/>
		</location>
		<location id="id135" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id136" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id137" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id138" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id139" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id140" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id141" x="-1632" y="719">
			<committed/>
		</location>
		<location id="id142" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id143" x="588" y="0">
			<committed/>
		</location>
		<location id="id144" x="588" y="200">
			<committed/>
		</location>
		<location id="id145" x="588" y="400">
			<committed/>
		</location>
		<location id="id146" x="588" y="600">
			<committed/>
		</location>
		<location id="id147" x="588" y="800">
			<committed/>
		</location>
		<location id="id148" x="588" y="1000">
			<committed/>
		</location>
		<location id="id149" x="588" y="1200">
			<committed/>
		</location>
		<location id="id150" x="588" y="1400">
			<committed/>
		</location>
		<location id="id151" x="588" y="1600">
			<committed/>
		</location>
		<location id="id152" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id153" x="1328" y="0">
			<committed/>
		</location>
		<location id="id154" x="1328" y="200">
			<committed/>
		</location>
		<location id="id155" x="1328" y="400">
			<committed/>
		</location>
		<init ref="id127"/>
		<transition>
			<source ref="id127"/>
			<target ref="id128"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(9),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id127"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 9 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id128"/>
			<target ref="id129"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 9</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id129"/>
			<target ref="id130"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id129"/>
			<target ref="id131"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id131"/>
			<target ref="id130"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id131"/>
			<target ref="id132"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id132"/>
			<target ref="id130"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id132"/>
			<target ref="id133"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id133"/>
			<target ref="id130"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id133"/>
			<target ref="id134"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id134"/>
			<target ref="id130"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id134"/>
			<target ref="id135"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id135"/>
			<target ref="id130"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id135"/>
			<target ref="id136"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id136"/>
			<target ref="id130"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id136"/>
			<target ref="id137"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = fully,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id137"/>
			<target ref="id130"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id137"/>
			<target ref="id128"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id130"/>
			<target ref="id138"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 9</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_11,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id138"/>
			<target ref="id139"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = C2_Start,
attributeFunction = 0,
globalIdentifier = state_operator_11,
globalAttribute = name,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id139"/>
			<target ref="id140"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">valueFunction = remove,
globalValue = 1,
attributeFunction = 0,
globalIdentifier = state_operator_11,
globalAttribute = timerLength,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id140"/>
			<target ref="id141"/>
			<label kind="guard" x="-1607" y="536">!addOperator</label>
			<label kind="assignment" x="-1607" y="553">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id141"/>
			<target ref="id128"/>
			<label kind="guard" x="-1824" y="558">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="592">productionIndex--</label>
			<nail x="-1827" y="719"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id127"/>
			<target ref="id142"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(9)</label>
		</transition>
		<transition>
			<source ref="id142"/>
			<target ref="id127"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id142"/>
			<target ref="id143"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 9 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id143"/>
			<target ref="id127"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id143"/>
			<target ref="id144"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id144"/>
			<target ref="id143"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id144"/>
			<target ref="id145"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id145"/>
			<target ref="id143"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id145"/>
			<target ref="id146"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalValue = EMPTY,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id146"/>
			<target ref="id143"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id146"/>
			<target ref="id147"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id147"/>
			<target ref="id143"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id147"/>
			<target ref="id148"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id148"/>
			<target ref="id147"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id148"/>
			<target ref="id149"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id149"/>
			<target ref="id148"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id149"/>
			<target ref="id150"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = fully,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id150"/>
			<target ref="id148"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id150"/>
			<target ref="id151"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
			<nail x="586" y="1419"/>
		</transition>
		<transition>
			<source ref="id151"/>
			<target ref="id148"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id151"/>
			<target ref="id152"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(9),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id152"/>
			<target ref="id127"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id152"/>
			<target ref="id153"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 9</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_11,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id153"/>
			<target ref="id154"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_11,
globalAttribute = name,
globalValue = C2_Start,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id154"/>
			<target ref="id155"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_11,
globalAttribute = timerLength,
globalValue = 1,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id155"/>
			<target ref="id127"/>
			<label kind="guard" x="1353" y="383">!addOperator</label>
			<label kind="assignment" x="1351" y="399">addOperator = false,
removeStackAction(),
operators[10].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="400"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_operator_C2_Lost_Link_Start_lightly</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 15) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 15;
	clearOperator(14);
}
</declaration>
		<location id="id156" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id157" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id158" x="-892" y="0">
			<committed/>
		</location>
		<location id="id159" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id160" x="-892" y="319">
			<committed/>
		</location>
		<location id="id161" x="-892" y="519">
			<committed/>
		</location>
		<location id="id162" x="-892" y="719">
			<committed/>
		</location>
		<location id="id163" x="-892" y="919">
			<committed/>
		</location>
		<location id="id164" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id165" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id166" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id167" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id168" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id169" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id170" x="-1632" y="719">
			<committed/>
		</location>
		<location id="id171" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id172" x="588" y="0">
			<committed/>
		</location>
		<location id="id173" x="588" y="200">
			<committed/>
		</location>
		<location id="id174" x="588" y="400">
			<committed/>
		</location>
		<location id="id175" x="588" y="600">
			<committed/>
		</location>
		<location id="id176" x="588" y="800">
			<committed/>
		</location>
		<location id="id177" x="588" y="1000">
			<committed/>
		</location>
		<location id="id178" x="588" y="1200">
			<committed/>
		</location>
		<location id="id179" x="588" y="1400">
			<committed/>
		</location>
		<location id="id180" x="588" y="1600">
			<committed/>
		</location>
		<location id="id181" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id182" x="1328" y="0">
			<committed/>
		</location>
		<location id="id183" x="1328" y="200">
			<committed/>
		</location>
		<location id="id184" x="1328" y="400">
			<committed/>
		</location>
		<init ref="id156"/>
		<transition>
			<source ref="id156"/>
			<target ref="id157"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(10),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id157"/>
			<target ref="id156"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 10 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id157"/>
			<target ref="id158"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 10</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id158"/>
			<target ref="id159"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id158"/>
			<target ref="id160"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id160"/>
			<target ref="id159"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id160"/>
			<target ref="id161"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id161"/>
			<target ref="id159"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id161"/>
			<target ref="id162"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id162"/>
			<target ref="id159"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id162"/>
			<target ref="id163"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id163"/>
			<target ref="id159"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id163"/>
			<target ref="id164"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id164"/>
			<target ref="id159"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id164"/>
			<target ref="id165"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id165"/>
			<target ref="id159"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id165"/>
			<target ref="id166"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = lightly,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id166"/>
			<target ref="id159"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id166"/>
			<target ref="id157"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id159"/>
			<target ref="id167"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 10</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_15,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id167"/>
			<target ref="id168"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = C2_Start,
attributeFunction = 0,
globalIdentifier = state_operator_15,
globalAttribute = name,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id168"/>
			<target ref="id169"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">valueFunction = remove,
globalValue = 1,
attributeFunction = 0,
globalIdentifier = state_operator_15,
globalAttribute = timerLength,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id169"/>
			<target ref="id170"/>
			<label kind="guard" x="-1607" y="536">!addOperator</label>
			<label kind="assignment" x="-1607" y="553">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id170"/>
			<target ref="id157"/>
			<label kind="guard" x="-1824" y="558">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="592">productionIndex--</label>
			<nail x="-1827" y="719"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id156"/>
			<target ref="id171"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(10)</label>
		</transition>
		<transition>
			<source ref="id171"/>
			<target ref="id156"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id171"/>
			<target ref="id172"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 10 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id172"/>
			<target ref="id156"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id172"/>
			<target ref="id173"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id173"/>
			<target ref="id172"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id173"/>
			<target ref="id174"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id174"/>
			<target ref="id172"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id174"/>
			<target ref="id175"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalValue = EMPTY,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id175"/>
			<target ref="id172"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id175"/>
			<target ref="id176"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id176"/>
			<target ref="id172"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id176"/>
			<target ref="id177"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id177"/>
			<target ref="id176"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id177"/>
			<target ref="id178"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id178"/>
			<target ref="id177"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id178"/>
			<target ref="id179"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = lightly,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id179"/>
			<target ref="id177"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id179"/>
			<target ref="id180"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id180"/>
			<target ref="id177"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id180"/>
			<target ref="id181"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(10),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id181"/>
			<target ref="id156"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id181"/>
			<target ref="id182"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 10</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_15,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id182"/>
			<target ref="id183"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_15,
globalAttribute = name,
globalValue = C2_Start,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id183"/>
			<target ref="id184"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_15,
globalAttribute = timerLength,
globalValue = 1,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id184"/>
			<target ref="id156"/>
			<label kind="guard" x="1353" y="383">!addOperator</label>
			<label kind="assignment" x="1353" y="400">addOperator = false,
removeStackAction(),
operators[14].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="400"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_operator_C3_Lost_Link_Start_lightly</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 9) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 9;
	clearOperator(8);
}
</declaration>
		<location id="id185" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id186" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id187" x="-892" y="0">
			<committed/>
		</location>
		<location id="id188" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id189" x="-892" y="319">
			<committed/>
		</location>
		<location id="id190" x="-892" y="519">
			<committed/>
		</location>
		<location id="id191" x="-892" y="719">
			<committed/>
		</location>
		<location id="id192" x="-892" y="919">
			<committed/>
		</location>
		<location id="id193" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id194" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id195" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id196" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id197" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id198" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id199" x="-1632" y="719">
			<committed/>
		</location>
		<location id="id200" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id201" x="588" y="0">
			<committed/>
		</location>
		<location id="id202" x="588" y="200">
			<committed/>
		</location>
		<location id="id203" x="588" y="400">
			<committed/>
		</location>
		<location id="id204" x="588" y="600">
			<committed/>
		</location>
		<location id="id205" x="588" y="800">
			<committed/>
		</location>
		<location id="id206" x="588" y="1000">
			<committed/>
		</location>
		<location id="id207" x="588" y="1200">
			<committed/>
		</location>
		<location id="id208" x="588" y="1400">
			<committed/>
		</location>
		<location id="id209" x="588" y="1600">
			<committed/>
		</location>
		<location id="id210" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id211" x="1328" y="0">
			<committed/>
		</location>
		<location id="id212" x="1328" y="200">
			<committed/>
		</location>
		<location id="id213" x="1328" y="400">
			<committed/>
		</location>
		<init ref="id185"/>
		<transition>
			<source ref="id185"/>
			<target ref="id186"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(11),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id186"/>
			<target ref="id185"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 11 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id186"/>
			<target ref="id187"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 11</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id187"/>
			<target ref="id188"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id187"/>
			<target ref="id189"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id189"/>
			<target ref="id188"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id189"/>
			<target ref="id190"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id190"/>
			<target ref="id188"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id190"/>
			<target ref="id191"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id191"/>
			<target ref="id188"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id191"/>
			<target ref="id192"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id192"/>
			<target ref="id188"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id192"/>
			<target ref="id193"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id193"/>
			<target ref="id188"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id193"/>
			<target ref="id194"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id194"/>
			<target ref="id188"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id194"/>
			<target ref="id195"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = lightly,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id195"/>
			<target ref="id188"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id195"/>
			<target ref="id186"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id188"/>
			<target ref="id196"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 11</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_9,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id196"/>
			<target ref="id197"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = C3_Start,
attributeFunction = 0,
globalIdentifier = state_operator_9,
globalAttribute = name,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id197"/>
			<target ref="id198"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">valueFunction = remove,
globalValue = 8,
attributeFunction = 0,
globalIdentifier = state_operator_9,
globalAttribute = timerLength,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id198"/>
			<target ref="id199"/>
			<label kind="guard" x="-1607" y="536">!addOperator</label>
			<label kind="assignment" x="-1607" y="553">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id199"/>
			<target ref="id186"/>
			<label kind="guard" x="-1824" y="558">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="592">productionIndex--</label>
			<nail x="-1827" y="719"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id185"/>
			<target ref="id200"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(11)</label>
		</transition>
		<transition>
			<source ref="id200"/>
			<target ref="id185"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id200"/>
			<target ref="id201"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 11 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id201"/>
			<target ref="id185"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id201"/>
			<target ref="id202"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id202"/>
			<target ref="id201"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id202"/>
			<target ref="id203"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id203"/>
			<target ref="id201"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id203"/>
			<target ref="id204"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalValue = EMPTY,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id204"/>
			<target ref="id201"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id204"/>
			<target ref="id205"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id205"/>
			<target ref="id201"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id205"/>
			<target ref="id206"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id206"/>
			<target ref="id205"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id206"/>
			<target ref="id207"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id207"/>
			<target ref="id206"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id207"/>
			<target ref="id208"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = lightly,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id208"/>
			<target ref="id206"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id208"/>
			<target ref="id209"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
			<nail x="586" y="1419"/>
		</transition>
		<transition>
			<source ref="id209"/>
			<target ref="id206"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id209"/>
			<target ref="id210"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(11),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id210"/>
			<target ref="id185"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id210"/>
			<target ref="id211"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 11</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_9,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id211"/>
			<target ref="id212"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_9,
globalAttribute = name,
globalValue = C3_Start,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id212"/>
			<target ref="id213"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_9,
globalAttribute = timerLength,
globalValue = 8,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id213"/>
			<target ref="id185"/>
			<label kind="guard" x="1353" y="383">!addOperator</label>
			<label kind="assignment" x="1353" y="400">addOperator = false,
removeStackAction(),
operators[8].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="400"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_operator_C3_Lost_Link_Start_fully</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 14) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 14;
	clearOperator(13);
}
</declaration>
		<location id="id214" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id215" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id216" x="-892" y="0">
			<committed/>
		</location>
		<location id="id217" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id218" x="-892" y="319">
			<committed/>
		</location>
		<location id="id219" x="-892" y="519">
			<committed/>
		</location>
		<location id="id220" x="-892" y="719">
			<committed/>
		</location>
		<location id="id221" x="-892" y="919">
			<committed/>
		</location>
		<location id="id222" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id223" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id224" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id225" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id226" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id227" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id228" x="-1632" y="719">
			<committed/>
		</location>
		<location id="id229" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id230" x="588" y="0">
			<committed/>
		</location>
		<location id="id231" x="588" y="200">
			<committed/>
		</location>
		<location id="id232" x="588" y="400">
			<committed/>
		</location>
		<location id="id233" x="588" y="600">
			<committed/>
		</location>
		<location id="id234" x="588" y="800">
			<committed/>
		</location>
		<location id="id235" x="588" y="1000">
			<committed/>
		</location>
		<location id="id236" x="588" y="1200">
			<committed/>
		</location>
		<location id="id237" x="588" y="1400">
			<committed/>
		</location>
		<location id="id238" x="588" y="1600">
			<committed/>
		</location>
		<location id="id239" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id240" x="1328" y="0">
			<committed/>
		</location>
		<location id="id241" x="1328" y="200">
			<committed/>
		</location>
		<location id="id242" x="1328" y="400">
			<committed/>
		</location>
		<init ref="id214"/>
		<transition>
			<source ref="id214"/>
			<target ref="id215"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(12),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id215"/>
			<target ref="id214"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 12 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id215"/>
			<target ref="id216"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 12</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id216"/>
			<target ref="id217"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id216"/>
			<target ref="id218"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id218"/>
			<target ref="id217"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id218"/>
			<target ref="id219"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id219"/>
			<target ref="id217"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id219"/>
			<target ref="id220"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id220"/>
			<target ref="id217"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id220"/>
			<target ref="id221"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id221"/>
			<target ref="id217"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id221"/>
			<target ref="id222"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id222"/>
			<target ref="id217"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id222"/>
			<target ref="id223"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id223"/>
			<target ref="id217"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id223"/>
			<target ref="id224"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = fully,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id224"/>
			<target ref="id217"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id224"/>
			<target ref="id215"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id217"/>
			<target ref="id225"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 12</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_14,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id225"/>
			<target ref="id226"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = C3_Start,
attributeFunction = 0,
globalIdentifier = state_operator_14,
globalAttribute = name,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id226"/>
			<target ref="id227"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">valueFunction = remove,
globalValue = 8,
attributeFunction = 0,
globalIdentifier = state_operator_14,
globalAttribute = timerLength,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id227"/>
			<target ref="id228"/>
			<label kind="guard" x="-1607" y="536">!addOperator</label>
			<label kind="assignment" x="-1607" y="553">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id228"/>
			<target ref="id215"/>
			<label kind="guard" x="-1824" y="558">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="592">productionIndex--</label>
			<nail x="-1827" y="719"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id214"/>
			<target ref="id229"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(12)</label>
		</transition>
		<transition>
			<source ref="id229"/>
			<target ref="id214"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id229"/>
			<target ref="id230"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 12 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id230"/>
			<target ref="id214"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id230"/>
			<target ref="id231"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id231"/>
			<target ref="id230"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id231"/>
			<target ref="id232"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id232"/>
			<target ref="id230"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id232"/>
			<target ref="id233"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalValue = EMPTY,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id233"/>
			<target ref="id230"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id233"/>
			<target ref="id234"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id234"/>
			<target ref="id230"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id234"/>
			<target ref="id235"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id235"/>
			<target ref="id234"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id235"/>
			<target ref="id236"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id236"/>
			<target ref="id235"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id236"/>
			<target ref="id237"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = fully,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id237"/>
			<target ref="id235"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id237"/>
			<target ref="id238"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id238"/>
			<target ref="id235"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id238"/>
			<target ref="id239"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(12),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id239"/>
			<target ref="id214"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id239"/>
			<target ref="id240"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 12</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_14,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id240"/>
			<target ref="id241"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_14,
globalAttribute = name,
globalValue = C3_Start,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id241"/>
			<target ref="id242"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_14,
globalAttribute = timerLength,
globalValue = 8,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id242"/>
			<target ref="id214"/>
			<label kind="guard" x="1353" y="383">!addOperator</label>
			<label kind="assignment" x="1353" y="400">addOperator = false,
removeStackAction(),
operators[13].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="400"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_operator_StartTimerLostLinkFirst</name>
		<declaration>int dummy_state_operator_timerLength_$_tl_$;
int dummy_state_io_input_link_$_fd_$;
int dummy_state_operator_$_o_$;
int dummy_dummy_state_io_input_link;
int dummy_state_name_$_n_$;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[6];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_timerLength_$_tl_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_operator_$_o_$;
	productions[productionIndex].savedTempAndFunction[3] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[4] = dummy_state_name_$_n_$;
	productions[productionIndex].savedTempAndFunction[5] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_operator_$_o_$ &amp;&amp;
			productions[i].savedTempAndFunction[4] == dummy_state_name_$_n_$ &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_operator_timerLength_$_tl_$ &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[5] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[2]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id243" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id244" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id245" x="588" y="0">
			<committed/>
		</location>
		<location id="id246" x="588" y="200">
			<committed/>
		</location>
		<location id="id247" x="588" y="400">
			<committed/>
		</location>
		<location id="id248" x="588" y="600">
			<committed/>
		</location>
		<location id="id249" x="588" y="800">
			<committed/>
		</location>
		<location id="id250" x="588" y="1000">
			<committed/>
		</location>
		<location id="id251" x="588" y="1200">
			<committed/>
		</location>
		<location id="id252" x="588" y="1400">
			<committed/>
		</location>
		<location id="id253" x="588" y="1600">
			<committed/>
		</location>
		<location id="id254" x="588" y="1800">
			<committed/>
		</location>
		<location id="id255" x="588" y="2000">
			<committed/>
		</location>
		<location id="id256" x="588" y="2200">
			<committed/>
		</location>
		<location id="id257" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id258" x="1328" y="0">
			<committed/>
		</location>
		<location id="id259" x="1328" y="200">
			<committed/>
		</location>
		<location id="id260" x="1328" y="400">
			<committed/>
		</location>
		<location id="id261" x="1328" y="600">
			<committed/>
		</location>
		<init ref="id243"/>
		<transition>
			<source ref="id243"/>
			<target ref="id243"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id243"/>
			<target ref="id243"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id243"/>
			<target ref="id244"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(13)</label>
		</transition>
		<transition>
			<source ref="id244"/>
			<target ref="id243"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id244"/>
			<target ref="id245"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 13 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id245"/>
			<target ref="id243"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id245"/>
			<target ref="id246"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id246"/>
			<target ref="id245"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id246"/>
			<target ref="id247"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id247"/>
			<target ref="id246"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id247"/>
			<target ref="id248"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">dummy_state_name_$_n_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = timerLength,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id248"/>
			<target ref="id247"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id248"/>
			<target ref="id249"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">dummy_state_operator_timerLength_$_tl_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id249"/>
			<target ref="id248"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = timerLength,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id249"/>
			<target ref="id250"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id250"/>
			<target ref="id248"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = timerLength,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id250"/>
			<target ref="id251"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id251"/>
			<target ref="id250"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id251"/>
			<target ref="id252"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1234">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id252"/>
			<target ref="id251"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id252"/>
			<target ref="id253"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = EMPTY,
lookAheadIndex = 8,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id253"/>
			<target ref="id251"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id253"/>
			<target ref="id254"/>
			<label kind="guard" x="613" y="1617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = EMPTY,
lookAheadIndex = 9,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id254"/>
			<target ref="id251"/>
			<label kind="guard" x="-112" y="1980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="2014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
			<nail x="218" y="2000"/>
			<nail x="-152" y="2000"/>
		</transition>
		<transition>
			<source ref="id254"/>
			<target ref="id255"/>
			<label kind="guard" x="613" y="1817">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1836">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 10,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id255"/>
			<target ref="id251"/>
			<label kind="guard" x="-112" y="2180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="2214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
			<nail x="218" y="2200"/>
			<nail x="-152" y="2200"/>
		</transition>
		<transition>
			<source ref="id255"/>
			<target ref="id256"/>
			<label kind="guard" x="613" y="2017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="2034">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id256"/>
			<target ref="id251"/>
			<label kind="guard" x="-112" y="2380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="2414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
			<nail x="218" y="2400"/>
			<nail x="-152" y="2400"/>
		</transition>
		<transition>
			<source ref="id256"/>
			<target ref="id257"/>
			<label kind="guard" x="736" y="2383">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="2400">removeStackCondition(),
addToStackAction(13),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="2400"/>
			<nail x="958" y="2400"/>
		</transition>
		<transition>
			<source ref="id257"/>
			<target ref="id243"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id257"/>
			<target ref="id258"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 13</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id258"/>
			<target ref="id259"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = dummy_state_name_$_n_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id259"/>
			<target ref="id260"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = dummy_state_operator_timerLength_$_tl_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id260"/>
			<target ref="id261"/>
			<label kind="guard" x="1353" y="417">!addOperator</label>
			<label kind="assignment" x="1353" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id261"/>
			<target ref="id243"/>
			<label kind="guard" x="1353" y="583">!addOperator</label>
			<label kind="assignment" x="1353" y="600">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="600"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_operator_StartTimerLostLinkLater</name>
		<declaration>int dummy_state_maxTimers_$_mT_$;
int dummy_state_operator_timerLength_$_tl_$;
int dummy_state_io_input_link_$_fd_$;
int dummy_state_operator_$_o_$;
int dummy_dummy_state_io_input_link;
int dummy_state_name_$_n_$;
int dummy_state_io;
int dummy_state_addressedProblem_$_ap_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[8];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_maxTimers_$_mT_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_timerLength_$_tl_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[3] = dummy_state_operator_$_o_$;
	productions[productionIndex].savedTempAndFunction[4] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[5] = dummy_state_name_$_n_$;
	productions[productionIndex].savedTempAndFunction[6] = dummy_state_io;
	productions[productionIndex].savedTempAndFunction[7] = dummy_state_addressedProblem_$_ap_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[2] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_state_operator_$_o_$ &amp;&amp;
			productions[i].savedTempAndFunction[5] == dummy_state_name_$_n_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_operator_timerLength_$_tl_$ &amp;&amp;
			productions[i].savedTempAndFunction[7] == dummy_state_addressedProblem_$_ap_$ &amp;&amp;
			productions[i].savedTempAndFunction[4] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[6] == dummy_state_io &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_maxTimers_$_mT_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[3]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id262" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id263" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id264" x="588" y="0">
			<committed/>
		</location>
		<location id="id265" x="588" y="200">
			<committed/>
		</location>
		<location id="id266" x="588" y="400">
			<committed/>
		</location>
		<location id="id267" x="588" y="600">
			<committed/>
		</location>
		<location id="id268" x="588" y="800">
			<committed/>
		</location>
		<location id="id269" x="588" y="1000">
			<committed/>
		</location>
		<location id="id270" x="588" y="1200">
			<committed/>
		</location>
		<location id="id271" x="588" y="1400">
			<committed/>
		</location>
		<location id="id272" x="588" y="1600">
			<committed/>
		</location>
		<location id="id273" x="588" y="1800">
			<committed/>
		</location>
		<location id="id274" x="588" y="2000">
			<committed/>
		</location>
		<location id="id275" x="588" y="2200">
			<committed/>
		</location>
		<location id="id276" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id277" x="1328" y="0">
			<committed/>
		</location>
		<location id="id278" x="1328" y="200">
			<committed/>
		</location>
		<location id="id279" x="1328" y="400">
			<committed/>
		</location>
		<location id="id280" x="1328" y="600">
			<committed/>
		</location>
		<location id="id281" x="1328" y="800">
			<committed/>
		</location>
		<location id="id282" x="1328" y="1000">
			<committed/>
		</location>
		<init ref="id262"/>
		<transition>
			<source ref="id262"/>
			<target ref="id262"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id262"/>
			<target ref="id262"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id262"/>
			<target ref="id263"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(14)</label>
		</transition>
		<transition>
			<source ref="id263"/>
			<target ref="id262"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id263"/>
			<target ref="id264"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 14 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id264"/>
			<target ref="id262"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id264"/>
			<target ref="id265"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id265"/>
			<target ref="id264"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id265"/>
			<target ref="id266"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id266"/>
			<target ref="id265"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id266"/>
			<target ref="id267"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">dummy_state_maxTimers_$_mT_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id267"/>
			<target ref="id266"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id267"/>
			<target ref="id268"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">dummy_state_addressedProblem_$_ap_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id268"/>
			<target ref="id267"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id268"/>
			<target ref="id269"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_name_$_n_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = timerLength,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id269"/>
			<target ref="id268"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id269"/>
			<target ref="id270"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_state_operator_timerLength_$_tl_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id270"/>
			<target ref="id269"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = timerLength,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id270"/>
			<target ref="id271"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id271"/>
			<target ref="id269"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = timerLength,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id271"/>
			<target ref="id272"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 8,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id272"/>
			<target ref="id271"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 7,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id272"/>
			<target ref="id273"/>
			<label kind="guard" x="613" y="1617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1634">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 9,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id273"/>
			<target ref="id272"/>
			<label kind="guard" x="-112" y="1980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="2014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 8,
globalDoesContain = 0</label>
			<nail x="218" y="2000"/>
			<nail x="-152" y="2000"/>
		</transition>
		<transition>
			<source ref="id273"/>
			<target ref="id274"/>
			<label kind="guard" x="613" y="1817">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1836">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_io_input_link_$_fd_$,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 10,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id274"/>
			<target ref="id272"/>
			<label kind="guard" x="-112" y="2180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="2214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 8,
globalDoesContain = 0</label>
			<nail x="218" y="2200"/>
			<nail x="-152" y="2200"/>
		</transition>
		<transition>
			<source ref="id274"/>
			<target ref="id275"/>
			<label kind="guard" x="613" y="2017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="2034">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id275"/>
			<target ref="id272"/>
			<label kind="guard" x="-112" y="2380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="2414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 8,
globalDoesContain = 0</label>
			<nail x="218" y="2400"/>
			<nail x="-152" y="2400"/>
		</transition>
		<transition>
			<source ref="id275"/>
			<target ref="id276"/>
			<label kind="guard" x="736" y="2383">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="2400">removeStackCondition(),
addToStackAction(14),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="2400"/>
			<nail x="958" y="2400"/>
		</transition>
		<transition>
			<source ref="id276"/>
			<target ref="id262"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id276"/>
			<target ref="id277"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 14</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id277"/>
			<target ref="id278"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = dummy_state_maxTimers_$_mT_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id278"/>
			<target ref="id279"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = dummy_state_addressedProblem_$_ap_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id279"/>
			<target ref="id280"/>
			<label kind="guard" x="1353" y="417">!addOperator</label>
			<label kind="assignment" x="1353" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = dummy_state_name_$_n_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id280"/>
			<target ref="id281"/>
			<label kind="guard" x="1353" y="617">!addOperator</label>
			<label kind="assignment" x="1353" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = dummy_state_operator_timerLength_$_tl_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id281"/>
			<target ref="id282"/>
			<label kind="guard" x="1353" y="817">!addOperator</label>
			<label kind="assignment" x="1353" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id282"/>
			<target ref="id262"/>
			<label kind="guard" x="1353" y="983">!addOperator</label>
			<label kind="assignment" x="1353" y="1000">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="1000"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_operator_C4_Lost_Link_Start</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 12) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 12;
	clearOperator(11);
}
</declaration>
		<location id="id283" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id284" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id285" x="-892" y="0">
			<committed/>
		</location>
		<location id="id286" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id287" x="-892" y="319">
			<committed/>
		</location>
		<location id="id288" x="-892" y="519">
			<committed/>
		</location>
		<location id="id289" x="-892" y="719">
			<committed/>
		</location>
		<location id="id290" x="-892" y="919">
			<committed/>
		</location>
		<location id="id291" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id292" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id293" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id294" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id295" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id296" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id297" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id298" x="588" y="0">
			<committed/>
		</location>
		<location id="id299" x="588" y="200">
			<committed/>
		</location>
		<location id="id300" x="588" y="400">
			<committed/>
		</location>
		<location id="id301" x="588" y="600">
			<committed/>
		</location>
		<location id="id302" x="588" y="800">
			<committed/>
		</location>
		<location id="id303" x="588" y="1000">
			<committed/>
		</location>
		<location id="id304" x="588" y="1200">
			<committed/>
		</location>
		<location id="id305" x="588" y="1400">
			<committed/>
		</location>
		<location id="id306" x="588" y="1600">
			<committed/>
		</location>
		<location id="id307" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id308" x="1328" y="0">
			<committed/>
		</location>
		<location id="id309" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id283"/>
		<transition>
			<source ref="id283"/>
			<target ref="id284"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(15),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id284"/>
			<target ref="id283"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 15 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id284"/>
			<target ref="id285"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 15</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id285"/>
			<target ref="id286"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id285"/>
			<target ref="id287"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id287"/>
			<target ref="id286"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id287"/>
			<target ref="id288"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id288"/>
			<target ref="id286"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id288"/>
			<target ref="id289"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id289"/>
			<target ref="id286"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id289"/>
			<target ref="id290"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id290"/>
			<target ref="id286"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id290"/>
			<target ref="id291"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id291"/>
			<target ref="id286"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id291"/>
			<target ref="id292"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id292"/>
			<target ref="id286"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id292"/>
			<target ref="id293"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = null,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id293"/>
			<target ref="id286"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id293"/>
			<target ref="id284"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id286"/>
			<target ref="id294"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 15</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_12,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id294"/>
			<target ref="id295"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = C4_Start,
attributeFunction = 0,
globalIdentifier = state_operator_12,
globalAttribute = name,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id295"/>
			<target ref="id296"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id296"/>
			<target ref="id284"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id283"/>
			<target ref="id297"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(15)</label>
		</transition>
		<transition>
			<source ref="id297"/>
			<target ref="id283"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id297"/>
			<target ref="id298"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 15 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id298"/>
			<target ref="id283"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id298"/>
			<target ref="id299"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id299"/>
			<target ref="id298"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id299"/>
			<target ref="id300"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id300"/>
			<target ref="id298"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id300"/>
			<target ref="id301"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalValue = EMPTY,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id301"/>
			<target ref="id298"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id301"/>
			<target ref="id302"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id302"/>
			<target ref="id298"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id302"/>
			<target ref="id303"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id303"/>
			<target ref="id302"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id303"/>
			<target ref="id304"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id304"/>
			<target ref="id303"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id304"/>
			<target ref="id305"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = null,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id305"/>
			<target ref="id303"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id305"/>
			<target ref="id306"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id306"/>
			<target ref="id303"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id306"/>
			<target ref="id307"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(15),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id307"/>
			<target ref="id283"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id307"/>
			<target ref="id308"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 15</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_12,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id308"/>
			<target ref="id309"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_12,
globalAttribute = name,
globalValue = C4_Start,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id309"/>
			<target ref="id283"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[11].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_operator_C4_Lost_Link_Start</name>
		<declaration>int dummy_state_currentTime_$_current_Time_$;
int dummy_state_io_input_link_$_fd_$;
int dummy_state_operator_$_o_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[5];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_currentTime_$_current_Time_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_operator_$_o_$;
	productions[productionIndex].savedTempAndFunction[3] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[4] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_operator_$_o_$ &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[4] == dummy_state_io &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_currentTime_$_current_Time_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[2]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id310" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id311" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id312" x="588" y="0">
			<committed/>
		</location>
		<location id="id313" x="588" y="200">
			<committed/>
		</location>
		<location id="id314" x="588" y="400">
			<committed/>
		</location>
		<location id="id315" x="588" y="600">
			<committed/>
		</location>
		<location id="id316" x="588" y="800">
			<committed/>
		</location>
		<location id="id317" x="588" y="1000">
			<committed/>
		</location>
		<location id="id318" x="588" y="1200">
			<committed/>
		</location>
		<location id="id319" x="588" y="1400">
			<committed/>
		</location>
		<location id="id320" x="588" y="1600">
			<committed/>
		</location>
		<location id="id321" x="588" y="1800">
			<committed/>
		</location>
		<location id="id322" x="588" y="2000">
			<committed/>
		</location>
		<location id="id323" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id324" x="1328" y="0">
			<committed/>
		</location>
		<location id="id325" x="1328" y="200">
			<committed/>
		</location>
		<location id="id326" x="1328" y="400">
			<committed/>
		</location>
		<location id="id327" x="1328" y="600">
			<committed/>
		</location>
		<location id="id328" x="1328" y="800">
			<committed/>
		</location>
		<init ref="id310"/>
		<transition>
			<source ref="id310"/>
			<target ref="id310"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id310"/>
			<target ref="id310"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id310"/>
			<target ref="id311"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(16)</label>
		</transition>
		<transition>
			<source ref="id311"/>
			<target ref="id310"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id311"/>
			<target ref="id312"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 16 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id312"/>
			<target ref="id310"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id312"/>
			<target ref="id313"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id313"/>
			<target ref="id312"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id313"/>
			<target ref="id314"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id314"/>
			<target ref="id313"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id314"/>
			<target ref="id315"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">dummy_state_currentTime_$_current_Time_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id315"/>
			<target ref="id314"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id315"/>
			<target ref="id316"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id316"/>
			<target ref="id314"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id316"/>
			<target ref="id317"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id317"/>
			<target ref="id316"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id317"/>
			<target ref="id318"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id318"/>
			<target ref="id317"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id318"/>
			<target ref="id319"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = EMPTY,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id319"/>
			<target ref="id317"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id319"/>
			<target ref="id320"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 8,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id320"/>
			<target ref="id317"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id320"/>
			<target ref="id321"/>
			<label kind="guard" x="613" y="1617">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1632">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = C4_Start,
lookAheadIndex = 9,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id321"/>
			<target ref="id317"/>
			<label kind="guard" x="-112" y="1980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="2014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="2000"/>
			<nail x="-152" y="2000"/>
		</transition>
		<transition>
			<source ref="id321"/>
			<target ref="id322"/>
			<label kind="guard" x="613" y="1817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id322"/>
			<target ref="id317"/>
			<label kind="guard" x="-112" y="2180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="2214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="2200"/>
			<nail x="-152" y="2200"/>
		</transition>
		<transition>
			<source ref="id322"/>
			<target ref="id323"/>
			<label kind="guard" x="736" y="2183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="2200">removeStackCondition(),
addToStackAction(16),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="2200"/>
			<nail x="958" y="2200"/>
		</transition>
		<transition>
			<source ref="id323"/>
			<target ref="id310"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id323"/>
			<target ref="id324"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 16</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id324"/>
			<target ref="id325"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = C4_Start,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id325"/>
			<target ref="id326"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = c4Timer,
globalValue = state_c4Timer_1,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id326"/>
			<target ref="id327"/>
			<label kind="guard" x="1353" y="417">!addOperator</label>
			<label kind="assignment" x="1353" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id327"/>
			<target ref="id328"/>
			<label kind="guard" x="1353" y="617">!addOperator</label>
			<label kind="assignment" x="1353" y="634">valueFunction = addFunction,
attributeFunction = 60,
globalIdentifier = state_c4Timer_1,
globalAttribute = targetTime,
globalValue = null,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id328"/>
			<target ref="id310"/>
			<label kind="guard" x="1353" y="783">!addOperator</label>
			<label kind="assignment" x="1353" y="800">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="800"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_removeC4DoneTimer</name>
		<declaration>int dummy_state_currentTime_$_time_$;
int dummy_state_c4Timer_$_t_$;
int dummy_state_io_input_link_$_fd_$;
int dummy_state_c4Timer_targetTime_$_t1_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[6];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_currentTime_$_time_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_c4Timer_$_t_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[3] = dummy_state_c4Timer_targetTime_$_t1_$;
	productions[productionIndex].savedTempAndFunction[4] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[5] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[3] == dummy_state_c4Timer_targetTime_$_t1_$ &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_c4Timer_$_t_$ &amp;&amp;
			productions[i].savedTempAndFunction[4] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[5] == dummy_state_io &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_currentTime_$_time_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 16) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 16;
	clearOperator(15);
}
</declaration>
		<location id="id329" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id330" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id331" x="-892" y="0">
			<committed/>
		</location>
		<location id="id332" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id333" x="-892" y="319">
			<committed/>
		</location>
		<location id="id334" x="-892" y="519">
			<committed/>
		</location>
		<location id="id335" x="-892" y="719">
			<committed/>
		</location>
		<location id="id336" x="-892" y="919">
			<committed/>
		</location>
		<location id="id337" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id338" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id339" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id340" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id341" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id342" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id343" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id344" x="588" y="0">
			<committed/>
		</location>
		<location id="id345" x="588" y="200">
			<committed/>
		</location>
		<location id="id346" x="588" y="400">
			<committed/>
		</location>
		<location id="id347" x="588" y="600">
			<committed/>
		</location>
		<location id="id348" x="588" y="800">
			<committed/>
		</location>
		<location id="id349" x="588" y="1000">
			<committed/>
		</location>
		<location id="id350" x="588" y="1200">
			<committed/>
		</location>
		<location id="id351" x="588" y="1400">
			<committed/>
		</location>
		<location id="id352" x="588" y="1600">
			<committed/>
		</location>
		<location id="id353" x="588" y="1800">
			<committed/>
		</location>
		<location id="id354" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id355" x="1328" y="0">
			<committed/>
		</location>
		<location id="id356" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id329"/>
		<transition>
			<source ref="id329"/>
			<target ref="id330"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(17),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id330"/>
			<target ref="id329"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 17 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id330"/>
			<target ref="id331"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 17</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = c4Timer,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id331"/>
			<target ref="id332"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id331"/>
			<target ref="id333"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[3],
attributeFunction = 0,
globalIdentifier = dummy_state_c4Timer_$_t_$,
globalAttribute = targetTime,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id333"/>
			<target ref="id332"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id333"/>
			<target ref="id334"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id334"/>
			<target ref="id332"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id334"/>
			<target ref="id335"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id335"/>
			<target ref="id332"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id335"/>
			<target ref="id336"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = isGreaterThanOrEqualTo,
globalValue = dummy_state_c4Timer_targetTime_$_t1_$,
attributeFunction = 0,
globalIdentifier = dummy_state_currentTime_$_time_$,
globalAttribute = extraRestriction,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id336"/>
			<target ref="id332"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id336"/>
			<target ref="id337"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id337"/>
			<target ref="id332"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id337"/>
			<target ref="id338"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[5],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id338"/>
			<target ref="id332"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id338"/>
			<target ref="id339"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[4],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id339"/>
			<target ref="id332"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id339"/>
			<target ref="id330"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id332"/>
			<target ref="id340"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 17</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_16,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id340"/>
			<target ref="id341"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = stopC4Timer,
attributeFunction = 0,
globalIdentifier = state_operator_16,
globalAttribute = name,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id341"/>
			<target ref="id342"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id342"/>
			<target ref="id330"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id329"/>
			<target ref="id343"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(17)</label>
		</transition>
		<transition>
			<source ref="id343"/>
			<target ref="id329"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id343"/>
			<target ref="id344"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 17 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = c4Timer,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id344"/>
			<target ref="id329"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id344"/>
			<target ref="id345"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_c4Timer_$_t_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_c4Timer_$_t_$,
globalAttribute = targetTime,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id345"/>
			<target ref="id344"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = c4Timer,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id345"/>
			<target ref="id346"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_c4Timer_targetTime_$_t1_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id346"/>
			<target ref="id345"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_c4Timer_$_t_$,
globalAttribute = targetTime,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id346"/>
			<target ref="id347"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id347"/>
			<target ref="id346"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id347"/>
			<target ref="id348"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">dummy_state_currentTime_$_time_$ = globalValue,
valueFunction = isGreaterThanOrEqualTo,
attributeFunction = 0,
globalIdentifier = dummy_state_currentTime_$_time_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_c4Timer_targetTime_$_t1_$,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id348"/>
			<target ref="id347"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id348"/>
			<target ref="id349"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id349"/>
			<target ref="id347"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id349"/>
			<target ref="id350"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id350"/>
			<target ref="id347"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id350"/>
			<target ref="id351"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id351"/>
			<target ref="id350"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id351"/>
			<target ref="id352"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">dummy_dummy_state_io_input_link = globalValue</label>
			<nail x="586" y="1419"/>
		</transition>
		<transition>
			<source ref="id352"/>
			<target ref="id353"/>
			<label kind="guard" x="613" y="1617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id353"/>
			<target ref="id350"/>
			<label kind="guard" x="-112" y="1980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="2014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
			<nail x="218" y="2000"/>
			<nail x="-152" y="2000"/>
		</transition>
		<transition>
			<source ref="id353"/>
			<target ref="id354"/>
			<label kind="guard" x="736" y="1983">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="2000">removeStackCondition(),
addToStackAction(17),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="2000"/>
			<nail x="958" y="2000"/>
		</transition>
		<transition>
			<source ref="id354"/>
			<target ref="id329"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id354"/>
			<target ref="id355"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 17</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_16,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id355"/>
			<target ref="id356"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_16,
globalAttribute = name,
globalValue = stopC4Timer,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id356"/>
			<target ref="id329"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[15].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_initializeCurrentTimers</name>
		<declaration>int dummy_state_maxTimers_$_mt_$;
const int NUMBER_OF_PRODUCTIONS = 1;
int currentNumFiringPerCycle = 0;
typedef struct {
	int savedTempAndFunction[1];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_maxTimers_$_mt_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_maxTimers_$_mt_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

</declaration>
		<location id="id357" x="-153" y="0">
			<name x="-201" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id358" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id359" x="-892" y="0">
			<committed/>
		</location>
		<location id="id360" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id361" x="-892" y="319">
			<committed/>
		</location>
		<location id="id362" x="-892" y="519">
			<committed/>
		</location>
		<location id="id363" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id364" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id365" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id366" x="588" y="0">
			<committed/>
		</location>
		<location id="id367" x="588" y="200">
			<committed/>
		</location>
		<location id="id368" x="588" y="400">
			<committed/>
		</location>
		<location id="id369" x="588" y="600">
			<committed/>
		</location>
		<location id="id370" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id371" x="1328" y="0">
			<committed/>
		</location>
		<location id="id372" x="-289" y="-34">
		</location>
		<init ref="id357"/>
		<transition>
			<source ref="id357"/>
			<target ref="id357"/>
			<label kind="guard" x="-442" y="110">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-442" y="93">Run_Rule?</label>
			<label kind="assignment" x="-433" y="153">currentNumFiringPerCycle = 0</label>
			<nail x="-272" y="110"/>
		</transition>
		<transition>
			<source ref="id372"/>
			<target ref="id358"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(18),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id358"/>
			<target ref="id357"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 18 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id358"/>
			<target ref="id359"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 18</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id359"/>
			<target ref="id360"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id359"/>
			<target ref="id361"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id361"/>
			<target ref="id360"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id361"/>
			<target ref="id362"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id362"/>
			<target ref="id360"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id362"/>
			<target ref="id358"/>
			<label kind="guard" x="-1234" y="375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="392">productionIndexTemp++</label>
			<nail x="-1237" y="519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id360"/>
			<target ref="id363"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 18</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id363"/>
			<target ref="id364"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id364"/>
			<target ref="id358"/>
			<label kind="guard" x="-1824" y="158">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="192">productionIndex--</label>
			<nail x="-1827" y="319"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id357"/>
			<target ref="id365"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(18)</label>
		</transition>
		<transition>
			<source ref="id365"/>
			<target ref="id357"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id365"/>
			<target ref="id366"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 18 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id366"/>
			<target ref="id357"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id366"/>
			<target ref="id367"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_maxTimers_$_mt_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id367"/>
			<target ref="id366"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id367"/>
			<target ref="id368"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="238">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = EMPTY,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id368"/>
			<target ref="id366"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id368"/>
			<target ref="id369"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id369"/>
			<target ref="id366"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id369"/>
			<target ref="id370"/>
			<label kind="guard" x="736" y="783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="800">removeStackCondition(),
addToStackAction(18),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="800"/>
			<nail x="958" y="800"/>
		</transition>
		<transition>
			<source ref="id370"/>
			<target ref="id357"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id370"/>
			<target ref="id371"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 18</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = 0,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id371"/>
			<target ref="id357"/>
			<label kind="guard" x="1353" y="-17">!addOperator</label>
			<label kind="assignment" x="1351" y="0">addOperator = false,
currentNumFiringPerCycle++,
removeStackAction(),
fillNextProduction()</label>
			<nail x="1698" y="0"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_commandToStartTimer</name>
		<declaration>int dummy_state_maxTimers_$_mT_$;
int dummy_state_currentTimers_$_cT_$;
const int NUMBER_OF_PRODUCTIONS = 1;
int currentNumFiringPerCycle = 0;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_maxTimers_$_mT_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_currentTimers_$_cT_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_maxTimers_$_mT_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_currentTimers_$_cT_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

</declaration>
		<location id="id373" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id374" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id375" x="-892" y="0">
			<committed/>
		</location>
		<location id="id376" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id377" x="-892" y="319">
			<committed/>
		</location>
		<location id="id378" x="-892" y="519">
			<committed/>
		</location>
		<location id="id379" x="-892" y="719">
			<committed/>
		</location>
		<location id="id380" x="-892" y="919">
			<committed/>
		</location>
		<location id="id381" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id382" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id383" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id384" x="-1632" y="719">
			<committed/>
		</location>
		<location id="id385" x="-1632" y="919">
			<committed/>
		</location>
		<location id="id386" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id387" x="588" y="0">
			<committed/>
		</location>
		<location id="id388" x="588" y="200">
			<committed/>
		</location>
		<location id="id389" x="588" y="400">
			<committed/>
		</location>
		<location id="id390" x="588" y="600">
			<committed/>
		</location>
		<location id="id391" x="588" y="800">
			<committed/>
		</location>
		<location id="id392" x="588" y="1000">
			<committed/>
		</location>
		<location id="id393" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id394" x="1328" y="0">
			<committed/>
		</location>
		<location id="id395" x="1328" y="200">
			<committed/>
		</location>
		<location id="id396" x="1328" y="400">
			<committed/>
		</location>
		<location id="id397" x="1328" y="600">
			<committed/>
		</location>
		<location id="id398" x="-425" y="119">
		</location>
		<init ref="id373"/>
		<transition>
			<source ref="id398"/>
			<target ref="id374"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(19),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id374"/>
			<target ref="id373"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 19 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id374"/>
			<target ref="id375"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 19</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id375"/>
			<target ref="id376"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id375"/>
			<target ref="id377"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id377"/>
			<target ref="id376"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id377"/>
			<target ref="id378"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = isLessThan,
globalValue = dummy_state_maxTimers_$_mT_$,
attributeFunction = 0,
globalIdentifier = dummy_state_currentTimers_$_cT_$,
globalAttribute = extraRestriction,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id378"/>
			<target ref="id376"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id378"/>
			<target ref="id379"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id379"/>
			<target ref="id376"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id379"/>
			<target ref="id380"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id380"/>
			<target ref="id376"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id380"/>
			<target ref="id374"/>
			<label kind="guard" x="-1234" y="775">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="792">productionIndexTemp++</label>
			<nail x="-1237" y="919"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id376"/>
			<target ref="id381"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 19</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = dummy_state_currentTimers_$_cT_$,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id381"/>
			<target ref="id382"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id382"/>
			<target ref="id383"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">valueFunction = remove,
globalValue = queryPop,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = sentCommand,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id383"/>
			<target ref="id384"/>
			<label kind="guard" x="-1607" y="536">!addOperator</label>
			<label kind="assignment" x="-1607" y="553">valueFunction = remove,
globalValue = 1,
attributeFunction = null,
globalIdentifier = _state,
globalAttribute = currentTimers,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id384"/>
			<target ref="id385"/>
			<label kind="guard" x="-1607" y="736">!addOperator</label>
			<label kind="assignment" x="-1607" y="753">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id385"/>
			<target ref="id374"/>
			<label kind="guard" x="-1824" y="758">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="792">productionIndex--</label>
			<nail x="-1827" y="919"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id373"/>
			<target ref="id386"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(19)</label>
		</transition>
		<transition>
			<source ref="id386"/>
			<target ref="id373"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id386"/>
			<target ref="id387"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 19 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id387"/>
			<target ref="id373"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id387"/>
			<target ref="id388"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_maxTimers_$_mT_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id388"/>
			<target ref="id387"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id388"/>
			<target ref="id389"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_currentTimers_$_cT_$ = globalValue,
valueFunction = isLessThan,
attributeFunction = 0,
globalIdentifier = dummy_state_currentTimers_$_cT_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_maxTimers_$_mT_$,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id389"/>
			<target ref="id388"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id389"/>
			<target ref="id390"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id390"/>
			<target ref="id388"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id390"/>
			<target ref="id391"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="637">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalValue = yes,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id391"/>
			<target ref="id388"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id391"/>
			<target ref="id392"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
			<nail x="595" y="816"/>
		</transition>
		<transition>
			<source ref="id392"/>
			<target ref="id388"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id392"/>
			<target ref="id393"/>
			<label kind="guard" x="736" y="1183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1200">removeStackCondition(),
addToStackAction(19),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1200"/>
			<nail x="958" y="1200"/>
		</transition>
		<transition>
			<source ref="id393"/>
			<target ref="id373"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id393"/>
			<target ref="id394"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 19</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = dummy_state_currentTimers_$_cT_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id394"/>
			<target ref="id395"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id395"/>
			<target ref="id396"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = sentCommand,
globalValue = queryPop,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id396"/>
			<target ref="id397"/>
			<label kind="guard" x="1353" y="417">!addOperator</label>
			<label kind="assignment" x="1353" y="434">valueFunction = addFunction,
attributeFunction = null,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = 1,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id397"/>
			<target ref="id373"/>
			<label kind="guard" x="1353" y="583">!addOperator</label>
			<label kind="assignment" x="1353" y="600">addOperator = false,
currentNumFiringPerCycle++,
removeStackAction(),
fillNextProduction()</label>
			<nail x="1698" y="600"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id373"/>
			<target ref="id373"/>
			<label kind="guard" x="-382" y="272">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-374" y="255">Run_Rule?</label>
			<label kind="assignment" x="-382" y="306">currentNumFiringPerCycle = 0</label>
			<nail x="-374" y="246"/>
			<nail x="-272" y="246"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_outOfTimeMarkContingency</name>
		<declaration>int dummy_state_maxTimers_$_mT_$;
int dummy_state_currentTimers_$_cT_$;
int dummy_state_addressedProblem_$_ap_$;
const int NUMBER_OF_PRODUCTIONS = 1;
int currentNumFiringPerCycle = 0;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_maxTimers_$_mT_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_currentTimers_$_cT_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_addressedProblem_$_ap_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[2] == dummy_state_addressedProblem_$_ap_$ &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_maxTimers_$_mT_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_currentTimers_$_cT_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

</declaration>
		<location id="id399" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id400" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id401" x="-892" y="0">
			<committed/>
		</location>
		<location id="id402" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id403" x="-892" y="319">
			<committed/>
		</location>
		<location id="id404" x="-892" y="519">
			<committed/>
		</location>
		<location id="id405" x="-892" y="719">
			<committed/>
		</location>
		<location id="id406" x="-892" y="919">
			<committed/>
		</location>
		<location id="id407" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id408" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id409" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id410" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id411" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id412" x="588" y="0">
			<committed/>
		</location>
		<location id="id413" x="588" y="200">
			<committed/>
		</location>
		<location id="id414" x="588" y="400">
			<committed/>
		</location>
		<location id="id415" x="588" y="600">
			<committed/>
		</location>
		<location id="id416" x="588" y="800">
			<committed/>
		</location>
		<location id="id417" x="588" y="1000">
			<committed/>
		</location>
		<location id="id418" x="588" y="1200">
			<committed/>
		</location>
		<location id="id419" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id420" x="1328" y="0">
			<committed/>
		</location>
		<location id="id421" x="1328" y="200">
			<committed/>
		</location>
		<location id="id422" x="-340" y="110">
		</location>
		<init ref="id399"/>
		<transition>
			<source ref="id422"/>
			<target ref="id400"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(20),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id400"/>
			<target ref="id399"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 20 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id400"/>
			<target ref="id401"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 20</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id401"/>
			<target ref="id402"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id401"/>
			<target ref="id403"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id403"/>
			<target ref="id402"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id403"/>
			<target ref="id404"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = isGreaterThanOrEqualTo,
globalValue = dummy_state_maxTimers_$_mT_$,
attributeFunction = 0,
globalIdentifier = dummy_state_currentTimers_$_cT_$,
globalAttribute = extraRestriction,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id404"/>
			<target ref="id402"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id404"/>
			<target ref="id405"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id405"/>
			<target ref="id402"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id405"/>
			<target ref="id406"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id406"/>
			<target ref="id402"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id406"/>
			<target ref="id407"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id407"/>
			<target ref="id402"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id407"/>
			<target ref="id400"/>
			<label kind="guard" x="-1234" y="975">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="992">productionIndexTemp++</label>
			<nail x="-1237" y="1119"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id402"/>
			<target ref="id408"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 20</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = dummy_state_addressedProblem_$_ap_$,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id408"/>
			<target ref="id409"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id409"/>
			<target ref="id410"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id410"/>
			<target ref="id400"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id399"/>
			<target ref="id411"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(20)</label>
		</transition>
		<transition>
			<source ref="id411"/>
			<target ref="id399"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id411"/>
			<target ref="id412"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 20 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id412"/>
			<target ref="id399"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id412"/>
			<target ref="id413"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_maxTimers_$_mT_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id413"/>
			<target ref="id412"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id413"/>
			<target ref="id414"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_currentTimers_$_cT_$ = globalValue,
valueFunction = isGreaterThanOrEqualTo,
attributeFunction = 0,
globalIdentifier = dummy_state_currentTimers_$_cT_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_maxTimers_$_mT_$,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id414"/>
			<target ref="id413"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id414"/>
			<target ref="id415"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id415"/>
			<target ref="id413"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id415"/>
			<target ref="id416"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">dummy_state_addressedProblem_$_ap_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id416"/>
			<target ref="id415"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id416"/>
			<target ref="id417"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="833">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalValue = yes,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id417"/>
			<target ref="id415"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id417"/>
			<target ref="id418"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id418"/>
			<target ref="id415"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = addressedProblem,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id418"/>
			<target ref="id419"/>
			<label kind="guard" x="736" y="1383">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1400">removeStackCondition(),
addToStackAction(20),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1400"/>
			<nail x="958" y="1400"/>
		</transition>
		<transition>
			<source ref="id419"/>
			<target ref="id399"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id419"/>
			<target ref="id420"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 20</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalValue = dummy_state_addressedProblem_$_ap_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id420"/>
			<target ref="id421"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id421"/>
			<target ref="id399"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id399"/>
			<target ref="id399"/>
			<label kind="guard" x="-314" y="246">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-314" y="221">Run_Rule?</label>
			<label kind="assignment" x="-314" y="289">currentNumFiringPerCycle = 0</label>
			<nail x="-161" y="8"/>
			<nail x="-314" y="204"/>
			<nail x="-195" y="204"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_turnAround</name>
		<declaration>int dummy_state_maxTimers_$_mT_$;
int dummy_state_currentTimers_$_cT_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_maxTimers_$_mT_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_currentTimers_$_cT_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_maxTimers_$_mT_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_currentTimers_$_cT_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 17) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 17;
	clearOperator(16);
}
</declaration>
		<location id="id423" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id424" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id425" x="-892" y="0">
			<committed/>
		</location>
		<location id="id426" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id427" x="-892" y="319">
			<committed/>
		</location>
		<location id="id428" x="-892" y="519">
			<committed/>
		</location>
		<location id="id429" x="-892" y="719">
			<committed/>
		</location>
		<location id="id430" x="-892" y="919">
			<committed/>
		</location>
		<location id="id431" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id432" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id433" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id434" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id435" x="588" y="0">
			<committed/>
		</location>
		<location id="id436" x="588" y="200">
			<committed/>
		</location>
		<location id="id437" x="588" y="400">
			<committed/>
		</location>
		<location id="id438" x="588" y="600">
			<committed/>
		</location>
		<location id="id439" x="588" y="800">
			<committed/>
		</location>
		<location id="id440" x="588" y="1000">
			<committed/>
		</location>
		<location id="id441" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id442" x="1328" y="0">
			<committed/>
		</location>
		<location id="id443" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id423"/>
		<transition>
			<source ref="id423"/>
			<target ref="id424"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(21),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id424"/>
			<target ref="id423"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 21 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id424"/>
			<target ref="id425"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 21</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id425"/>
			<target ref="id426"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id425"/>
			<target ref="id427"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id427"/>
			<target ref="id426"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id427"/>
			<target ref="id428"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = isGreaterThanOrEqualTo,
globalValue = dummy_state_maxTimers_$_mT_$,
attributeFunction = 0,
globalIdentifier = dummy_state_currentTimers_$_cT_$,
globalAttribute = extraRestriction,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id428"/>
			<target ref="id426"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id428"/>
			<target ref="id429"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id429"/>
			<target ref="id426"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id429"/>
			<target ref="id430"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id430"/>
			<target ref="id426"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id430"/>
			<target ref="id424"/>
			<label kind="guard" x="-1234" y="775">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="792">productionIndexTemp++</label>
			<nail x="-1237" y="919"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id426"/>
			<target ref="id431"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 21</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_17,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id431"/>
			<target ref="id432"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = turnAround,
attributeFunction = 0,
globalIdentifier = state_operator_17,
globalAttribute = name,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id432"/>
			<target ref="id433"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id433"/>
			<target ref="id424"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id423"/>
			<target ref="id434"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(21)</label>
		</transition>
		<transition>
			<source ref="id434"/>
			<target ref="id423"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id434"/>
			<target ref="id435"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 21 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id435"/>
			<target ref="id423"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id435"/>
			<target ref="id436"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_maxTimers_$_mT_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id436"/>
			<target ref="id435"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = maxTimers,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id436"/>
			<target ref="id437"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_currentTimers_$_cT_$ = globalValue,
valueFunction = isGreaterThanOrEqualTo,
attributeFunction = 0,
globalIdentifier = dummy_state_currentTimers_$_cT_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_maxTimers_$_mT_$,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id437"/>
			<target ref="id436"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id437"/>
			<target ref="id438"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id438"/>
			<target ref="id436"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id438"/>
			<target ref="id439"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id439"/>
			<target ref="id436"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id439"/>
			<target ref="id440"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
			<nail x="595" y="816"/>
		</transition>
		<transition>
			<source ref="id440"/>
			<target ref="id436"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = currentTimers,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id440"/>
			<target ref="id441"/>
			<label kind="guard" x="736" y="1183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1200">removeStackCondition(),
addToStackAction(21),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1200"/>
			<nail x="958" y="1200"/>
		</transition>
		<transition>
			<source ref="id441"/>
			<target ref="id423"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id441"/>
			<target ref="id442"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 21</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_17,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id442"/>
			<target ref="id443"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_17,
globalAttribute = name,
globalValue = turnAround,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id443"/>
			<target ref="id423"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[16].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_turnAround</name>
		<declaration>int dummy_state_operator_$_o_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[1];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id444" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id445" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id446" x="588" y="0">
			<committed/>
		</location>
		<location id="id447" x="588" y="200">
			<committed/>
		</location>
		<location id="id448" x="588" y="400">
			<committed/>
		</location>
		<location id="id449" x="588" y="600">
			<committed/>
		</location>
		<location id="id450" x="588" y="800">
			<committed/>
		</location>
		<location id="id451" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id452" x="1328" y="0">
			<committed/>
		</location>
		<location id="id453" x="1328" y="200">
			<committed/>
		</location>
		<location id="id454" x="1328" y="400">
			<committed/>
		</location>
		<init ref="id444"/>
		<transition>
			<source ref="id444"/>
			<target ref="id444"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id444"/>
			<target ref="id444"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id444"/>
			<target ref="id445"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(22)</label>
		</transition>
		<transition>
			<source ref="id445"/>
			<target ref="id444"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id445"/>
			<target ref="id446"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 22 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id446"/>
			<target ref="id444"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id446"/>
			<target ref="id447"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id447"/>
			<target ref="id446"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id447"/>
			<target ref="id448"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id448"/>
			<target ref="id446"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id448"/>
			<target ref="id449"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="433">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = turnAround,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id449"/>
			<target ref="id446"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id449"/>
			<target ref="id450"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id450"/>
			<target ref="id446"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id450"/>
			<target ref="id451"/>
			<label kind="guard" x="736" y="983">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1000">removeStackCondition(),
addToStackAction(22),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1000"/>
			<nail x="958" y="1000"/>
		</transition>
		<transition>
			<source ref="id451"/>
			<target ref="id444"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id451"/>
			<target ref="id452"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 22</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id452"/>
			<target ref="id453"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id453"/>
			<target ref="id454"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = sentCommand,
globalValue = reverse,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id454"/>
			<target ref="id444"/>
			<label kind="guard" x="1353" y="383">!addOperator</label>
			<label kind="assignment" x="1353" y="400">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="400"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_startTimer_lightlyPopulatedArea</name>
		<declaration>int dummy_state_currentTime_$_current_Time_$;
int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[4];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_currentTime_$_current_Time_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[3] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_state_io &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_currentTime_$_current_Time_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 1) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 1;
	clearOperator(0);
}
</declaration>
		<location id="id455" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id456" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id457" x="-892" y="0">
			<committed/>
		</location>
		<location id="id458" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id459" x="-892" y="319">
			<committed/>
		</location>
		<location id="id460" x="-892" y="519">
			<committed/>
		</location>
		<location id="id461" x="-892" y="719">
			<committed/>
		</location>
		<location id="id462" x="-892" y="919">
			<committed/>
		</location>
		<location id="id463" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id464" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id465" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id466" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id467" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id468" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id469" x="588" y="0">
			<committed/>
		</location>
		<location id="id470" x="588" y="200">
			<committed/>
		</location>
		<location id="id471" x="588" y="400">
			<committed/>
		</location>
		<location id="id472" x="588" y="600">
			<committed/>
		</location>
		<location id="id473" x="588" y="800">
			<committed/>
		</location>
		<location id="id474" x="588" y="1000">
			<committed/>
		</location>
		<location id="id475" x="588" y="1200">
			<committed/>
		</location>
		<location id="id476" x="588" y="1400">
			<committed/>
		</location>
		<location id="id477" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id478" x="1328" y="0">
			<committed/>
		</location>
		<location id="id479" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id455"/>
		<transition>
			<source ref="id455"/>
			<target ref="id456"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(23),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id456"/>
			<target ref="id455"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 23 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id456"/>
			<target ref="id457"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 23</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id457"/>
			<target ref="id458"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id457"/>
			<target ref="id459"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id459"/>
			<target ref="id458"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id459"/>
			<target ref="id460"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id460"/>
			<target ref="id458"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id460"/>
			<target ref="id461"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[3],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id461"/>
			<target ref="id458"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id461"/>
			<target ref="id462"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id462"/>
			<target ref="id458"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id462"/>
			<target ref="id463"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = lightly,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id463"/>
			<target ref="id458"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id463"/>
			<target ref="id464"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id464"/>
			<target ref="id458"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id464"/>
			<target ref="id456"/>
			<label kind="guard" x="-1234" y="1175">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1192">productionIndexTemp++</label>
			<nail x="-1237" y="1319"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id458"/>
			<target ref="id465"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 23</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_1,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id465"/>
			<target ref="id466"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = null,
attributeFunction = 60,
globalIdentifier = state_operator_1,
globalAttribute = targetTime,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id466"/>
			<target ref="id467"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id467"/>
			<target ref="id456"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id455"/>
			<target ref="id468"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(23)</label>
		</transition>
		<transition>
			<source ref="id468"/>
			<target ref="id455"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id468"/>
			<target ref="id469"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 23 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id469"/>
			<target ref="id455"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id469"/>
			<target ref="id470"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id470"/>
			<target ref="id469"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id470"/>
			<target ref="id471"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_currentTime_$_current_Time_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id471"/>
			<target ref="id470"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id471"/>
			<target ref="id472"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id472"/>
			<target ref="id470"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id472"/>
			<target ref="id473"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id473"/>
			<target ref="id472"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id473"/>
			<target ref="id474"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalValue = lightly,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id474"/>
			<target ref="id473"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id474"/>
			<target ref="id475"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1037">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id475"/>
			<target ref="id473"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id475"/>
			<target ref="id476"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id476"/>
			<target ref="id473"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id476"/>
			<target ref="id477"/>
			<label kind="guard" x="736" y="1583">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1600">removeStackCondition(),
addToStackAction(23),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1600"/>
			<nail x="958" y="1600"/>
		</transition>
		<transition>
			<source ref="id477"/>
			<target ref="id455"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id477"/>
			<target ref="id478"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 23</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_1,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id478"/>
			<target ref="id479"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = addFunction,
attributeFunction = 60,
globalIdentifier = state_operator_1,
globalAttribute = targetTime,
globalValue = null,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id479"/>
			<target ref="id455"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[0].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_startTimer_nullPopulatedArea</name>
		<declaration>int dummy_state_currentTime_$_current_Time_$;
int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[4];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_currentTime_$_current_Time_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[3] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_state_io &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_currentTime_$_current_Time_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 4) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 4;
	clearOperator(3);
}
</declaration>
		<location id="id480" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id481" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id482" x="-892" y="0">
			<committed/>
		</location>
		<location id="id483" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id484" x="-892" y="319">
			<committed/>
		</location>
		<location id="id485" x="-892" y="519">
			<committed/>
		</location>
		<location id="id486" x="-892" y="719">
			<committed/>
		</location>
		<location id="id487" x="-892" y="919">
			<committed/>
		</location>
		<location id="id488" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id489" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id490" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id491" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id492" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id493" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id494" x="588" y="0">
			<committed/>
		</location>
		<location id="id495" x="588" y="200">
			<committed/>
		</location>
		<location id="id496" x="588" y="400">
			<committed/>
		</location>
		<location id="id497" x="588" y="600">
			<committed/>
		</location>
		<location id="id498" x="588" y="800">
			<committed/>
		</location>
		<location id="id499" x="588" y="1000">
			<committed/>
		</location>
		<location id="id500" x="588" y="1200">
			<committed/>
		</location>
		<location id="id501" x="588" y="1400">
			<committed/>
		</location>
		<location id="id502" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id503" x="1328" y="0">
			<committed/>
		</location>
		<location id="id504" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id480"/>
		<transition>
			<source ref="id480"/>
			<target ref="id481"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(24),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id481"/>
			<target ref="id480"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 24 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id481"/>
			<target ref="id482"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 24</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id482"/>
			<target ref="id483"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id482"/>
			<target ref="id484"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id484"/>
			<target ref="id483"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id484"/>
			<target ref="id485"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id485"/>
			<target ref="id483"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id485"/>
			<target ref="id486"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[3],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id486"/>
			<target ref="id483"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id486"/>
			<target ref="id487"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = dummy_state_io,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id487"/>
			<target ref="id483"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id487"/>
			<target ref="id488"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = null,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id488"/>
			<target ref="id483"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id488"/>
			<target ref="id489"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id489"/>
			<target ref="id483"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id489"/>
			<target ref="id481"/>
			<label kind="guard" x="-1234" y="1175">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1192">productionIndexTemp++</label>
			<nail x="-1237" y="1319"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id483"/>
			<target ref="id490"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 24</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_4,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id490"/>
			<target ref="id491"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = null,
attributeFunction = 60,
globalIdentifier = state_operator_4,
globalAttribute = targetTime,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id491"/>
			<target ref="id492"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id492"/>
			<target ref="id481"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id480"/>
			<target ref="id493"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(24)</label>
		</transition>
		<transition>
			<source ref="id493"/>
			<target ref="id480"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id493"/>
			<target ref="id494"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 24 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id494"/>
			<target ref="id480"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id494"/>
			<target ref="id495"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id495"/>
			<target ref="id494"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id495"/>
			<target ref="id496"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_currentTime_$_current_Time_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id496"/>
			<target ref="id495"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id496"/>
			<target ref="id497"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id497"/>
			<target ref="id495"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id497"/>
			<target ref="id498"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id498"/>
			<target ref="id497"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id498"/>
			<target ref="id499"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalValue = null,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id499"/>
			<target ref="id498"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id499"/>
			<target ref="id500"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id500"/>
			<target ref="id498"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id500"/>
			<target ref="id501"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id501"/>
			<target ref="id498"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id501"/>
			<target ref="id502"/>
			<label kind="guard" x="736" y="1583">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1600">removeStackCondition(),
addToStackAction(24),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1600"/>
			<nail x="958" y="1600"/>
		</transition>
		<transition>
			<source ref="id502"/>
			<target ref="id480"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id502"/>
			<target ref="id503"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 24</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_4,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id503"/>
			<target ref="id504"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = addFunction,
attributeFunction = 60,
globalIdentifier = state_operator_4,
globalAttribute = targetTime,
globalValue = null,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id504"/>
			<target ref="id480"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[3].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_startTimer_lightlyPopulatedArea</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_state_operator_$_o_$;
int dummy_dummy_state_io_input_link;
int dummy_state_operator_targetTime_$_target_Time_$;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[5];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[3] = dummy_state_operator_targetTime_$_target_Time_$;
	productions[productionIndex].savedTempAndFunction[4] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_state_operator_targetTime_$_target_Time_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o_$ &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[4] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id505" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id506" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id507" x="588" y="0">
			<committed/>
		</location>
		<location id="id508" x="588" y="200">
			<committed/>
		</location>
		<location id="id509" x="588" y="400">
			<committed/>
		</location>
		<location id="id510" x="588" y="600">
			<committed/>
		</location>
		<location id="id511" x="588" y="800">
			<committed/>
		</location>
		<location id="id512" x="588" y="1000">
			<committed/>
		</location>
		<location id="id513" x="588" y="1200">
			<committed/>
		</location>
		<location id="id514" x="588" y="1400">
			<committed/>
		</location>
		<location id="id515" x="588" y="1600">
			<committed/>
		</location>
		<location id="id516" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id517" x="1328" y="0">
			<committed/>
		</location>
		<location id="id518" x="1328" y="200">
			<committed/>
		</location>
		<location id="id519" x="1328" y="400">
			<committed/>
		</location>
		<location id="id520" x="1328" y="600">
			<committed/>
		</location>
		<init ref="id505"/>
		<transition>
			<source ref="id505"/>
			<target ref="id505"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id505"/>
			<target ref="id505"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id505"/>
			<target ref="id506"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(25)</label>
		</transition>
		<transition>
			<source ref="id506"/>
			<target ref="id505"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id506"/>
			<target ref="id507"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 25 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id507"/>
			<target ref="id505"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id507"/>
			<target ref="id508"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id508"/>
			<target ref="id507"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id508"/>
			<target ref="id509"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = targetTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id509"/>
			<target ref="id508"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id509"/>
			<target ref="id510"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">dummy_state_operator_targetTime_$_target_Time_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id510"/>
			<target ref="id509"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = targetTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id510"/>
			<target ref="id511"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id511"/>
			<target ref="id509"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = targetTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id511"/>
			<target ref="id512"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id512"/>
			<target ref="id511"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id512"/>
			<target ref="id513"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalValue = lightly,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id513"/>
			<target ref="id512"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id513"/>
			<target ref="id514"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id514"/>
			<target ref="id512"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id514"/>
			<target ref="id515"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id515"/>
			<target ref="id512"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id515"/>
			<target ref="id516"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(25),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id516"/>
			<target ref="id505"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id516"/>
			<target ref="id517"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 25</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalValue = lightly,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id517"/>
			<target ref="id518"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = state_timer_1,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id518"/>
			<target ref="id519"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = flewOverPopulatedArea,
globalValue = no,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id519"/>
			<target ref="id520"/>
			<label kind="guard" x="1353" y="417">!addOperator</label>
			<label kind="assignment" x="1353" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_timer_1,
globalAttribute = targetTime,
globalValue = dummy_state_operator_targetTime_$_target_Time_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id520"/>
			<target ref="id505"/>
			<label kind="guard" x="1353" y="583">!addOperator</label>
			<label kind="assignment" x="1353" y="600">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="600"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_startTimer_nullPopulatedArea</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_state_operator_$_o_$;
int dummy_dummy_state_io_input_link;
int dummy_state_operator_targetTime_$_target_Time_$;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[5];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[3] = dummy_state_operator_targetTime_$_target_Time_$;
	productions[productionIndex].savedTempAndFunction[4] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_state_operator_targetTime_$_target_Time_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o_$ &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[4] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id521" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id522" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id523" x="588" y="0">
			<committed/>
		</location>
		<location id="id524" x="588" y="200">
			<committed/>
		</location>
		<location id="id525" x="588" y="400">
			<committed/>
		</location>
		<location id="id526" x="588" y="600">
			<committed/>
		</location>
		<location id="id527" x="588" y="800">
			<committed/>
		</location>
		<location id="id528" x="588" y="1000">
			<committed/>
		</location>
		<location id="id529" x="588" y="1200">
			<committed/>
		</location>
		<location id="id530" x="588" y="1400">
			<committed/>
		</location>
		<location id="id531" x="588" y="1600">
			<committed/>
		</location>
		<location id="id532" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id533" x="1328" y="0">
			<committed/>
		</location>
		<location id="id534" x="1328" y="200">
			<committed/>
		</location>
		<location id="id535" x="1328" y="400">
			<committed/>
		</location>
		<location id="id536" x="1328" y="600">
			<committed/>
		</location>
		<init ref="id521"/>
		<transition>
			<source ref="id521"/>
			<target ref="id521"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id521"/>
			<target ref="id521"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id521"/>
			<target ref="id522"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(26)</label>
		</transition>
		<transition>
			<source ref="id522"/>
			<target ref="id521"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id522"/>
			<target ref="id523"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 26 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id523"/>
			<target ref="id521"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id523"/>
			<target ref="id524"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id524"/>
			<target ref="id523"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id524"/>
			<target ref="id525"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = targetTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id525"/>
			<target ref="id524"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id525"/>
			<target ref="id526"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">dummy_state_operator_targetTime_$_target_Time_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id526"/>
			<target ref="id525"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = targetTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id526"/>
			<target ref="id527"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id527"/>
			<target ref="id525"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = targetTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id527"/>
			<target ref="id528"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id528"/>
			<target ref="id527"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id528"/>
			<target ref="id529"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalValue = null,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id529"/>
			<target ref="id528"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id529"/>
			<target ref="id530"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id530"/>
			<target ref="id528"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id530"/>
			<target ref="id531"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id531"/>
			<target ref="id528"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id531"/>
			<target ref="id532"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(26),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id532"/>
			<target ref="id521"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id532"/>
			<target ref="id533"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 26</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalValue = null,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id533"/>
			<target ref="id534"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = state_timer_2,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id534"/>
			<target ref="id535"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = flewOverPopulatedArea,
globalValue = no,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id535"/>
			<target ref="id536"/>
			<label kind="guard" x="1353" y="417">!addOperator</label>
			<label kind="assignment" x="1353" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_timer_2,
globalAttribute = targetTime,
globalValue = dummy_state_operator_targetTime_$_target_Time_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id536"/>
			<target ref="id521"/>
			<label kind="guard" x="1353" y="583">!addOperator</label>
			<label kind="assignment" x="1353" y="600">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="600"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_didFlyOverPopulatedArea</name>
		<declaration>int dummy_state_timer_$_t_$;
int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[4];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_timer_$_t_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[3] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_timer_$_t_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 2) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 2;
	clearOperator(1);
}
</declaration>
		<location id="id537" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id538" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id539" x="-892" y="0">
			<committed/>
		</location>
		<location id="id540" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id541" x="-892" y="319">
			<committed/>
		</location>
		<location id="id542" x="-892" y="519">
			<committed/>
		</location>
		<location id="id543" x="-892" y="719">
			<committed/>
		</location>
		<location id="id544" x="-892" y="919">
			<committed/>
		</location>
		<location id="id545" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id546" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id547" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id548" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id549" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id550" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id551" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id552" x="588" y="0">
			<committed/>
		</location>
		<location id="id553" x="588" y="200">
			<committed/>
		</location>
		<location id="id554" x="588" y="400">
			<committed/>
		</location>
		<location id="id555" x="588" y="600">
			<committed/>
		</location>
		<location id="id556" x="588" y="800">
			<committed/>
		</location>
		<location id="id557" x="588" y="1000">
			<committed/>
		</location>
		<location id="id558" x="588" y="1200">
			<committed/>
		</location>
		<location id="id559" x="588" y="1400">
			<committed/>
		</location>
		<location id="id560" x="588" y="1600">
			<committed/>
		</location>
		<location id="id561" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id562" x="1328" y="0">
			<committed/>
		</location>
		<location id="id563" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id537"/>
		<transition>
			<source ref="id537"/>
			<target ref="id538"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(27),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id538"/>
			<target ref="id537"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 27 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id538"/>
			<target ref="id539"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 27</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id539"/>
			<target ref="id540"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id539"/>
			<target ref="id541"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id541"/>
			<target ref="id540"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id541"/>
			<target ref="id542"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id542"/>
			<target ref="id540"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id542"/>
			<target ref="id543"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = no,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = flewOverPopulatedArea,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id543"/>
			<target ref="id540"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id543"/>
			<target ref="id544"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[3],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id544"/>
			<target ref="id540"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id544"/>
			<target ref="id545"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id545"/>
			<target ref="id540"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id545"/>
			<target ref="id546"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id546"/>
			<target ref="id540"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id546"/>
			<target ref="id547"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = fully,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id547"/>
			<target ref="id540"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id547"/>
			<target ref="id538"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id540"/>
			<target ref="id548"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 27</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_2,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id548"/>
			<target ref="id549"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = turnAroundEmergency,
attributeFunction = 0,
globalIdentifier = state_operator_2,
globalAttribute = name,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id549"/>
			<target ref="id550"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id550"/>
			<target ref="id538"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id537"/>
			<target ref="id551"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(27)</label>
		</transition>
		<transition>
			<source ref="id551"/>
			<target ref="id537"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id551"/>
			<target ref="id552"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 27 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id552"/>
			<target ref="id537"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id552"/>
			<target ref="id553"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_timer_$_t_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id553"/>
			<target ref="id552"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id553"/>
			<target ref="id554"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id554"/>
			<target ref="id553"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id554"/>
			<target ref="id555"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = flewOverPopulatedArea,
globalValue = no,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id555"/>
			<target ref="id553"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id555"/>
			<target ref="id556"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id556"/>
			<target ref="id553"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id556"/>
			<target ref="id557"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id557"/>
			<target ref="id556"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id557"/>
			<target ref="id558"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id558"/>
			<target ref="id557"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id558"/>
			<target ref="id559"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = fully,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id559"/>
			<target ref="id557"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id559"/>
			<target ref="id560"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id560"/>
			<target ref="id557"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id560"/>
			<target ref="id561"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(27),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id561"/>
			<target ref="id537"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id561"/>
			<target ref="id562"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 27</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_2,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id562"/>
			<target ref="id563"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_2,
globalAttribute = name,
globalValue = turnAroundEmergency,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id563"/>
			<target ref="id537"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[1].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_removeTimerAfterFlyingOverPopulatedArea</name>
		<declaration>int dummy_state_timer_$_t_$;
int dummy_state_operator_$_o_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_timer_$_t_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_timer_$_t_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id564" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id565" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id566" x="588" y="0">
			<committed/>
		</location>
		<location id="id567" x="588" y="200">
			<committed/>
		</location>
		<location id="id568" x="588" y="400">
			<committed/>
		</location>
		<location id="id569" x="588" y="600">
			<committed/>
		</location>
		<location id="id570" x="588" y="800">
			<committed/>
		</location>
		<location id="id571" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id572" x="1328" y="0">
			<committed/>
		</location>
		<init ref="id564"/>
		<transition>
			<source ref="id564"/>
			<target ref="id564"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id564"/>
			<target ref="id564"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id564"/>
			<target ref="id565"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(28)</label>
		</transition>
		<transition>
			<source ref="id565"/>
			<target ref="id564"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id565"/>
			<target ref="id566"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 28 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id566"/>
			<target ref="id564"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id566"/>
			<target ref="id567"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id567"/>
			<target ref="id566"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id567"/>
			<target ref="id568"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_timer_$_t_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id568"/>
			<target ref="id567"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id568"/>
			<target ref="id569"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = turnAroundEmergency,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id569"/>
			<target ref="id567"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id569"/>
			<target ref="id570"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id570"/>
			<target ref="id567"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id570"/>
			<target ref="id571"/>
			<label kind="guard" x="736" y="983">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1000">removeStackCondition(),
addToStackAction(28),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="595" y="816"/>
			<nail x="711" y="1000"/>
			<nail x="958" y="1000"/>
		</transition>
		<transition>
			<source ref="id571"/>
			<target ref="id564"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id571"/>
			<target ref="id572"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 28</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = dummy_state_timer_$_t_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id572"/>
			<target ref="id564"/>
			<label kind="guard" x="1353" y="-17">!addOperator</label>
			<label kind="assignment" x="1353" y="0">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="0"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_removeWillBeInPopulatedAreaFully</name>
		<declaration>int dummy_state_operator_$_o_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[1];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id573" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id574" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id575" x="588" y="0">
			<committed/>
		</location>
		<location id="id576" x="588" y="200">
			<committed/>
		</location>
		<location id="id577" x="588" y="400">
			<committed/>
		</location>
		<location id="id578" x="588" y="600">
			<committed/>
		</location>
		<location id="id579" x="588" y="800">
			<committed/>
		</location>
		<location id="id580" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id581" x="1328" y="0">
			<committed/>
		</location>
		<init ref="id573"/>
		<transition>
			<source ref="id573"/>
			<target ref="id573"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id573"/>
			<target ref="id573"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id573"/>
			<target ref="id574"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(29)</label>
		</transition>
		<transition>
			<source ref="id574"/>
			<target ref="id573"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id574"/>
			<target ref="id575"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 29 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id575"/>
			<target ref="id573"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id575"/>
			<target ref="id576"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id576"/>
			<target ref="id575"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id576"/>
			<target ref="id577"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalValue = fully,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id577"/>
			<target ref="id575"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id577"/>
			<target ref="id578"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = turnAroundEmergency,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id578"/>
			<target ref="id575"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id578"/>
			<target ref="id579"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id579"/>
			<target ref="id575"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id579"/>
			<target ref="id580"/>
			<label kind="guard" x="736" y="983">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1000">removeStackCondition(),
addToStackAction(29),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1000"/>
			<nail x="958" y="1000"/>
		</transition>
		<transition>
			<source ref="id580"/>
			<target ref="id573"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id580"/>
			<target ref="id581"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 29</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalValue = fully,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id581"/>
			<target ref="id573"/>
			<label kind="guard" x="1353" y="-17">!addOperator</label>
			<label kind="assignment" x="1353" y="0">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="0"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_returnToBase_populated</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 7) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 7;
	clearOperator(6);
}
</declaration>
		<location id="id582" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id583" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id584" x="-892" y="0">
			<committed/>
		</location>
		<location id="id585" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id586" x="-892" y="319">
			<committed/>
		</location>
		<location id="id587" x="-892" y="519">
			<committed/>
		</location>
		<location id="id588" x="-892" y="719">
			<committed/>
		</location>
		<location id="id589" x="-892" y="919">
			<committed/>
		</location>
		<location id="id590" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id591" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id592" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id593" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id594" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id595" x="588" y="0">
			<committed/>
		</location>
		<location id="id596" x="588" y="200">
			<committed/>
		</location>
		<location id="id597" x="588" y="400">
			<committed/>
		</location>
		<location id="id598" x="588" y="600">
			<committed/>
		</location>
		<location id="id599" x="588" y="800">
			<committed/>
		</location>
		<location id="id600" x="588" y="1000">
			<committed/>
		</location>
		<location id="id601" x="588" y="1200">
			<committed/>
		</location>
		<location id="id602" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id603" x="1328" y="0">
			<committed/>
		</location>
		<location id="id604" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id582"/>
		<transition>
			<source ref="id582"/>
			<target ref="id583"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(30),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id583"/>
			<target ref="id582"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 30 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id583"/>
			<target ref="id584"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 30</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id584"/>
			<target ref="id585"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id584"/>
			<target ref="id586"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id586"/>
			<target ref="id585"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id586"/>
			<target ref="id587"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id587"/>
			<target ref="id585"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id587"/>
			<target ref="id588"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_state_io,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id588"/>
			<target ref="id585"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id588"/>
			<target ref="id589"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = fully,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id589"/>
			<target ref="id585"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id589"/>
			<target ref="id590"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id590"/>
			<target ref="id585"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id590"/>
			<target ref="id583"/>
			<label kind="guard" x="-1234" y="975">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="992">productionIndexTemp++</label>
			<nail x="-1237" y="1119"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id585"/>
			<target ref="id591"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 30</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_7,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id591"/>
			<target ref="id592"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = turnAroundEmergency,
attributeFunction = 0,
globalIdentifier = state_operator_7,
globalAttribute = name,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id592"/>
			<target ref="id593"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id593"/>
			<target ref="id583"/>
			<label kind="guard" x="-1824" y="358">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="392">productionIndex--</label>
			<nail x="-1827" y="519"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id582"/>
			<target ref="id594"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(30)</label>
		</transition>
		<transition>
			<source ref="id594"/>
			<target ref="id582"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id594"/>
			<target ref="id595"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 30 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id595"/>
			<target ref="id582"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id595"/>
			<target ref="id596"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id596"/>
			<target ref="id595"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id596"/>
			<target ref="id597"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id597"/>
			<target ref="id595"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id597"/>
			<target ref="id598"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id598"/>
			<target ref="id597"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id598"/>
			<target ref="id599"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = willBeInPopulatedArea,
globalValue = fully,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id599"/>
			<target ref="id598"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id599"/>
			<target ref="id600"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="833">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id600"/>
			<target ref="id598"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id600"/>
			<target ref="id601"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id601"/>
			<target ref="id598"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id601"/>
			<target ref="id602"/>
			<label kind="guard" x="736" y="1383">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1400">removeStackCondition(),
addToStackAction(30),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1400"/>
			<nail x="958" y="1400"/>
		</transition>
		<transition>
			<source ref="id602"/>
			<target ref="id582"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id602"/>
			<target ref="id603"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 30</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_7,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id603"/>
			<target ref="id604"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_7,
globalAttribute = name,
globalValue = turnAroundEmergency,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id604"/>
			<target ref="id582"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
operators[6].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_returnToBase_emergency</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_state_operator_$_o_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[4];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[3] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o_$ &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id605" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id606" x="212" y="0">
			<name x="122" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id607" x="588" y="0">
			<committed/>
		</location>
		<location id="id608" x="588" y="200">
			<committed/>
		</location>
		<location id="id609" x="588" y="400">
			<committed/>
		</location>
		<location id="id610" x="588" y="600">
			<committed/>
		</location>
		<location id="id611" x="588" y="800">
			<committed/>
		</location>
		<location id="id612" x="588" y="1000">
			<committed/>
		</location>
		<location id="id613" x="588" y="1200">
			<committed/>
		</location>
		<location id="id614" x="588" y="1400">
			<committed/>
		</location>
		<location id="id615" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id616" x="1328" y="0">
			<committed/>
		</location>
		<location id="id617" x="1328" y="200">
			<committed/>
		</location>
		<init ref="id605"/>
		<transition>
			<source ref="id605"/>
			<target ref="id605"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id605"/>
			<target ref="id605"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id605"/>
			<target ref="id606"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(31)</label>
		</transition>
		<transition>
			<source ref="id606"/>
			<target ref="id605"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id606"/>
			<target ref="id607"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 31 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id607"/>
			<target ref="id605"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id607"/>
			<target ref="id608"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id608"/>
			<target ref="id607"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id608"/>
			<target ref="id609"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_operator_$_o_$ = getOperatorFromID(globalValue - 1),
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id609"/>
			<target ref="id608"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id609"/>
			<target ref="id610"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id610"/>
			<target ref="id608"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id610"/>
			<target ref="id611"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id611"/>
			<target ref="id610"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id611"/>
			<target ref="id612"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id612"/>
			<target ref="id611"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id612"/>
			<target ref="id613"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1037">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o_$,
globalAttribute = name,
globalValue = turnAroundEmergency,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id613"/>
			<target ref="id611"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id613"/>
			<target ref="id614"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id614"/>
			<target ref="id611"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id614"/>
			<target ref="id615"/>
			<label kind="guard" x="736" y="1583">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1600">removeStackCondition(),
addToStackAction(31),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1600"/>
			<nail x="958" y="1600"/>
		</transition>
		<transition>
			<source ref="id615"/>
			<target ref="id605"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id615"/>
			<target ref="id616"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 31</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = flewOverPopulatedArea,
globalValue = no,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id616"/>
			<target ref="id617"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = sentCommand,
globalValue = reverse,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id617"/>
			<target ref="id605"/>
			<label kind="guard" x="1353" y="183">!addOperator</label>
			<label kind="assignment" x="1353" y="200">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="200"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_apply_timer_done_execute</name>
		<declaration>int dummy_state_operator_targetTime_$_target_time_$;
int dummy_state_currentTime_$_time_$;
int dummy_state_timer_$_t_$;
int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;
int currentNumFiringPerCycle = 0;

typedef struct {
	int savedTempAndFunction[6];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_targetTime_$_target_time_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_currentTime_$_time_$;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_timer_$_t_$;
	productions[productionIndex].savedTempAndFunction[3] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[4] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[5] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[2] == dummy_state_timer_$_t_$ &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_operator_targetTime_$_target_time_$ &amp;&amp;
			productions[i].savedTempAndFunction[3] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[4] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[5] == dummy_state_io &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_state_currentTime_$_time_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

</declaration>
		<location id="id618" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id619" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id620" x="-892" y="0">
			<committed/>
		</location>
		<location id="id621" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id622" x="-892" y="319">
			<committed/>
		</location>
		<location id="id623" x="-892" y="519">
			<committed/>
		</location>
		<location id="id624" x="-892" y="719">
			<committed/>
		</location>
		<location id="id625" x="-892" y="919">
			<committed/>
		</location>
		<location id="id626" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id627" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id628" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id629" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id630" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id631" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id632" x="-1632" y="719">
			<committed/>
		</location>
		<location id="id633" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id634" x="588" y="0">
			<committed/>
		</location>
		<location id="id635" x="588" y="200">
			<committed/>
		</location>
		<location id="id636" x="588" y="400">
			<committed/>
		</location>
		<location id="id637" x="588" y="600">
			<committed/>
		</location>
		<location id="id638" x="588" y="800">
			<committed/>
		</location>
		<location id="id639" x="588" y="1000">
			<committed/>
		</location>
		<location id="id640" x="588" y="1200">
			<committed/>
		</location>
		<location id="id641" x="588" y="1400">
			<committed/>
		</location>
		<location id="id642" x="588" y="1600">
			<committed/>
		</location>
		<location id="id643" x="588" y="1800">
			<committed/>
		</location>
		<location id="id644" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id645" x="1328" y="0">
			<committed/>
		</location>
		<location id="id646" x="1328" y="200">
			<committed/>
		</location>
		<location id="id647" x="1328" y="400">
			<committed/>
		</location>
		<location id="id648" x="-374" y="93">
		</location>
		<init ref="id618"/>
		<transition>
			<source ref="id648"/>
			<target ref="id619"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(32),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id619"/>
			<target ref="id618"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 32 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id619"/>
			<target ref="id620"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 32</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id620"/>
			<target ref="id621"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id620"/>
			<target ref="id622"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[3],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id622"/>
			<target ref="id621"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id622"/>
			<target ref="id623"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_state_timer_$_t_$,
globalAttribute = targetTime,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id623"/>
			<target ref="id621"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id623"/>
			<target ref="id624"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id624"/>
			<target ref="id621"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id624"/>
			<target ref="id625"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = isGreaterThanOrEqualTo,
globalValue = dummy_state_operator_targetTime_$_target_time_$,
attributeFunction = 0,
globalIdentifier = dummy_state_currentTime_$_time_$,
globalAttribute = extraRestriction,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id625"/>
			<target ref="id621"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id625"/>
			<target ref="id626"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id626"/>
			<target ref="id621"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id626"/>
			<target ref="id627"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[5],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id627"/>
			<target ref="id621"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id627"/>
			<target ref="id628"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[4],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id628"/>
			<target ref="id621"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id628"/>
			<target ref="id619"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id621"/>
			<target ref="id629"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 32</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = no,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = flewOverPopulatedArea,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id629"/>
			<target ref="id630"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = dummy_state_timer_$_t_$,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id630"/>
			<target ref="id631"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">valueFunction = remove,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id631"/>
			<target ref="id632"/>
			<label kind="guard" x="-1607" y="536">!addOperator</label>
			<label kind="assignment" x="-1607" y="553">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id632"/>
			<target ref="id619"/>
			<label kind="guard" x="-1824" y="558">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="592">productionIndex--</label>
			<nail x="-1827" y="719"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id618"/>
			<target ref="id633"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(32)</label>
		</transition>
		<transition>
			<source ref="id633"/>
			<target ref="id618"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id633"/>
			<target ref="id634"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 32 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id634"/>
			<target ref="id618"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id634"/>
			<target ref="id635"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_timer_$_t_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id635"/>
			<target ref="id634"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id635"/>
			<target ref="id636"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_timer_$_t_$,
globalAttribute = targetTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id636"/>
			<target ref="id635"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id636"/>
			<target ref="id637"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">dummy_state_operator_targetTime_$_target_time_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id637"/>
			<target ref="id636"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_timer_$_t_$,
globalAttribute = targetTime,
globalValue = nilAnything,
lookAheadIndex = 2,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id637"/>
			<target ref="id638"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">dummy_state_currentTime_$_time_$ = globalValue,
valueFunction = isGreaterThanOrEqualTo,
attributeFunction = 0,
globalIdentifier = dummy_state_currentTime_$_time_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_operator_targetTime_$_target_time_$,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id638"/>
			<target ref="id637"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id638"/>
			<target ref="id639"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id639"/>
			<target ref="id637"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id639"/>
			<target ref="id640"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id640"/>
			<target ref="id637"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = nilAnything,
lookAheadIndex = 3,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id640"/>
			<target ref="id641"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id641"/>
			<target ref="id640"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id641"/>
			<target ref="id642"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">dummy_dummy_state_io_input_link = globalValue</label>
		</transition>
		<transition>
			<source ref="id642"/>
			<target ref="id643"/>
			<label kind="guard" x="613" y="1617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id643"/>
			<target ref="id640"/>
			<label kind="guard" x="-112" y="1980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="2014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 6,
globalDoesContain = 0</label>
			<nail x="218" y="2000"/>
			<nail x="-152" y="2000"/>
		</transition>
		<transition>
			<source ref="id643"/>
			<target ref="id644"/>
			<label kind="guard" x="736" y="1983">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="2000">removeStackCondition(),
addToStackAction(32),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="2000"/>
			<nail x="958" y="2000"/>
		</transition>
		<transition>
			<source ref="id644"/>
			<target ref="id618"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id644"/>
			<target ref="id645"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 32</label>
			<label kind="assignment" x="978" y="8">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = flewOverPopulatedArea,
globalValue = no,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id645"/>
			<target ref="id646"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = remove,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = timer,
globalValue = dummy_state_timer_$_t_$,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id646"/>
			<target ref="id647"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startNewTimer,
globalValue = yes,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id647"/>
			<target ref="id618"/>
			<label kind="guard" x="1353" y="383">!addOperator</label>
			<label kind="assignment" x="1353" y="400">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
fillNextProduction()</label>
			<nail x="1698" y="400"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id618"/>
			<target ref="id618"/>
			<label kind="guard" x="-357" y="204">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-357" y="178">Run_Rule?</label>
			<label kind="assignment" x="-357" y="246">currentNumFiringPerCycle = 0</label>
			<nail x="-382" y="170"/>
			<nail x="-229" y="170"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_operator_C6_Lost_Link_Start_lightly</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 6) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 6;
	clearOperator(5);
}
</declaration>
		<location id="id649" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id650" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id651" x="-892" y="0">
			<committed/>
		</location>
		<location id="id652" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id653" x="-892" y="319">
			<committed/>
		</location>
		<location id="id654" x="-892" y="519">
			<committed/>
		</location>
		<location id="id655" x="-892" y="719">
			<committed/>
		</location>
		<location id="id656" x="-892" y="919">
			<committed/>
		</location>
		<location id="id657" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id658" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id659" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id660" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id661" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id662" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id663" x="-1632" y="719">
			<committed/>
		</location>
		<location id="id664" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id665" x="588" y="0">
			<committed/>
		</location>
		<location id="id666" x="588" y="200">
			<committed/>
		</location>
		<location id="id667" x="588" y="400">
			<committed/>
		</location>
		<location id="id668" x="588" y="600">
			<committed/>
		</location>
		<location id="id669" x="588" y="800">
			<committed/>
		</location>
		<location id="id670" x="588" y="1000">
			<committed/>
		</location>
		<location id="id671" x="588" y="1200">
			<committed/>
		</location>
		<location id="id672" x="588" y="1400">
			<committed/>
		</location>
		<location id="id673" x="588" y="1600">
			<committed/>
		</location>
		<location id="id674" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id675" x="1328" y="0">
			<committed/>
		</location>
		<location id="id676" x="1328" y="200">
			<committed/>
		</location>
		<location id="id677" x="1328" y="400">
			<committed/>
		</location>
		<init ref="id649"/>
		<transition>
			<source ref="id649"/>
			<target ref="id650"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(33),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id650"/>
			<target ref="id649"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 33 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id650"/>
			<target ref="id651"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 33</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id651"/>
			<target ref="id652"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id651"/>
			<target ref="id653"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id653"/>
			<target ref="id652"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id653"/>
			<target ref="id654"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id654"/>
			<target ref="id652"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id654"/>
			<target ref="id655"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id655"/>
			<target ref="id652"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id655"/>
			<target ref="id656"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id656"/>
			<target ref="id652"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id656"/>
			<target ref="id657"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id657"/>
			<target ref="id652"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id657"/>
			<target ref="id658"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id658"/>
			<target ref="id652"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id658"/>
			<target ref="id659"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = lightly,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id659"/>
			<target ref="id652"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id659"/>
			<target ref="id650"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id652"/>
			<target ref="id660"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 33</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_6,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id660"/>
			<target ref="id661"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = C6_Start,
attributeFunction = 0,
globalIdentifier = state_operator_6,
globalAttribute = name,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id661"/>
			<target ref="id662"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">valueFunction = remove,
globalValue = 2,
attributeFunction = 0,
globalIdentifier = state_operator_6,
globalAttribute = timerLength,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id662"/>
			<target ref="id663"/>
			<label kind="guard" x="-1607" y="536">!addOperator</label>
			<label kind="assignment" x="-1607" y="553">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id663"/>
			<target ref="id650"/>
			<label kind="guard" x="-1824" y="558">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="592">productionIndex--</label>
			<nail x="-1827" y="719"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id649"/>
			<target ref="id664"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(33)</label>
		</transition>
		<transition>
			<source ref="id664"/>
			<target ref="id649"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id664"/>
			<target ref="id665"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 33 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id665"/>
			<target ref="id649"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id665"/>
			<target ref="id666"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id666"/>
			<target ref="id665"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id666"/>
			<target ref="id667"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id667"/>
			<target ref="id665"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id667"/>
			<target ref="id668"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalValue = EMPTY,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id668"/>
			<target ref="id665"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id668"/>
			<target ref="id669"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id669"/>
			<target ref="id665"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id669"/>
			<target ref="id670"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id670"/>
			<target ref="id669"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id670"/>
			<target ref="id671"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id671"/>
			<target ref="id670"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id671"/>
			<target ref="id672"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = lightly,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id672"/>
			<target ref="id670"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id672"/>
			<target ref="id673"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id673"/>
			<target ref="id670"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id673"/>
			<target ref="id674"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(33),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="595" y="1615"/>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id674"/>
			<target ref="id649"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id674"/>
			<target ref="id675"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 33</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_6,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id675"/>
			<target ref="id676"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_6,
globalAttribute = name,
globalValue = C6_Start,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id676"/>
			<target ref="id677"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_6,
globalAttribute = timerLength,
globalValue = 2,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id677"/>
			<target ref="id649"/>
			<label kind="guard" x="1353" y="383">!addOperator</label>
			<label kind="assignment" x="1353" y="400">addOperator = false,
removeStackAction(),
operators[5].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="400"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_operator_C6_Lost_Link_Start_fully</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 10) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 10;
	clearOperator(9);
}
</declaration>
		<location id="id678" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id679" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id680" x="-892" y="0">
			<committed/>
		</location>
		<location id="id681" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id682" x="-892" y="319">
			<committed/>
		</location>
		<location id="id683" x="-892" y="519">
			<committed/>
		</location>
		<location id="id684" x="-892" y="719">
			<committed/>
		</location>
		<location id="id685" x="-892" y="919">
			<committed/>
		</location>
		<location id="id686" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id687" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id688" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id689" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id690" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id691" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id692" x="-1632" y="719">
			<committed/>
		</location>
		<location id="id693" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id694" x="588" y="0">
			<committed/>
		</location>
		<location id="id695" x="588" y="200">
			<committed/>
		</location>
		<location id="id696" x="588" y="400">
			<committed/>
		</location>
		<location id="id697" x="588" y="600">
			<committed/>
		</location>
		<location id="id698" x="588" y="800">
			<committed/>
		</location>
		<location id="id699" x="588" y="1000">
			<committed/>
		</location>
		<location id="id700" x="588" y="1200">
			<committed/>
		</location>
		<location id="id701" x="588" y="1400">
			<committed/>
		</location>
		<location id="id702" x="588" y="1600">
			<committed/>
		</location>
		<location id="id703" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id704" x="1328" y="0">
			<committed/>
		</location>
		<location id="id705" x="1328" y="200">
			<committed/>
		</location>
		<location id="id706" x="1328" y="400">
			<committed/>
		</location>
		<init ref="id678"/>
		<transition>
			<source ref="id678"/>
			<target ref="id679"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(34),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id679"/>
			<target ref="id678"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 34 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id679"/>
			<target ref="id680"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 34</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id680"/>
			<target ref="id681"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id680"/>
			<target ref="id682"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id682"/>
			<target ref="id681"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id682"/>
			<target ref="id683"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id683"/>
			<target ref="id681"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id683"/>
			<target ref="id684"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id684"/>
			<target ref="id681"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id684"/>
			<target ref="id685"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id685"/>
			<target ref="id681"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id685"/>
			<target ref="id686"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id686"/>
			<target ref="id681"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id686"/>
			<target ref="id687"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id687"/>
			<target ref="id681"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id687"/>
			<target ref="id688"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = fully,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id688"/>
			<target ref="id681"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id688"/>
			<target ref="id679"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id681"/>
			<target ref="id689"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 34</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_10,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id689"/>
			<target ref="id690"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = C6_Start,
attributeFunction = 0,
globalIdentifier = state_operator_10,
globalAttribute = name,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id690"/>
			<target ref="id691"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">valueFunction = remove,
globalValue = 2,
attributeFunction = 0,
globalIdentifier = state_operator_10,
globalAttribute = timerLength,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id691"/>
			<target ref="id692"/>
			<label kind="guard" x="-1607" y="536">!addOperator</label>
			<label kind="assignment" x="-1607" y="553">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id692"/>
			<target ref="id679"/>
			<label kind="guard" x="-1824" y="558">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="592">productionIndex--</label>
			<nail x="-1827" y="719"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id678"/>
			<target ref="id693"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(34)</label>
		</transition>
		<transition>
			<source ref="id693"/>
			<target ref="id678"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id693"/>
			<target ref="id694"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 34 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id694"/>
			<target ref="id678"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id694"/>
			<target ref="id695"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id695"/>
			<target ref="id694"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id695"/>
			<target ref="id696"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id696"/>
			<target ref="id694"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id696"/>
			<target ref="id697"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalValue = EMPTY,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id697"/>
			<target ref="id694"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id697"/>
			<target ref="id698"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id698"/>
			<target ref="id694"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id698"/>
			<target ref="id699"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id699"/>
			<target ref="id698"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id699"/>
			<target ref="id700"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id700"/>
			<target ref="id699"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id700"/>
			<target ref="id701"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = fully,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id701"/>
			<target ref="id699"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id701"/>
			<target ref="id702"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id702"/>
			<target ref="id699"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id702"/>
			<target ref="id703"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(34),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id703"/>
			<target ref="id678"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id703"/>
			<target ref="id704"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 34</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_10,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id704"/>
			<target ref="id705"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_10,
globalAttribute = name,
globalValue = C6_Start,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id705"/>
			<target ref="id706"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_10,
globalAttribute = timerLength,
globalValue = 2,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id706"/>
			<target ref="id678"/>
			<label kind="guard" x="1353" y="383">!addOperator</label>
			<label kind="assignment" x="1353" y="400">addOperator = false,
removeStackAction(),
operators[9].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="400"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_operator_C7_Lost_Link_Start_lightly</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 18) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 18;
	clearOperator(17);
}
</declaration>
		<location id="id707" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id708" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id709" x="-892" y="0">
			<committed/>
		</location>
		<location id="id710" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id711" x="-892" y="319">
			<committed/>
		</location>
		<location id="id712" x="-892" y="519">
			<committed/>
		</location>
		<location id="id713" x="-892" y="719">
			<committed/>
		</location>
		<location id="id714" x="-892" y="919">
			<committed/>
		</location>
		<location id="id715" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id716" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id717" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id718" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id719" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id720" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id721" x="-1632" y="719">
			<committed/>
		</location>
		<location id="id722" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id723" x="588" y="0">
			<committed/>
		</location>
		<location id="id724" x="588" y="200">
			<committed/>
		</location>
		<location id="id725" x="588" y="400">
			<committed/>
		</location>
		<location id="id726" x="588" y="600">
			<committed/>
		</location>
		<location id="id727" x="588" y="800">
			<committed/>
		</location>
		<location id="id728" x="588" y="1000">
			<committed/>
		</location>
		<location id="id729" x="588" y="1200">
			<committed/>
		</location>
		<location id="id730" x="588" y="1400">
			<committed/>
		</location>
		<location id="id731" x="588" y="1600">
			<committed/>
		</location>
		<location id="id732" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id733" x="1328" y="0">
			<committed/>
		</location>
		<location id="id734" x="1328" y="200">
			<committed/>
		</location>
		<location id="id735" x="1328" y="400">
			<committed/>
		</location>
		<init ref="id707"/>
		<transition>
			<source ref="id707"/>
			<target ref="id708"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(35),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id708"/>
			<target ref="id707"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 35 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id708"/>
			<target ref="id709"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 35</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id709"/>
			<target ref="id710"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id709"/>
			<target ref="id711"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id711"/>
			<target ref="id710"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id711"/>
			<target ref="id712"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id712"/>
			<target ref="id710"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id712"/>
			<target ref="id713"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id713"/>
			<target ref="id710"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id713"/>
			<target ref="id714"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id714"/>
			<target ref="id710"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id714"/>
			<target ref="id715"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id715"/>
			<target ref="id710"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id715"/>
			<target ref="id716"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id716"/>
			<target ref="id710"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id716"/>
			<target ref="id717"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = lightly,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id717"/>
			<target ref="id710"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id717"/>
			<target ref="id708"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id710"/>
			<target ref="id718"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 35</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_18,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id718"/>
			<target ref="id719"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = C7_Start,
attributeFunction = 0,
globalIdentifier = state_operator_18,
globalAttribute = name,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id719"/>
			<target ref="id720"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">valueFunction = remove,
globalValue = 4,
attributeFunction = 0,
globalIdentifier = state_operator_18,
globalAttribute = timerLength,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id720"/>
			<target ref="id721"/>
			<label kind="guard" x="-1607" y="536">!addOperator</label>
			<label kind="assignment" x="-1607" y="553">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id721"/>
			<target ref="id708"/>
			<label kind="guard" x="-1824" y="558">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="592">productionIndex--</label>
			<nail x="-1827" y="719"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id707"/>
			<target ref="id722"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(35)</label>
		</transition>
		<transition>
			<source ref="id722"/>
			<target ref="id707"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id722"/>
			<target ref="id723"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 35 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id723"/>
			<target ref="id707"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id723"/>
			<target ref="id724"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id724"/>
			<target ref="id723"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id724"/>
			<target ref="id725"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id725"/>
			<target ref="id723"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id725"/>
			<target ref="id726"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalValue = EMPTY,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id726"/>
			<target ref="id723"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id726"/>
			<target ref="id727"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id727"/>
			<target ref="id723"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id727"/>
			<target ref="id728"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id728"/>
			<target ref="id727"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id728"/>
			<target ref="id729"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id729"/>
			<target ref="id728"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id729"/>
			<target ref="id730"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = lightly,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id730"/>
			<target ref="id728"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id730"/>
			<target ref="id731"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id731"/>
			<target ref="id728"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id731"/>
			<target ref="id732"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(35),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id732"/>
			<target ref="id707"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id732"/>
			<target ref="id733"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 35</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_18,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id733"/>
			<target ref="id734"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_18,
globalAttribute = name,
globalValue = C7_Start,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id734"/>
			<target ref="id735"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_18,
globalAttribute = timerLength,
globalValue = 4,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id735"/>
			<target ref="id707"/>
			<label kind="guard" x="1353" y="383">!addOperator</label>
			<label kind="assignment" x="1353" y="400">addOperator = false,
removeStackAction(),
operators[17].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="400"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>drone_propose_operator_C7_Lost_Link_Start_fully</name>
		<declaration>int dummy_state_io_input_link_$_fd_$;
int dummy_dummy_state_io_input_link;
int dummy_state_io;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[3];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_io_input_link_$_fd_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_dummy_state_io_input_link;
	productions[productionIndex].savedTempAndFunction[2] = dummy_state_io;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[0] == dummy_state_io_input_link_$_fd_$ &amp;&amp;
			productions[i].savedTempAndFunction[1] == dummy_dummy_state_io_input_link &amp;&amp;
			productions[i].savedTempAndFunction[2] == dummy_state_io) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}


void checkAndClearFinalOperator() {
	 if(selectedFinalOperatorIndex == 5) {
		addToNestedCheckArray(finalOp);
	}
	retractOperators[retractOperatorsIndex++] = 5;
	clearOperator(4);
}
</declaration>
		<location id="id736" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id737" x="-522" y="0">
			<name x="-702" y="-49">Retract_Conditions</name>
			<committed/>
		</location>
		<location id="id738" x="-892" y="0">
			<committed/>
		</location>
		<location id="id739" x="-1262" y="0">
			<name x="-1452" y="-49">Retract_Assignments</name>
			<committed/>
		</location>
		<location id="id740" x="-892" y="319">
			<committed/>
		</location>
		<location id="id741" x="-892" y="519">
			<committed/>
		</location>
		<location id="id742" x="-892" y="719">
			<committed/>
		</location>
		<location id="id743" x="-892" y="919">
			<committed/>
		</location>
		<location id="id744" x="-892" y="1119">
			<committed/>
		</location>
		<location id="id745" x="-892" y="1319">
			<committed/>
		</location>
		<location id="id746" x="-892" y="1519">
			<committed/>
		</location>
		<location id="id747" x="-1632" y="0">
			<committed/>
		</location>
		<location id="id748" x="-1632" y="319">
			<committed/>
		</location>
		<location id="id749" x="-1632" y="519">
			<committed/>
		</location>
		<location id="id750" x="-1632" y="719">
			<committed/>
		</location>
		<location id="id751" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id752" x="588" y="0">
			<committed/>
		</location>
		<location id="id753" x="588" y="200">
			<committed/>
		</location>
		<location id="id754" x="588" y="400">
			<committed/>
		</location>
		<location id="id755" x="588" y="600">
			<committed/>
		</location>
		<location id="id756" x="588" y="800">
			<committed/>
		</location>
		<location id="id757" x="588" y="1000">
			<committed/>
		</location>
		<location id="id758" x="588" y="1200">
			<committed/>
		</location>
		<location id="id759" x="588" y="1400">
			<committed/>
		</location>
		<location id="id760" x="588" y="1600">
			<committed/>
		</location>
		<location id="id761" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<location id="id762" x="1328" y="0">
			<committed/>
		</location>
		<location id="id763" x="1328" y="200">
			<committed/>
		</location>
		<location id="id764" x="1328" y="400">
			<committed/>
		</location>
		<init ref="id736"/>
		<transition>
			<source ref="id736"/>
			<target ref="id737"/>
			<label kind="guard" x="-502" y="-17">isRetracting</label>
			<label kind="synchronisation" x="-502" y="-34">Run_Rule?</label>
			<label kind="assignment" x="-502" y="8">addToStackRetract(36),
productionIndexTemp = 0</label>
		</transition>
		<transition>
			<source ref="id737"/>
			<target ref="id736"/>
			<label kind="guard" x="-714" y="-178">stackRetract[stackRetractIndex] == 36 &amp;&amp;
productionIndexTemp == productionIndex</label>
			<label kind="assignment" x="-714" y="-144">productionIndexTemp = 0,
removeStackRetract()</label>
			<nail x="-717" y="0"/>
			<nail x="-717" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id737"/>
			<target ref="id738"/>
			<label kind="guard" x="-872" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 36</label>
			<label kind="assignment" x="-872" y="8">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[0],
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id738"/>
			<target ref="id739"/>
			<label kind="guard" x="-1084" y="-17">globalDoesContain == -1</label>
		</transition>
		<transition>
			<source ref="id738"/>
			<target ref="id740"/>
			<label kind="guard" x="-867" y="136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="153">valueFunction = 0,
globalValue = droneFlight,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id740"/>
			<target ref="id739"/>
			<label kind="guard" x="-1084" y="302">globalDoesContain == -1</label>
			<nail x="-1262" y="319"/>
		</transition>
		<transition>
			<source ref="id740"/>
			<target ref="id741"/>
			<label kind="guard" x="-867" y="336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="353">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id741"/>
			<target ref="id739"/>
			<label kind="guard" x="-1084" y="502">globalDoesContain == -1</label>
			<nail x="-1262" y="519"/>
		</transition>
		<transition>
			<source ref="id741"/>
			<target ref="id742"/>
			<label kind="guard" x="-867" y="536">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="553">valueFunction = 0,
globalValue = EMPTY,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id742"/>
			<target ref="id739"/>
			<label kind="guard" x="-1084" y="702">globalDoesContain == -1</label>
			<nail x="-1262" y="719"/>
		</transition>
		<transition>
			<source ref="id742"/>
			<target ref="id743"/>
			<label kind="guard" x="-867" y="736">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="753">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[2],
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id743"/>
			<target ref="id739"/>
			<label kind="guard" x="-1084" y="902">globalDoesContain == -1</label>
			<nail x="-1262" y="919"/>
		</transition>
		<transition>
			<source ref="id743"/>
			<target ref="id744"/>
			<label kind="guard" x="-867" y="936">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="953">valueFunction = 0,
globalValue = 
productions[productionIndexTemp].savedTempAndFunction[1],
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id744"/>
			<target ref="id739"/>
			<label kind="guard" x="-1084" y="1102">globalDoesContain == -1</label>
			<nail x="-1262" y="1119"/>
		</transition>
		<transition>
			<source ref="id744"/>
			<target ref="id745"/>
			<label kind="guard" x="-867" y="1136">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1153">valueFunction = 0,
globalValue = yes,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id745"/>
			<target ref="id739"/>
			<label kind="guard" x="-1084" y="1302">globalDoesContain == -1</label>
			<nail x="-1262" y="1319"/>
		</transition>
		<transition>
			<source ref="id745"/>
			<target ref="id746"/>
			<label kind="guard" x="-867" y="1336">globalDoesContain == 1</label>
			<label kind="assignment" x="-867" y="1353">valueFunction = 0,
globalValue = fully,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id746"/>
			<target ref="id739"/>
			<label kind="guard" x="-1084" y="1502">globalDoesContain == -1</label>
			<nail x="-1262" y="1519"/>
		</transition>
		<transition>
			<source ref="id746"/>
			<target ref="id737"/>
			<label kind="guard" x="-1234" y="1375">globalDoesContain == 1</label>
			<label kind="assignment" x="-1234" y="1392">productionIndexTemp++</label>
			<nail x="-1237" y="1519"/>
			<nail x="-1237" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id739"/>
			<target ref="id747"/>
			<label kind="guard" x="-1612" y="-34">productionIndexTemp != productionIndex &amp;&amp;
stackRetract[stackRetractIndex] == 36</label>
			<label kind="assignment" x="-1612" y="8">valueFunction = remove,
globalValue = state_operator_5,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id747"/>
			<target ref="id748"/>
			<label kind="guard" x="-1607" y="136">!addOperator</label>
			<label kind="assignment" x="-1607" y="153">valueFunction = remove,
globalValue = C7_Start,
attributeFunction = 0,
globalIdentifier = state_operator_5,
globalAttribute = name,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id748"/>
			<target ref="id749"/>
			<label kind="guard" x="-1607" y="336">!addOperator</label>
			<label kind="assignment" x="-1607" y="353">valueFunction = remove,
globalValue = 4,
attributeFunction = 0,
globalIdentifier = state_operator_5,
globalAttribute = timerLength,
addOperator = true,
checkAndClearFinalOperator()</label>
		</transition>
		<transition>
			<source ref="id749"/>
			<target ref="id750"/>
			<label kind="guard" x="-1607" y="536">!addOperator</label>
			<label kind="assignment" x="-1607" y="553">removeOperator = true,
globalIndex = 0,
currentNumAttributes =
getNumAttributes(nestedCheckArray[0])</label>
		</transition>
		<transition>
			<source ref="id750"/>
			<target ref="id737"/>
			<label kind="guard" x="-1824" y="558">!removeOperator &amp;&amp;
currentNumAttributes == 0</label>
			<label kind="assignment" x="-1824" y="592">productionIndex--</label>
			<nail x="-1827" y="719"/>
			<nail x="-1827" y="-110"/>
			<nail x="-522" y="-110"/>
		</transition>
		<transition>
			<source ref="id736"/>
			<target ref="id751"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
productionIndex != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(36)</label>
		</transition>
		<transition>
			<source ref="id751"/>
			<target ref="id736"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id751"/>
			<target ref="id752"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 36 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id752"/>
			<target ref="id736"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id752"/>
			<target ref="id753"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_io_input_link_$_fd_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = name,
globalValue = droneFlight,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id753"/>
			<target ref="id752"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id753"/>
			<target ref="id754"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = startContingency,
globalValue = yes,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id754"/>
			<target ref="id752"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id754"/>
			<target ref="id755"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = contingencyComplete,
globalValue = EMPTY,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id755"/>
			<target ref="id752"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id755"/>
			<target ref="id756"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id756"/>
			<target ref="id752"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id756"/>
			<target ref="id757"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">dummy_state_io = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id757"/>
			<target ref="id756"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = nilAnything,
lookAheadIndex = 4,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id757"/>
			<target ref="id758"/>
			<label kind="guard" x="613" y="1017">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1034">dummy_dummy_state_io_input_link = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = yes,
lookAheadIndex = 6,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id758"/>
			<target ref="id757"/>
			<label kind="guard" x="-112" y="1380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1400"/>
			<nail x="-152" y="1400"/>
		</transition>
		<transition>
			<source ref="id758"/>
			<target ref="id759"/>
			<label kind="guard" x="613" y="1217">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="1232">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = fully,
lookAheadIndex = 7,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id759"/>
			<target ref="id757"/>
			<label kind="guard" x="-112" y="1580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1600"/>
			<nail x="-152" y="1600"/>
		</transition>
		<transition>
			<source ref="id759"/>
			<target ref="id760"/>
			<label kind="guard" x="613" y="1417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="1434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id760"/>
			<target ref="id757"/>
			<label kind="guard" x="-112" y="1780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = nilAnything,
lookAheadIndex = 5,
globalDoesContain = 0</label>
			<nail x="218" y="1800"/>
			<nail x="-152" y="1800"/>
		</transition>
		<transition>
			<source ref="id760"/>
			<target ref="id761"/>
			<label kind="guard" x="736" y="1783">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1800">removeStackCondition(),
addToStackAction(36),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1800"/>
			<nail x="958" y="1800"/>
		</transition>
		<transition>
			<source ref="id761"/>
			<target ref="id736"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id761"/>
			<target ref="id762"/>
			<label kind="guard" x="978" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 36</label>
			<label kind="assignment" x="978" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = state_operator_5,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id762"/>
			<target ref="id763"/>
			<label kind="guard" x="1353" y="17">!addOperator</label>
			<label kind="assignment" x="1353" y="34">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_5,
globalAttribute = name,
globalValue = C7_Start,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id763"/>
			<target ref="id764"/>
			<label kind="guard" x="1353" y="217">!addOperator</label>
			<label kind="assignment" x="1353" y="234">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = state_operator_5,
globalAttribute = timerLength,
globalValue = 4,
addOperator = true</label>
		</transition>
		<transition>
			<source ref="id764"/>
			<target ref="id736"/>
			<label kind="guard" x="1353" y="383">!addOperator</label>
			<label kind="assignment" x="1353" y="400">addOperator = false,
removeStackAction(),
operators[4].operator.isAcceptable = true,
fillNextProduction()</label>
			<nail x="1698" y="400"/>
			<nail x="1698" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>chunk_1_d1471_tie_1</name>
		<declaration>int dummy_state_operator_$_o2_$;
int dummy_state_operator_$_o1_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o2_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o1_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o1_$ &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o2_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0])) ||
				retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id765" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id766" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id767" x="588" y="0">
			<committed/>
		</location>
		<location id="id768" x="588" y="200">
			<committed/>
		</location>
		<location id="id769" x="588" y="400">
			<committed/>
		</location>
		<location id="id770" x="588" y="600">
			<committed/>
		</location>
		<location id="id771" x="588" y="800">
			<committed/>
		</location>
		<location id="id772" x="588" y="1000">
			<committed/>
		</location>
		<location id="id773" x="958" y="0">
			<name x="918" y="-59">Run_Assignment</name>
			<committed/>
		</location>
		<init ref="id765"/>
		<transition>
			<source ref="id765"/>
			<target ref="id765"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id765"/>
			<target ref="id765"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id765"/>
			<target ref="id766"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(37)</label>
		</transition>
		<transition>
			<source ref="id766"/>
			<target ref="id765"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id766"/>
			<target ref="id767"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 37 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id767"/>
			<target ref="id765"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id767"/>
			<target ref="id768"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="510" y="42">dummy_state_operator_$_o1_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id768"/>
			<target ref="id767"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id768"/>
			<target ref="id769"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_operator_$_o2_$ = globalValue,
valueFunction = isNotEqualTo,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_operator_$_o1_$,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id769"/>
			<target ref="id768"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id769"/>
			<target ref="id770"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o1_$,
globalAttribute = timerLength,
globalValue = 4,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id770"/>
			<target ref="id768"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id770"/>
			<target ref="id771"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="637">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = timerLength,
globalValue = 2,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id771"/>
			<target ref="id768"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id771"/>
			<target ref="id772"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id772"/>
			<target ref="id768"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id772"/>
			<target ref="id773"/>
			<label kind="guard" x="736" y="1183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1200">removeStackCondition(),
addToStackAction(37),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1200"/>
			<nail x="958" y="1200"/>
		</transition>
		<transition>
			<source ref="id773"/>
			<target ref="id765"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id773"/>
			<target ref="id765"/>
			<label kind="guard" x="983" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 37</label>
			<label kind="assignment" x="983" y="0">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
addBetterTo(getIDFromOperator(dummy_state_operator_$_o2_$), 
getIDFromOperator(dummy_state_operator_$_o1_$)),
fillNextProduction()</label>
			<nail x="1328" y="0"/>
			<nail x="1328" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>chunk_2_d1471_tie_2</name>
		<declaration>int dummy_state_operator_$_o2_$;
int dummy_state_operator_$_o1_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o2_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o1_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o1_$ &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o2_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0])) ||
				retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id774" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id775" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id776" x="588" y="0">
			<committed/>
		</location>
		<location id="id777" x="588" y="200">
			<committed/>
		</location>
		<location id="id778" x="588" y="400">
			<committed/>
		</location>
		<location id="id779" x="588" y="600">
			<committed/>
		</location>
		<location id="id780" x="588" y="800">
			<committed/>
		</location>
		<location id="id781" x="588" y="1000">
			<committed/>
		</location>
		<location id="id782" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<init ref="id774"/>
		<transition>
			<source ref="id774"/>
			<target ref="id774"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id774"/>
			<target ref="id774"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id774"/>
			<target ref="id775"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(38)</label>
		</transition>
		<transition>
			<source ref="id775"/>
			<target ref="id774"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id775"/>
			<target ref="id776"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 38 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id776"/>
			<target ref="id774"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id776"/>
			<target ref="id777"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o1_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id777"/>
			<target ref="id776"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id777"/>
			<target ref="id778"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_operator_$_o2_$ = globalValue,
valueFunction = isNotEqualTo,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_operator_$_o1_$,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id778"/>
			<target ref="id777"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id778"/>
			<target ref="id779"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o1_$,
globalAttribute = timerLength,
globalValue = 4,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id779"/>
			<target ref="id777"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id779"/>
			<target ref="id780"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="637">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = timerLength,
globalValue = 1,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id780"/>
			<target ref="id777"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id780"/>
			<target ref="id781"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id781"/>
			<target ref="id777"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id781"/>
			<target ref="id782"/>
			<label kind="guard" x="736" y="1183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1200">removeStackCondition(),
addToStackAction(38),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1200"/>
			<nail x="958" y="1200"/>
		</transition>
		<transition>
			<source ref="id782"/>
			<target ref="id774"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id782"/>
			<target ref="id774"/>
			<label kind="guard" x="983" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 38</label>
			<label kind="assignment" x="983" y="0">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
addBetterTo(getIDFromOperator(dummy_state_operator_$_o2_$), getIDFromOperator(dummy_state_operator_$_o1_$)),
fillNextProduction()</label>
			<nail x="1328" y="0"/>
			<nail x="1328" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>chunk_3_d1471_tie_3</name>
		<declaration>int dummy_state_operator_$_o2_$;
int dummy_state_operator_$_o1_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o2_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o1_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o1_$ &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o2_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0])) ||
				retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id783" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id784" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id785" x="588" y="0">
			<committed/>
		</location>
		<location id="id786" x="588" y="200">
			<committed/>
		</location>
		<location id="id787" x="588" y="400">
			<committed/>
		</location>
		<location id="id788" x="588" y="600">
			<committed/>
		</location>
		<location id="id789" x="588" y="800">
			<committed/>
		</location>
		<location id="id790" x="588" y="1000">
			<committed/>
		</location>
		<location id="id791" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<init ref="id783"/>
		<transition>
			<source ref="id783"/>
			<target ref="id783"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id783"/>
			<target ref="id783"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id783"/>
			<target ref="id784"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(39)</label>
		</transition>
		<transition>
			<source ref="id784"/>
			<target ref="id783"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id784"/>
			<target ref="id785"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 39 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id785"/>
			<target ref="id783"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id785"/>
			<target ref="id786"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o1_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id786"/>
			<target ref="id785"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id786"/>
			<target ref="id787"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_operator_$_o2_$ = globalValue,
valueFunction = isNotEqualTo,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_operator_$_o1_$,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id787"/>
			<target ref="id786"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id787"/>
			<target ref="id788"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o1_$,
globalAttribute = timerLength,
globalValue = 2,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id788"/>
			<target ref="id786"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id788"/>
			<target ref="id789"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="637">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = timerLength,
globalValue = 1,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id789"/>
			<target ref="id786"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id789"/>
			<target ref="id790"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id790"/>
			<target ref="id786"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id790"/>
			<target ref="id791"/>
			<label kind="guard" x="736" y="1183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1200">removeStackCondition(),
addToStackAction(39),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1200"/>
			<nail x="958" y="1200"/>
		</transition>
		<transition>
			<source ref="id791"/>
			<target ref="id783"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id791"/>
			<target ref="id783"/>
			<label kind="guard" x="983" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 39</label>
			<label kind="assignment" x="983" y="0">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
addBetterTo(getIDFromOperator(dummy_state_operator_$_o2_$), getIDFromOperator(dummy_state_operator_$_o1_$)),
fillNextProduction()</label>
			<nail x="1328" y="0"/>
			<nail x="1328" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>chunk_4_d1471_tie_4</name>
		<declaration>int dummy_state_operator_$_o2_$;
int dummy_state_operator_$_o1_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o2_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o1_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o1_$ &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o2_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0])) ||
				retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id792" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id793" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id794" x="588" y="0">
			<committed/>
		</location>
		<location id="id795" x="588" y="200">
			<committed/>
		</location>
		<location id="id796" x="588" y="400">
			<committed/>
		</location>
		<location id="id797" x="588" y="600">
			<committed/>
		</location>
		<location id="id798" x="588" y="800">
			<committed/>
		</location>
		<location id="id799" x="588" y="1000">
			<committed/>
		</location>
		<location id="id800" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<init ref="id792"/>
		<transition>
			<source ref="id792"/>
			<target ref="id792"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id792"/>
			<target ref="id792"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id792"/>
			<target ref="id793"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(40)</label>
		</transition>
		<transition>
			<source ref="id793"/>
			<target ref="id792"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id793"/>
			<target ref="id794"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 40 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id794"/>
			<target ref="id792"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id794"/>
			<target ref="id795"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o1_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id795"/>
			<target ref="id794"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id795"/>
			<target ref="id796"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_operator_$_o2_$ = globalValue,
valueFunction = isNotEqualTo,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_operator_$_o1_$,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id796"/>
			<target ref="id795"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id796"/>
			<target ref="id797"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o1_$,
globalAttribute = timerLength,
globalValue = 8,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id797"/>
			<target ref="id795"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id797"/>
			<target ref="id798"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="637">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = timerLength,
globalValue = 4,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id798"/>
			<target ref="id795"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id798"/>
			<target ref="id799"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id799"/>
			<target ref="id795"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id799"/>
			<target ref="id800"/>
			<label kind="guard" x="736" y="1183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1200">removeStackCondition(),
addToStackAction(40),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1200"/>
			<nail x="958" y="1200"/>
		</transition>
		<transition>
			<source ref="id800"/>
			<target ref="id792"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id800"/>
			<target ref="id792"/>
			<label kind="guard" x="983" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 40</label>
			<label kind="assignment" x="983" y="0">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
addBetterTo(getIDFromOperator(dummy_state_operator_$_o2_$), getIDFromOperator(dummy_state_operator_$_o1_$)),
fillNextProduction()</label>
			<nail x="1328" y="0"/>
			<nail x="1328" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>chunk_5_d1471_tie_5</name>
		<declaration>int dummy_state_operator_$_o2_$;
int dummy_state_operator_$_o1_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o2_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o1_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o1_$ &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o2_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0])) ||
				retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id801" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id802" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id803" x="588" y="0">
			<committed/>
		</location>
		<location id="id804" x="588" y="200">
			<committed/>
		</location>
		<location id="id805" x="588" y="400">
			<committed/>
		</location>
		<location id="id806" x="588" y="600">
			<committed/>
		</location>
		<location id="id807" x="588" y="800">
			<committed/>
		</location>
		<location id="id808" x="588" y="1000">
			<committed/>
		</location>
		<location id="id809" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<init ref="id801"/>
		<transition>
			<source ref="id801"/>
			<target ref="id801"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id801"/>
			<target ref="id801"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id801"/>
			<target ref="id802"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(41)</label>
		</transition>
		<transition>
			<source ref="id802"/>
			<target ref="id801"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id802"/>
			<target ref="id803"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 41 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id803"/>
			<target ref="id801"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id803"/>
			<target ref="id804"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o1_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id804"/>
			<target ref="id803"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id804"/>
			<target ref="id805"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_operator_$_o2_$ = globalValue,
valueFunction = isNotEqualTo,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_operator_$_o1_$,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id805"/>
			<target ref="id804"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id805"/>
			<target ref="id806"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o1_$,
globalAttribute = timerLength,
globalValue = 8,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id806"/>
			<target ref="id804"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id806"/>
			<target ref="id807"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="634">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = timerLength,
globalValue = 2,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id807"/>
			<target ref="id804"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id807"/>
			<target ref="id808"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
			<nail x="586" y="816"/>
		</transition>
		<transition>
			<source ref="id808"/>
			<target ref="id804"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id808"/>
			<target ref="id809"/>
			<label kind="guard" x="736" y="1183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1200">removeStackCondition(),
addToStackAction(41),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1200"/>
			<nail x="958" y="1200"/>
		</transition>
		<transition>
			<source ref="id809"/>
			<target ref="id801"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id809"/>
			<target ref="id801"/>
			<label kind="guard" x="983" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 41</label>
			<label kind="assignment" x="983" y="0">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
addBetterTo(getIDFromOperator(dummy_state_operator_$_o2_$), getIDFromOperator(dummy_state_operator_$_o1_$)),
fillNextProduction()</label>
			<nail x="1328" y="0"/>
			<nail x="1328" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>chunk_6_d1471_tie_6</name>
		<declaration>int dummy_state_operator_$_o2_$;
int dummy_state_operator_$_o1_$;
const int NUMBER_OF_PRODUCTIONS = 1;

typedef struct {
	int savedTempAndFunction[2];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;


void fillNextProduction() {
	productions[productionIndex].savedTempAndFunction[0] = dummy_state_operator_$_o2_$;
	productions[productionIndex].savedTempAndFunction[1] = dummy_state_operator_$_o1_$;
	productionIndex++;
}

void checkProductionsContain() {
	bool containsProduction = false;
	int i;
	for (i = 0; i &lt; productionIndex; i++) {
		if (productions[i].savedTempAndFunction[1] == dummy_state_operator_$_o1_$ &amp;&amp;
			productions[i].savedTempAndFunction[0] == dummy_state_operator_$_o2_$) {
				containsProduction = true;
				i = NUMBER_OF_PRODUCTIONS;
		}
	}
	if (containsProduction) {
		globalDoesContain = -1;
	} else {
		globalDoesContain = 1;
	}
}

int currentNumFiringPerCycle = 0;
void checkProductionHasOperator() {
	if (retractOperatorsIndex &gt; 0) {
		int i;
		int j;
		int removeProductionIndexes[NUMBER_OF_PRODUCTIONS];
		int removeIndex = 0;
		for (i = 0; i &lt; productionIndex; i++) {
			if (retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[0])) ||
				retractOperatorsContains(1 + getIDFromOperator(productions[i].savedTempAndFunction[1]))) {
				removeProductionIndexes[removeIndex++] = i;
			}
		}
		for (i = 0; i &lt; removeIndex; i++) {
			for (j = removeProductionIndexes[i]; j &lt; productionIndex - 1; j++) {
				productions[j] = productions[j+1];
			}
			productionIndex--;
		}
	}
}

</declaration>
		<location id="id810" x="-152" y="0">
			<name x="-200" y="-32">Start</name>
			<committed/>
		</location>
		<location id="id811" x="218" y="0">
			<name x="128" y="-32">Run_Guard</name>
			<committed/>
		</location>
		<location id="id812" x="588" y="0">
			<committed/>
		</location>
		<location id="id813" x="588" y="200">
			<committed/>
		</location>
		<location id="id814" x="588" y="400">
			<committed/>
		</location>
		<location id="id815" x="588" y="600">
			<committed/>
		</location>
		<location id="id816" x="588" y="800">
			<committed/>
		</location>
		<location id="id817" x="588" y="1000">
			<committed/>
		</location>
		<location id="id818" x="958" y="0">
			<name x="818" y="-32">Run_Assignment</name>
			<committed/>
		</location>
		<init ref="id810"/>
		<transition>
			<source ref="id810"/>
			<target ref="id810"/>
			<label kind="guard" x="-522" y="-34">!productionFired &amp;&amp;
isRetracting</label>
			<label kind="synchronisation" x="-522" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-522" y="10">currentNumFiringPerCycle = 0</label>
			<nail x="-522" y="0"/>
		</transition>
		<transition>
			<source ref="id810"/>
			<target ref="id810"/>
			<label kind="synchronisation" x="-522" y="73">Reset_Apply?</label>
			<label kind="assignment" x="-522" y="90">checkProductionHasOperator()</label>
			<nail x="-152" y="100"/>
			<nail x="-220" y="100"/>
			<nail x="-220" y="0"/>
		</transition>
		<transition>
			<source ref="id810"/>
			<target ref="id811"/>
			<label kind="guard" x="-132" y="-34">!isRetracting &amp;&amp;
currentNumFiringPerCycle != NUMBER_OF_PRODUCTIONS</label>
			<label kind="synchronisation" x="-132" y="-51">Run_Rule?</label>
			<label kind="assignment" x="-132" y="8">addToStackCondition(42)</label>
		</transition>
		<transition>
			<source ref="id811"/>
			<target ref="id810"/>
			<label kind="synchronisation" x="-152" y="-127">Halt?</label>
			<nail x="218" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id811"/>
			<target ref="id812"/>
			<label kind="guard" x="238" y="-34">stackCondition[stackConditionIndex] == 42 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="238" y="8">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0,
globalIndex = 0</label>
		</transition>
		<transition>
			<source ref="id812"/>
			<target ref="id810"/>
			<label kind="guard" x="-132" y="180">globalDoesContain == -1</label>
			<label kind="assignment" x="-132" y="214">lookAheadArray = lookAheadDefault,
removeStackCondition()</label>
			<nail x="218" y="200"/>
			<nail x="-152" y="200"/>
		</transition>
		<transition>
			<source ref="id812"/>
			<target ref="id813"/>
			<label kind="guard" x="613" y="17">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="34">dummy_state_operator_$_o1_$ = globalValue,
valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id813"/>
			<target ref="id812"/>
			<label kind="guard" x="-112" y="380">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="414">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 0,
globalDoesContain = 0</label>
			<nail x="218" y="400"/>
			<nail x="-152" y="400"/>
		</transition>
		<transition>
			<source ref="id813"/>
			<target ref="id814"/>
			<label kind="guard" x="613" y="217">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="234">dummy_state_operator_$_o2_$ = globalValue,
valueFunction = isNotEqualTo,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = extraRestriction,
globalValue = dummy_state_operator_$_o1_$,
lookAheadIndex = 2,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id814"/>
			<target ref="id813"/>
			<label kind="guard" x="-112" y="580">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="614">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="600"/>
			<nail x="-152" y="600"/>
		</transition>
		<transition>
			<source ref="id814"/>
			<target ref="id815"/>
			<label kind="guard" x="613" y="417">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="434">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o1_$,
globalAttribute = timerLength,
globalValue = 8,
lookAheadIndex = 3,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id815"/>
			<target ref="id813"/>
			<label kind="guard" x="-112" y="780">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="814">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="800"/>
			<nail x="-152" y="800"/>
		</transition>
		<transition>
			<source ref="id815"/>
			<target ref="id816"/>
			<label kind="guard" x="613" y="617">globalDoesContain == 1</label>
			<label kind="assignment" x="612" y="637">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = dummy_state_operator_$_o2_$,
globalAttribute = timerLength,
globalValue = 1,
lookAheadIndex = 4,
globalDoesContain = 0</label>
		</transition>
		<transition>
			<source ref="id816"/>
			<target ref="id813"/>
			<label kind="guard" x="-112" y="980">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1014">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1000"/>
			<nail x="-152" y="1000"/>
		</transition>
		<transition>
			<source ref="id816"/>
			<target ref="id817"/>
			<label kind="guard" x="613" y="817">globalDoesContain == 1</label>
			<label kind="assignment" x="613" y="834">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = 0,
globalAttribute = 0,
globalValue = 0,
globalDoesContain = 0,
checkProductionsContain()</label>
		</transition>
		<transition>
			<source ref="id817"/>
			<target ref="id813"/>
			<label kind="guard" x="-112" y="1180">globalDoesContain == -1</label>
			<label kind="assignment" x="-112" y="1214">valueFunction = 0,
attributeFunction = 0,
globalIdentifier = _state,
globalAttribute = operator,
globalValue = nilAnything,
lookAheadIndex = 1,
globalDoesContain = 0</label>
			<nail x="218" y="1200"/>
			<nail x="-152" y="1200"/>
		</transition>
		<transition>
			<source ref="id817"/>
			<target ref="id818"/>
			<label kind="guard" x="736" y="1183">globalDoesContain == 1</label>
			<label kind="assignment" x="736" y="1200">removeStackCondition(),
addToStackAction(42),
productionFired = true,
lookAheadArray = lookAheadDefault</label>
			<nail x="711" y="1200"/>
			<nail x="958" y="1200"/>
		</transition>
		<transition>
			<source ref="id818"/>
			<target ref="id810"/>
			<label kind="synchronisation" x="588" y="-127">Halt?</label>
			<nail x="958" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
		<transition>
			<source ref="id818"/>
			<target ref="id810"/>
			<label kind="guard" x="983" y="-34">stackConditionIndex == -1 &amp;&amp;
stackAction[stackActionIndex] == 42</label>
			<label kind="assignment" x="983" y="0">addOperator = false,
removeStackAction(),
currentNumFiringPerCycle++,
addBetterTo(getIDFromOperator(dummy_state_operator_$_o2_$), getIDFromOperator(dummy_state_operator_$_o1_$)),
fillNextProduction()</label>
			<nail x="1328" y="0"/>
			<nail x="1328" y="-110"/>
			<nail x="-152" y="-110"/>
		</transition>
	</template>
	<template>
		<name>Attribute_Value_Utility</name>
		<declaration>void checkCondition() {
	bool conditionSatisfied = false;
	if (valueFunction == isNotEqualTo &amp;&amp; globalIdentifier != globalValue) {
		conditionSatisfied = true;
	} else if (valueFunction == isGreaterThan &amp;&amp; globalIdentifier &gt; globalValue) {
		conditionSatisfied = true;
	} else if (valueFunction == isLessThan &amp;&amp; globalIdentifier &lt; globalValue) {
		conditionSatisfied = true;
	}
	if (conditionSatisfied) {
		globalDoesContain = 1;
	} else {
		globalDoesContain = -1;
	}
}

void catchAll() {
	globalDoesContain = -1;
}

</declaration>
		<location id="id819" x="-739" y="-195">
			<name x="-780" y="-229">Start</name>
			<committed/>
		</location>
		<init ref="id819"/>
		<transition>
			<source ref="id819"/>
			<target ref="id819"/>
			<label kind="guard" x="-1156" y="-205">globalDoesContain == 0 &amp;&amp;
globalAttribute == extraRestriction</label>
			<label kind="assignment" x="-1156" y="-171">checkCondition()</label>
			<nail x="-739" y="-144"/>
			<nail x="-807" y="-144"/>
			<nail x="-807" y="-195"/>
		</transition>
		<transition>
			<source ref="id819"/>
			<target ref="id819"/>
			<label kind="guard" x="-790" y="-85">globalDoesContain == 0 &amp;&amp;
((globalIdentifier == _state &amp;&amp;
globalAttribute != superstate &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != io &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != maxTimers &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != c4Timer &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != flewOverPopulatedArea &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != currentTimers &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != startNewTimer &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != acknowledgedCommands &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != addressedProblem &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != operator &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != previousDecisionCommand &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != timer &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != previousDecisionValue &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != sentCommand &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != startContingency &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != name &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != wait_flag &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != willBeInPopulatedArea &amp;&amp;
globalIdentifier == _state &amp;&amp;
globalAttribute != contingencyComplete) ||
(globalIdentifier == state_timer_1 &amp;&amp;
globalAttribute != targetTime) ||
(globalIdentifier == state_timer_2 &amp;&amp;
globalAttribute != targetTime) ||
(globalIdentifier == state_operator_14 &amp;&amp;
globalAttribute != name &amp;&amp;
globalIdentifier == state_operator_14 &amp;&amp;
globalAttribute != timerLength) ||
(globalIdentifier == state_operator_15 &amp;&amp;
globalAttribute != name &amp;&amp;
globalIdentifier == state_operator_15 &amp;&amp;
globalAttribute != timerLength) ||
(globalIdentifier == state_operator_16 &amp;&amp;
globalAttribute != name) ||
(globalIdentifier == state_operator_17 &amp;&amp;
globalAttribute != name) ||
(globalIdentifier == state_operator_18 &amp;&amp;
globalAttribute != name &amp;&amp;
globalIdentifier == state_operator_18 &amp;&amp;
globalAttribute != timerLength) ||
(globalIdentifier == state_operator_19 &amp;&amp;
globalAttribute != name) ||
(globalIdentifier == state_c4Timer_1 &amp;&amp;
globalAttribute != targetTime) ||
(globalIdentifier == state_operator_3 &amp;&amp;
globalAttribute != name) ||
(globalIdentifier == state_operator_10 &amp;&amp;
globalAttribute != name &amp;&amp;
globalIdentifier == state_operator_10 &amp;&amp;
globalAttribute != timerLength) ||
(globalIdentifier == state_operator_4 &amp;&amp;
globalAttribute != targetTime) ||
(globalIdentifier == state_operator_11 &amp;&amp;
globalAttribute != name &amp;&amp;
globalIdentifier == state_operator_11 &amp;&amp;
globalAttribute != timerLength) ||
(globalIdentifier == state_operator_1 &amp;&amp;
globalAttribute != targetTime) ||
(globalIdentifier == state_operator_12 &amp;&amp;
globalAttribute != name) ||
(globalIdentifier == state_operator_2 &amp;&amp;
globalAttribute != name) ||
(globalIdentifier == state_operator_13 &amp;&amp;
globalAttribute != name) ||
(globalIdentifier == state_operator_7 &amp;&amp;
globalAttribute != name) ||
(globalIdentifier == state_operator_8 &amp;&amp;
globalAttribute != name) ||
(globalIdentifier == state_operator_5 &amp;&amp;
globalAttribute != name &amp;&amp;
globalIdentifier == state_operator_5 &amp;&amp;
globalAttribute != timerLength) ||
(globalIdentifier == state_operator_6 &amp;&amp;
globalAttribute != name &amp;&amp;
globalIdentifier == state_operator_6 &amp;&amp;
globalAttribute != timerLength) ||
(globalIdentifier == dummy_io1 &amp;&amp;
globalAttribute != input_link) ||
(globalIdentifier == dummy_io2 &amp;&amp;
globalAttribute != flightdata) ||
(globalIdentifier == dummy_io3 &amp;&amp;
globalAttribute != takeOver &amp;&amp;
globalIdentifier == dummy_io3 &amp;&amp;
globalAttribute != populated &amp;&amp;
globalIdentifier == dummy_io3 &amp;&amp;
globalAttribute != currentTime) ||
(globalIdentifier == state_operator_9 &amp;&amp;
globalAttribute != name &amp;&amp;
globalIdentifier == state_operator_9 &amp;&amp;
globalAttribute != timerLength)) &amp;&amp;
globalAttribute != extraRestriction</label>
			<label kind="assignment" x="-790" y="1598">catchAll()</label>
			<nail x="-739" y="-144"/>
			<nail x="-688" y="-93"/>
			<nail x="-790" y="-93"/>
			<nail x="-739" y="-144"/>
		</transition>
	</template>
	<template>
		<name>Attribute_Value</name>
		<parameter>const int NUM_VALUES, const int OPERATOR_ID, const int ATTRIBUTE_INDEX</parameter>
		<declaration>int values[NUM_VALUES];
int valuesIndex = 0;
int containsIndex = -1;

void doValuesContain() {
	if (globalValue == nilAnything) {
		if (lookAheadArray[lookAheadIndex] &lt; valuesIndex) {
			globalValue = values[lookAheadArray[lookAheadIndex]];
			lookAheadArray[lookAheadIndex]++;
		} else {
			globalDoesContain = -1;
			lookAheadArray[lookAheadIndex] = 0;
		}
	} else {
		int contains = -1;
		if (globalValue == EMPTY &amp;&amp; valuesIndex == 0) {
			contains = 1;
		} else {
			int i;
			for (i = 0; i &lt; valuesIndex; i++) {
				if (values[i] == globalValue) {
					contains = 1;
					i = valuesIndex;
				}
			}
		}
		if (contains == 1) {
			globalDoesContain = 1;
		} else {
			globalDoesContain = -1;
		}
	}
}

void addValue() {
	if (containsIndex == -1) {
		values[valuesIndex] = globalValue;
		if (valueFunction == addFunction) {
			values[valuesIndex] += attributeFunction;
		} else if (valueFunction == subtractFunction) {
			values[valuesIndex] -= attributeFunction;
		}
		valuesIndex++;
	}
	addOperator = false;
}

int getIndexOfValue() {
	int i = 0;
	for (i = 0; i &lt; valuesIndex; i++) {
		if (values[i] == globalValue) {
			return i;
		}
	}
	return -1;
}

void removeValue() {
	while (valuesIndex &gt; 0) {
		valuesIndex--;
		values[valuesIndex] = 0;
	}
	currentNumAttributes--;
	if (currentNumAttributes == 0) {
		removeNestedCheckArray();
		globalIndex++;
		if (globalIndex == nestedCheckIndex) {
			removeOperator = false;
			nestedCheckIndex = 0;
		} else {
			currentNumAttributes = getNumAttributes(nestedCheckArray[globalIndex]);
		}
	}
}

void removeSpecificValue() {
	int i = containsIndex;
	if (i != -1) {
		for (i = containsIndex; i &lt; valuesIndex - 1; i++) {
			values[i] = values[i + 1];
		}
		valuesIndex--;
		values[valuesIndex] = 0;
	}
	 if(isRetracting) {
		int numAttributes = getNumAttributes(globalValue);
		if (numAttributes &gt; 0) {
			addToNestedCheckArray(globalValue);
		}
	}
	addOperator = false;
}</declaration>
		<location id="id820" x="-739" y="-195">
			<name x="-780" y="-229">Start</name>
			<committed/>
		</location>
		<location id="id821" x="-229" y="-195">
			<committed/>
		</location>
		<init ref="id820"/>
		<transition>
			<source ref="id821"/>
			<target ref="id820"/>
			<label kind="guard" x="-425" y="-331">valueFunction == remove</label>
			<label kind="assignment" x="-425" y="-314">removeSpecificValue()</label>
			<nail x="-535" y="-340"/>
		</transition>
		<transition>
			<source ref="id821"/>
			<target ref="id820"/>
			<label kind="guard" x="-382" y="-127">valueFunction != remove</label>
			<label kind="assignment" x="-382" y="-110">addValue()</label>
			<nail x="-535" y="-68"/>
		</transition>
		<transition>
			<source ref="id820"/>
			<target ref="id820"/>
			<label kind="guard" x="-790" y="-85">removeOperator &amp;&amp;
currentNumAttributes &gt; 0 &amp;&amp;
nestedCheckArray[globalIndex] == OPERATOR_ID</label>
			<label kind="assignment" x="-790" y="-34">removeValue()</label>
			<nail x="-739" y="-144"/>
			<nail x="-688" y="-93"/>
			<nail x="-790" y="-93"/>
			<nail x="-739" y="-144"/>
		</transition>
		<transition>
			<source ref="id820"/>
			<target ref="id820"/>
			<label kind="guard" x="-1156" y="-204">globalDoesContain == 0 &amp;&amp;
globalIdentifier == OPERATOR_ID &amp;&amp;
globalAttribute == ATTRIBUTE_INDEX</label>
			<label kind="assignment" x="-1156" y="-153">doValuesContain()</label>
			<nail x="-739" y="-144"/>
			<nail x="-807" y="-144"/>
			<nail x="-807" y="-195"/>
		</transition>
		<transition>
			<source ref="id820"/>
			<target ref="id821"/>
			<label kind="guard" x="-654" y="-255">addOperator &amp;&amp;
globalIdentifier == OPERATOR_ID &amp;&amp;
globalAttribute == ATTRIBUTE_INDEX</label>
			<label kind="assignment" x="-654" y="-187">containsIndex =getIndexOfValue()</label>
		</transition>
	</template>
	<template>
		<name>preferenceResolutionTemplate</name>
		<declaration>bool requiredAndProhibited;
int currentOp;
int finalOperatorIndex;
bool isRequiredAndProhibited() {
	int i = 0;
	while (i &lt; N &amp;&amp; required[i] != 0) {
		if (operators[required[i]-1].operator.isProhibited) {
			return true;
		}
		i++;
	}
	return false;
}

void remove(int index, int &amp;ref[N]) {
	int i = index;
	while (i &lt; N-1 &amp;&amp; ref[i] != 0) {
		ref[i] = ref[i+1];
		i++;
	}
	ref[i] = 0;
} 

void removeProhibitedFromAcceptable() {
	int i = 0;
	while (i &lt; N &amp;&amp; acceptable[i] != 0) {
		if (operators[acceptable[i]-1].operator.isProhibited) {
			remove(i, acceptable);
		} else {
			i++;
		}
	}
}

int variablesContains(int testId) {
	int i = 0;
	while (i &lt; N &amp;&amp; acceptable[i] != 0) {
		if (acceptable[i] == testId) {
			return i;
		}
		i++;
	}
	return -1;
}

void removeWorseAndRejectedFromAcceptable() {
	int i = 0;
	int j = 0;
	int k = 0;
	bool temp[N];
	int containID = -1;
	for (k = 0; k &lt; N; k++) {
		temp[k] = false;
	}
	i = 0;
	while (i &lt; N &amp;&amp; acceptable[i] != 0) {
		j = 0;
		while (j &lt; N &amp;&amp; operators[acceptable[i]-1].better[j] != 0) {
			containID = variablesContains(operators[acceptable[i]-1].better[j] + 1);
			if (!temp[operators[acceptable[i]-1].better[j]] &amp;&amp; containID != -1) {
				temp[operators[acceptable[i]-1].better[j]] = true;
			}
			j++;
		}
		if (operators[acceptable[i]-1].operator.isRejected) {
			temp[acceptable[i] - 1] = true;
		}
		i++;
	}
	i = 0;
	while (i &lt; N) {
		if (temp[i]) {
			containID = variablesContains(i+1);
			if (containID != -1) {
				remove(containID, acceptable);
			}
		}
		i++;	
	}}

void removeBest() {
	int i = 0;
	while (i &lt; N &amp;&amp; acceptable[i] != 0) {
		if (!operators[acceptable[i]-1].operator.isBest) {
			remove(i, acceptable);
		} else {
			i++;
		}
	}
}

void removeWorst() {
	int i = 0;
	while (i &lt; N &amp;&amp; acceptable[i] != 0) {
		if (operators[acceptable[i]-1].operator.isWorst) {
			remove(i, acceptable);
		} else {
			i++;
		}
	}
}

bool areAllIndifferent() {
	int i = 0;
	int j = 0;
	bool temp[N];
	for(i = 0; i &lt; N; i++) {
		temp[i] = false;
	}
	i = 0;
	while (i &lt; N &amp;&amp; acceptable[i] != 0) {
		if (operators[acceptable[i]-1].operator.isUnaryIndifferent == 0 &amp;&amp; !operators[acceptable[i]-1].operator.hasNumericIndifferent) {
			temp[acceptable[i]-1] = true;
		}
		i++;
	}
	i = 0;
	while (i &lt; N) {
		if (temp[i]) {
			j = 0;
			if (operators[i].binaryIndifferent[0] == 0) {
				return false;
			}
			while(j &lt; N &amp;&amp; operators[i].binaryIndifferent[j] != 0) {
				if(variablesContains(operators[i].binaryIndifferent[j]) == -1) {
					return false;
				}
				j++;
			}
		}
		i++;
	}
	return true;
}

int modulus(int num) {
	if (num == 0) {
		return 0;
	} else {
		int d = num / numLeft;
		int m = numLeft*d;
		int r = num-m;
		return r;
	}
}</declaration>
		<location id="id822" x="-3488" y="-864">
			<committed/>
		</location>
		<location id="id823" x="-3488" y="-920">
			<committed/>
		</location>
		<location id="id824" x="-3488" y="-1120">
			<committed/>
		</location>
		<location id="id825" x="-3808" y="-518">
			<committed/>
		</location>
		<location id="id826" x="-2966" y="-706">
			<name x="-2976" y="-736">Tie</name>
			<committed/>
		</location>
		<location id="id827" x="-3488" y="-624">
			<name x="-3616" y="-632">IndifferentTest</name>
			<committed/>
		</location>
		<location id="id828" x="-3488" y="-816">
			<name x="-3592" y="-824">WorstFilter</name>
			<committed/>
		</location>
		<location id="id829" x="-2976" y="-1064">
			<name x="-2986" y="-1094">Conflict</name>
			<committed/>
		</location>
		<location id="id830" x="-3488" y="-992">
			<name x="-3576" y="-1000">BestFilter</name>
			<committed/>
		</location>
		<location id="id831" x="-3488" y="-1064">
			<name x="-3632" y="-1072">BetterWorseFilter</name>
			<committed/>
		</location>
		<location id="id832" x="-2872" y="-1096">
			<name x="-2864" y="-1120">NoChange</name>
			<committed/>
		</location>
		<location id="id833" x="-3488" y="-1192">
			<name x="-3592" y="-1200">RejectFilter</name>
			<committed/>
		</location>
		<location id="id834" x="-3488" y="-1264">
			<name x="-3600" y="-1272">ProhibitFilter</name>
			<committed/>
		</location>
		<location id="id835" x="-3488" y="-1336">
			<name x="-3640" y="-1344">AcceptableCollect</name>
			<committed/>
		</location>
		<location id="id836" x="-2616" y="-520">
			<name x="-2598" y="-594">done</name>
			<committed/>
		</location>
		<location id="id837" x="-2976" y="-1424">
			<committed/>
		</location>
		<location id="id838" x="-2976" y="-1520">
			<name x="-2986" y="-1550">ConstraintFailure</name>
			<committed/>
		</location>
		<location id="id839" x="-3488" y="-1424">
			<name x="-3592" y="-1432">RequireTest</name>
			<committed/>
		</location>
		<location id="id840" x="-3488" y="-1536">
			<name x="-3498" y="-1566">Start</name>
			<committed/>
		</location>
		<init ref="id840"/>
		<transition>
			<source ref="id827"/>
			<target ref="id836"/>
			<label kind="select" x="-3208" y="-648">x : int[0, N-1]</label>
			<label kind="guard" x="-3224" y="-616">areAllIndifferent()</label>
			<label kind="assignment" x="-3280" y="-600">finalOperatorIndex = acceptable[modulus(x)]</label>
			<nail x="-2616" y="-624"/>
		</transition>
		<transition>
			<source ref="id822"/>
			<target ref="id828"/>
			<label kind="assignment" x="-3760" y="-848">numLeft = getNumLeft(acceptable)</label>
		</transition>
		<transition>
			<source ref="id830"/>
			<target ref="id823"/>
			<label kind="assignment" x="-3480" y="-960">numLeft = getNumLeft(best)</label>
		</transition>
		<transition>
			<source ref="id824"/>
			<target ref="id831"/>
			<label kind="assignment" x="-3480" y="-1104">numLeft = getNumLeft(acceptable)</label>
		</transition>
		<transition>
			<source ref="id833"/>
			<target ref="id824"/>
			<label kind="guard" x="-3480" y="-1176">numLeft &gt; 1</label>
			<label kind="assignment" x="-3480" y="-1160">removeWorseAndRejectedFromAcceptable()</label>
		</transition>
		<transition>
			<source ref="id831"/>
			<target ref="id829"/>
			<label kind="guard" x="-3296" y="-1056">numLeft == 0</label>
		</transition>
		<transition>
			<source ref="id827"/>
			<target ref="id826"/>
			<label kind="guard" x="-3174" y="-730">!areAllIndifferent()</label>
			<nail x="-3296" y="-624"/>
			<nail x="-3254" y="-706"/>
		</transition>
		<transition>
			<source ref="id828"/>
			<target ref="id827"/>
			<label kind="guard" x="-3480" y="-776">numLeft &gt; 1</label>
			<label kind="assignment" x="-3480" y="-760">removeWorst()</label>
		</transition>
		<transition>
			<source ref="id823"/>
			<target ref="id822"/>
			<label kind="guard" x="-3456" y="-920">numLeft &gt; 0</label>
			<label kind="assignment" x="-3456" y="-880">removeBest()</label>
			<nail x="-3456" y="-888"/>
		</transition>
		<transition>
			<source ref="id823"/>
			<target ref="id822"/>
			<label kind="guard" x="-3624" y="-896">numLeft == 0</label>
			<nail x="-3520" y="-888"/>
		</transition>
		<transition>
			<source ref="id828"/>
			<target ref="id836"/>
			<label kind="guard" x="-3112" y="-840">numLeft == 1</label>
			<label kind="assignment" x="-3112" y="-808">finalOperatorIndex = acceptable[0]</label>
			<nail x="-2616" y="-816"/>
		</transition>
		<transition>
			<source ref="id828"/>
			<target ref="id832"/>
			<label kind="guard" x="-3224" y="-936">numLeft == 0</label>
			<nail x="-3312" y="-816"/>
			<nail x="-3264" y="-912"/>
			<nail x="-2976" y="-912"/>
			<nail x="-2872" y="-912"/>
		</transition>
		<transition>
			<source ref="id831"/>
			<target ref="id830"/>
			<label kind="guard" x="-3480" y="-1040">numLeft &gt; 0</label>
		</transition>
		<transition>
			<source ref="id833"/>
			<target ref="id832"/>
			<label kind="guard" x="-3080" y="-1216">numLeft == 0</label>
			<nail x="-3304" y="-1192"/>
			<nail x="-2872" y="-1192"/>
		</transition>
		<transition>
			<source ref="id833"/>
			<target ref="id836"/>
			<label kind="guard" x="-2856" y="-1296">numLeft == 1</label>
			<label kind="assignment" x="-2880" y="-1264">finalOperatorIndex = acceptable[0]</label>
			<nail x="-3328" y="-1192"/>
			<nail x="-3264" y="-1272"/>
			<nail x="-2616" y="-1272"/>
		</transition>
		<transition>
			<source ref="id834"/>
			<target ref="id833"/>
			<label kind="assignment" x="-3744" y="-1240">numLeft = getNumLeft(acceptable)</label>
		</transition>
		<transition>
			<source ref="id835"/>
			<target ref="id834"/>
			<label kind="assignment" x="-3472" y="-1312">removeProhibitedFromAcceptable()</label>
		</transition>
		<transition>
			<source ref="id839"/>
			<target ref="id835"/>
			<label kind="guard" x="-3480" y="-1384">numLeft == 0</label>
			<nail x="-3488" y="-1352"/>
		</transition>
		<transition>
			<source ref="id837"/>
			<target ref="id838"/>
			<label kind="guard" x="-2968" y="-1488">operators[currentOp-1].operator.isProhibited</label>
		</transition>
		<transition>
			<source ref="id837"/>
			<target ref="id836"/>
			<label kind="guard" x="-2808" y="-1456">!operators[currentOp-1].operator.isProhibited</label>
			<label kind="assignment" x="-2850" y="-1416">finalOperatorIndex = currentOp</label>
			<nail x="-2616" y="-1424"/>
		</transition>
		<transition>
			<source ref="id839"/>
			<target ref="id837"/>
			<label kind="guard" x="-3256" y="-1448">numLeft == 1</label>
			<label kind="assignment" x="-3272" y="-1416">currentOp = required[0]</label>
		</transition>
		<transition>
			<source ref="id839"/>
			<target ref="id838"/>
			<label kind="guard" x="-3144" y="-1552">numLeft &gt; 1</label>
			<nail x="-3320" y="-1424"/>
			<nail x="-3264" y="-1520"/>
		</transition>
		<transition>
			<source ref="id840"/>
			<target ref="id839"/>
			<label kind="synchronisation" x="-3624" y="-1520">Require_Test?</label>
			<label kind="assignment" x="-3728" y="-1496">numLeft = getNumLeft(required)</label>
		</transition>
		<transition>
			<source ref="id836"/>
			<target ref="id825"/>
			<label kind="assignment" x="-3280" y="-504">addOperator = true,
valueFunction = 0,
globalIdentifier = finalOp,
globalAttribute = operator,
globalValue = finalOperatorIndex,
selectedFinalOperatorIndex = finalOperatorIndex</label>
		</transition>
		<transition>
			<source ref="id825"/>
			<target ref="id840"/>
			<label kind="guard" x="-3918" y="-1097">!addOperator</label>
			<label kind="synchronisation" x="-3918" y="-1113">Continue_Run!</label>
			<nail x="-3808" y="-1536"/>
		</transition>
	</template>
	<template>
		<name>Temp_template</name>
		<declaration>/*
Global arrays for &lt;fd&gt; and input_link     variables 
takeOver (0 is no, 1 is yes)
maxTimers
currentTimers
willBeInPopulatedArea
*/
const int NUMBER_OF_PRODUCTIONS = 1;
int _state;


typedef struct {
	int takeovervalue[11];
    int populatedvalue[11];
} Production;

Production productions[NUMBER_OF_PRODUCTIONS];
int productionIndex = 0;
int productionIndexTemp;



</declaration>
		<location id="id841" x="-391" y="-450">
			<name x="-401" y="-484">Initial</name>
			<committed/>
		</location>
		<location id="id842" x="-391" y="-246">
			<name x="-374" y="-255">Ready</name>
			<committed/>
		</location>
		<location id="id843" x="-391" y="-8">
			<name x="-400" y="8">Next_State</name>
			<committed/>
		</location>
		<location id="id844" x="230" y="-450">
			<name x="220" y="-484">Initial_populated</name>
			<committed/>
		</location>
		<location id="id845" x="230" y="-246">
			<name x="247" y="-255">Ready_populated</name>
			<committed/>
		</location>
		<location id="id846" x="230" y="-8">
			<name x="221" y="8">Next_State_populated</name>
			<committed/>
		</location>
		<init ref="id841"/>
		<transition>
			<source ref="id843"/>
			<target ref="id844"/>
			<nail x="-170" y="-17"/>
			<nail x="-153" y="-442"/>
			<nail x="204" y="-442"/>
		</transition>
		<transition>
			<source ref="id843"/>
			<target ref="id841"/>
			<label kind="guard" x="-306" y="-178">!addOperator</label>
			<label kind="synchronisation" x="-323" y="-153">Continue_Run!</label>
			<nail x="-161" y="-195"/>
		</transition>
		<transition>
			<source ref="id842"/>
			<target ref="id843"/>
			<label kind="guard" x="-586" y="-187">!addOperator</label>
			<label kind="assignment" x="-773" y="-153">globalIdentifier = dummy_io2,
globalAttribute = takeOver,
globalValue = takeovervalue[takeovervalueIndex],
lookAheadIndex = 0,
globalDoesContain = 1,
addOperator = true,
valueFunction = 0</label>
		</transition>
		<transition>
			<source ref="id841"/>
			<target ref="id842"/>
			<label kind="synchronisation" x="-493" y="-459">Start_Input?</label>
			<label kind="assignment" x="-756" y="-408">globalIdentifier = dummy_io2,
globalAttribute = takeOver,
globalValue = takeovervalue[takeovervalueIndex],
lookAheadIndex = 0,
globalDoesContain = 1,
addOperator = true,
valueFunction = remove,
updatevalue()</label>
		</transition>
		<transition>
			<source ref="id846"/>
			<target ref="id844"/>
			<label kind="guard" x="374" y="-127">!addOperator</label>
			<label kind="synchronisation" x="366" y="-93">Continue_Run!</label>
			<nail x="460" y="-195"/>
		</transition>
		<transition>
			<source ref="id845"/>
			<target ref="id846"/>
			<label kind="guard" x="110" y="-204">!addOperator</label>
			<label kind="assignment" x="-136" y="-153">globalIdentifier = dummy_io2,
globalAttribute = populated,
globalValue = populatedvalue[populatedvalueIndex],
lookAheadIndex = 0,
globalDoesContain = 1,
addOperator = true,
valueFunction = 0</label>
		</transition>
		<transition>
			<source ref="id844"/>
			<target ref="id845"/>
			<label kind="synchronisation" x="128" y="-459">Start_Input?</label>
			<label kind="assignment" x="-85" y="-399">globalIdentifier = dummy_io2,
globalAttribute = populated,
globalValue = populatedvalue[populatedvalueIndex],
lookAheadIndex = 0,
globalDoesContain = 1,
addOperator = true,
valueFunction = remove,
updatevalue()</label>
		</transition>
	</template>
	<template>
		<name>Input_template</name>
		<location id="id847" x="-339" y="-408">
			<name x="-349" y="-442">Initial</name>
			<committed/>
		</location>
		<location id="id848" x="-467" y="-306">
			<name x="-569" y="-357">Removed_Takeover</name>
			<committed/>
		</location>
		<location id="id849" x="-484" y="-161">
			<name x="-646" y="-186">Removed_Populated</name>
			<committed/>
		</location>
		<location id="id850" x="-51" y="-110">
			<name x="-26" y="-127">Add_Takeover</name>
			<committed/>
		</location>
		<location id="id851" x="-51" y="-289">
			<name x="-34" y="-289">Add_Populated</name>
			<committed/>
		</location>
		<location id="id852" x="-119" y="-408">
			<name x="-138" y="-442">Add_CurrentTime</name>
			<committed/>
		</location>
		<location id="id853" x="-450" y="25">
			<name x="-620" y="16">Remove_CurrentTime</name>
			<committed/>
		</location>
		<location id="id854" x="-85" y="17">
			<name x="-76" y="51">Check_Takeover_Change</name>
			<committed/>
		</location>
		<init ref="id847"/>
		<transition>
			<source ref="id853"/>
			<target ref="id854"/>
			<label kind="guard" x="-433" y="-68">!addOperator
&amp;&amp; !(takeovervalue[takeovervalueIndex-1] == no
&amp;&amp; takeovervalue[takeovervalueIndex] == yes)</label>
			<nail x="-289" y="-17"/>
		</transition>
		<transition>
			<source ref="id853"/>
			<target ref="id854"/>
			<label kind="guard" x="-416" y="17">!addOperator
&amp;&amp; takeovervalue[takeovervalueIndex-1] == no
&amp;&amp; takeovervalue[takeovervalueIndex] == yes</label>
			<label kind="assignment" x="-382" y="68">globalIdentifier=_state,
globalAttribute=startContingency,
globalValue=yes,
lookAheadIndex =0,
addOperator = true,
valueFunction = 0</label>
			<nail x="-289" y="68"/>
		</transition>
		<transition>
			<source ref="id849"/>
			<target ref="id853"/>
			<label kind="guard" x="-654" y="-153">!addOperator</label>
			<label kind="assignment" x="-646" y="-136">globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = currentTimeValue[0],
lookAheadIndex = 0,
globalDoesContain = 1,
addOperator = true,
valueFunction = remove,
updatevalue()</label>
		</transition>
		<transition>
			<source ref="id851"/>
			<target ref="id852"/>
			<label kind="guard" x="-68" y="-425">!addOperator</label>
			<label kind="assignment" x="-59" y="-416">globalIdentifier = dummy_io3,
globalAttribute = currentTime,
globalValue = currentTimeValue[0],
lookAheadIndex = 0,
globalDoesContain = 1,
addOperator = true,
valueFunction = 0</label>
		</transition>
		<transition>
			<source ref="id852"/>
			<target ref="id847"/>
			<label kind="guard" x="-246" y="-425">!addOperator</label>
			<label kind="synchronisation" x="-246" y="-442">Continue_Run!</label>
		</transition>
		<transition>
			<source ref="id850"/>
			<target ref="id851"/>
			<label kind="guard" x="-17" y="-263">!addOperator</label>
			<label kind="assignment" x="-93" y="-246">globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = populatedvalue[populatedvalueIndex],
lookAheadIndex = 0,
globalDoesContain = 1,
addOperator = true,
valueFunction = 0</label>
		</transition>
		<transition>
			<source ref="id848"/>
			<target ref="id849"/>
			<label kind="guard" x="-663" y="-323">!addOperator</label>
			<label kind="assignment" x="-688" y="-306">globalIdentifier = dummy_io3,
globalAttribute = populated,
globalValue = populatedvalue[populatedvalueIndex],
lookAheadIndex = 0,
globalDoesContain = 1,
addOperator = true,
valueFunction = remove</label>
		</transition>
		<transition>
			<source ref="id854"/>
			<target ref="id850"/>
			<label kind="guard" x="68" y="-85">!addOperator</label>
			<label kind="assignment" x="-51" y="-76">globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = takeovervalue[takeovervalueIndex],
lookAheadIndex = 0,
globalDoesContain = 1,
addOperator = true,
valueFunction = 0</label>
		</transition>
		<transition>
			<source ref="id847"/>
			<target ref="id848"/>
			<label kind="synchronisation" x="-450" y="-416">Start_Input?</label>
			<label kind="assignment" x="-416" y="-399">globalIdentifier = dummy_io3,
globalAttribute = takeOver,
globalValue = takeovervalue[takeovervalueIndex],
lookAheadIndex = 0,
globalDoesContain = 1,
addOperator = true,
valueFunction = remove</label>
		</transition>
	</template>
	<template>
		<name>Scheduler</name>
		<declaration>bool checkApplyRetract;
</declaration>
		<location id="id855" x="-144" y="-501">
			<name x="-192" y="-533">Start</name>
			<committed/>
		</location>
		<location id="id856" x="221" y="0">
			<name x="161" y="-42">Superstate_Set</name>
			<committed/>
		</location>
		<location id="id857" x="588" y="0">
			<name x="508" y="-32">Proposal</name>
			<committed/>
		</location>
		<location id="id858" x="958" y="0">
			<name x="848" y="-32">Run_Retract</name>
			<committed/>
		</location>
		<location id="id859" x="1328" y="0">
			<committed/>
		</location>
		<location id="id860" x="1698" y="0">
			<name x="1558" y="-32">Ready_Decision</name>
			<committed/>
		</location>
		<location id="id861" x="2068" y="0">
			<name x="1988" y="-32">Decision</name>
			<committed/>
		</location>
		<location id="id862" x="2438" y="0">
			<name x="2268" y="-32">Ready_Application</name>
			<committed/>
		</location>
		<location id="id863" x="2808" y="0">
			<name x="2698" y="-32">Application</name>
			<committed/>
		</location>
		<location id="id864" x="3178" y="0">
			<name x="3018" y="-32">Back_To_Proposal</name>
			<committed/>
		</location>
		<location id="id865" x="3548" y="0">
			<committed/>
		</location>
		<location id="id866" x="3918" y="0">
			<name x="3748" y="-32">Run_Retract_Again</name>
			<committed/>
		</location>
		<location id="id867" x="-144" y="-331">
			<name x="-135" y="-365">Input</name>
			<committed/>
		</location>
		<location id="id868" x="-144" y="0">
			<name x="-221" y="25">Superstate_Check</name>
			<committed/>
		</location>
		<location id="id869" x="306" y="110">
			<name x="272" y="127">Get_Input</name>
			<committed/>
		</location>
		<location id="id870" x="-144" y="-187">
			<committed/>
		</location>
		<location id="id871" x="459" y="153">
			<committed/>
		</location>
		<init ref="id855"/>
		<transition>
			<source ref="id871"/>
			<target ref="id857"/>
			<label kind="synchronisation" x="527" y="85">Continue_Run?</label>
		</transition>
		<transition>
			<source ref="id869"/>
			<target ref="id871"/>
			<label kind="guard" x="357" y="110">!halt</label>
			<label kind="synchronisation" x="340" y="144">Start_Input!</label>
		</transition>
		<transition>
			<source ref="id870"/>
			<target ref="id868"/>
			<label kind="guard" x="-110" y="-85">!addOperator</label>
			<label kind="assignment" x="-110" y="-187">addOperator = true,
valueFunction = 0,
globalIdentifier = dummy_io2,
globalAttribute = flightdata,
globalValue = dummy_io3,
globalDoesContain = 1</label>
		</transition>
		<transition>
			<source ref="id867"/>
			<target ref="id870"/>
			<label kind="guard" x="-93" y="-340">!addOperator</label>
			<label kind="assignment" x="-93" y="-331">addOperator = true,
valueFunction = 0,
globalIdentifier = dummy_io1,
globalAttribute = input_link,
globalValue = dummy_io2,
globalDoesContain = 1</label>
		</transition>
		<transition>
			<source ref="id855"/>
			<target ref="id867"/>
			<label kind="assignment" x="-93" y="-484">addOperator = true,
valueFunction = 0,
globalIdentifier = _state,
globalAttribute = io,
globalValue = dummy_io1,
globalDoesContain = 1</label>
		</transition>
		<transition>
			<source ref="id868"/>
			<target ref="id856"/>
			<label kind="guard" x="-76" y="110">!addOperator</label>
			<label kind="assignment" x="-93" y="8">addOperator = true,
valueFunction = 0,
globalIdentifier = _state,
globalAttribute = superstate,
globalValue = nil,
globalDoesContain = 1</label>
		</transition>
		<transition>
			<source ref="id856"/>
			<target ref="id869"/>
			<label kind="guard" x="238" y="-17">!addOperator</label>
			<label kind="assignment" x="238" y="8">initialize(operators)</label>
		</transition>
		<transition>
			<source ref="id857"/>
			<target ref="id858"/>
			<label kind="guard" x="608" y="-17">!halt</label>
			<label kind="synchronisation" x="608" y="-34">Run_Rule!</label>
			<label kind="assignment" x="608" y="8">productionFired = false</label>
		</transition>
		<transition>
			<source ref="id858"/>
			<target ref="id869"/>
			<label kind="synchronisation" x="597" y="-144">Halt?</label>
			<nail x="967" y="-127"/>
			<nail x="595" y="-127"/>
		</transition>
		<transition>
			<source ref="id858"/>
			<target ref="id859"/>
			<label kind="guard" x="978" y="-51">stackConditionIndex == -1 &amp;&amp;
stackActionIndex == -1 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="978" y="8">isRetracting = true</label>
		</transition>
		<transition>
			<source ref="id859"/>
			<target ref="id860"/>
			<label kind="synchronisation" x="1348" y="-17">Run_Rule!</label>
			<label kind="assignment" x="1348" y="8">checkApplyRetract = true</label>
		</transition>
		<transition>
			<source ref="id860"/>
			<target ref="id860"/>
			<label kind="guard" x="1708" y="85">stackRetractIndex == -1 &amp;&amp;
checkApplyRetract</label>
			<label kind="synchronisation" x="1708" y="68">Reset_Apply!</label>
			<label kind="assignment" x="1708" y="119">checkApplyRetract = false</label>
			<nail x="1698" y="119"/>
		</transition>
		<transition>
			<source ref="id860"/>
			<target ref="id857"/>
			<label kind="guard" x="1275" y="76">!checkApplyRetract &amp;&amp;
productionFired &amp;&amp;
stackRetractIndex == -1</label>
			<label kind="assignment" x="1275" y="136">isRetracting = false,
retractOperatorsIndex = 0</label>
			<nail x="1655" y="68"/>
			<nail x="592" y="59"/>
		</transition>
		<transition>
			<source ref="id860"/>
			<target ref="id861"/>
			<label kind="guard" x="1718" y="-51">!checkApplyRetract &amp;&amp;
!productionFired &amp;&amp;
stackRetractIndex == -1</label>
			<label kind="assignment" x="1718" y="8">isRetracting = false,
fillOthers(),
retractOperatorsIndex = 0</label>
		</transition>
		<transition>
			<source ref="id861"/>
			<target ref="id862"/>
			<label kind="synchronisation" x="2088" y="-17">Require_Test!</label>
		</transition>
		<transition>
			<source ref="id862"/>
			<target ref="id863"/>
			<label kind="synchronisation" x="2458" y="-17">Continue_Run?</label>
		</transition>
		<transition>
			<source ref="id863"/>
			<target ref="id864"/>
			<label kind="synchronisation" x="2828" y="-17">Run_Rule!</label>
			<label kind="assignment" x="2828" y="8">productionFired = false</label>
		</transition>
		<transition>
			<source ref="id864"/>
			<target ref="id869"/>
			<label kind="synchronisation" x="2805" y="-187">Halt?</label>
			<nail x="3213" y="-161"/>
			<nail x="586" y="-161"/>
		</transition>
		<transition>
			<source ref="id864"/>
			<target ref="id865"/>
			<label kind="guard" x="3198" y="-51">stackConditionIndex == -1 &amp;&amp;
stackActionIndex == -1 &amp;&amp;
!addOperator</label>
			<label kind="assignment" x="3198" y="8">isRetracting = true,
retractOperatorsIndex = 0</label>
		</transition>
		<transition>
			<source ref="id865"/>
			<target ref="id866"/>
			<label kind="synchronisation" x="3568" y="-17">Run_Rule!</label>
			<label kind="assignment" x="3568" y="8">checkApplyRetract = true</label>
		</transition>
		<transition>
			<source ref="id866"/>
			<target ref="id863"/>
			<label kind="guard" x="3485" y="-178">!checkApplyRetract &amp;&amp;
productionFired &amp;&amp;
stackRetractIndex == -1</label>
			<label kind="assignment" x="3485" y="-127">isRetracting = false,
retractOperatorsIndex = 0</label>
			<nail x="3723" y="0"/>
			<nail x="3723" y="-76"/>
			<nail x="2808" y="-110"/>
		</transition>
		<transition>
			<source ref="id866"/>
			<target ref="id869"/>
			<label kind="guard" x="3608" y="-484">!checkApplyRetract &amp;&amp;
!productionFired &amp;&amp;
stackRetractIndex == -1</label>
			<label kind="assignment" x="3608" y="-433">clearFill(required),
clearFill(acceptable),
clearFill(best),
isRetracting = false,
removeOperator = true,
globalIdentifier = finalOp,
globalAttribute = operator,
retractOperatorsIndex = 0</label>
			<nail x="3978" y="-297"/>
			<nail x="646" y="-314"/>
		</transition>
		<transition>
			<source ref="id866"/>
			<target ref="id866"/>
			<label kind="guard" x="3928" y="85">stackRetractIndex == -1 &amp;&amp;
checkApplyRetract</label>
			<label kind="synchronisation" x="3928" y="68">Reset_Apply!</label>
			<label kind="assignment" x="3928" y="119">checkApplyRetract = false</label>
			<nail x="3918" y="119"/>
		</transition>
	</template>
	<system>drone_propose_turnAround_0 = drone_propose_turnAround(); 
drone_apply_turnAround_0 = drone_apply_turnAround(); 
drone_apply_operator_StartTimerLostLinkFirst_0 = drone_apply_operator_StartTimerLostLinkFirst(); 
drone_propose_operator_C3_Lost_Link_Start_fully_0 = drone_propose_operator_C3_Lost_Link_Start_fully(); 
drone_apply_startTimer_nullPopulatedArea_0 = drone_apply_startTimer_nullPopulatedArea(); 
drone_propose_operator_C6_Lost_Link_Start_lightly_0 = drone_propose_operator_C6_Lost_Link_Start_lightly(); 
drone_propose_operator_C2_Lost_Link_Start_fully_0 = drone_propose_operator_C2_Lost_Link_Start_fully(); 
applyWait_0 = applyWait(); 
drone_propose_operator_C7_Lost_Link_Start_fully_0 = drone_propose_operator_C7_Lost_Link_Start_fully(); 
drone_propose_didFlyOverPopulatedArea_0 = drone_propose_didFlyOverPopulatedArea(); 
drone_apply_operator_C4_Lost_Link_Start_0 = drone_apply_operator_C4_Lost_Link_Start(); 
drone_apply_removeWillBeInPopulatedAreaFully_0 = drone_apply_removeWillBeInPopulatedAreaFully(); 
drone_apply_throwAwayPreviousDecision_0 = drone_apply_throwAwayPreviousDecision(); 
drone_apply_usePreviousDecisionTimer_0 = drone_apply_usePreviousDecisionTimer(); 
drone_propose_operator_C4_Lost_Link_Start_0 = drone_propose_operator_C4_Lost_Link_Start(); 
drone_propose_returnToBase_populated_0 = drone_propose_returnToBase_populated(); 
drone_apply_startTimer_lightlyPopulatedArea_0 = drone_apply_startTimer_lightlyPopulatedArea(); 
drone_propose_operator_C6_Lost_Link_Start_fully_0 = drone_propose_operator_C6_Lost_Link_Start_fully(); 
drone_apply_commandToStartTimer_0 = drone_apply_commandToStartTimer(); 
drone_apply_outOfTimeMarkContingency_0 = drone_apply_outOfTimeMarkContingency(); 
drone_propose_usePreviousDecision_0 = drone_propose_usePreviousDecision(); 
drone_apply_timer_done_execute_0 = drone_apply_timer_done_execute(); 
chunk_3_d1471_tie_3_0 = chunk_3_d1471_tie_3(); 
proposeWait_0 = proposeWait(); 
drone_propose_takeOver_0 = drone_propose_takeOver(); 
drone_propose_startTimer_nullPopulatedArea_0 = drone_propose_startTimer_nullPopulatedArea(); 
drone_apply_removeTimerAfterFlyingOverPopulatedArea_0 = drone_apply_removeTimerAfterFlyingOverPopulatedArea(); 
chunk_1_d1471_tie_1_0 = chunk_1_d1471_tie_1(); 
chunk_2_d1471_tie_2_0 = chunk_2_d1471_tie_2(); 
drone_propose_initialize_0 = drone_propose_initialize(); 
drone_apply_initialize_0 = drone_apply_initialize(); 
drone_propose_operator_C7_Lost_Link_Start_lightly_0 = drone_propose_operator_C7_Lost_Link_Start_lightly(); 
drone_apply_operator_StartTimerLostLinkLater_0 = drone_apply_operator_StartTimerLostLinkLater(); 
drone_propose_operator_C3_Lost_Link_Start_lightly_0 = drone_propose_operator_C3_Lost_Link_Start_lightly(); 
drone_apply_initializeCurrentTimers_0 = drone_apply_initializeCurrentTimers(); 
drone_propose_removeC4DoneTimer_0 = drone_propose_removeC4DoneTimer(); 
chunk_5_d1471_tie_5_0 = chunk_5_d1471_tie_5(); 
chunk_6_d1471_tie_6_0 = chunk_6_d1471_tie_6(); 
chunk_4_d1471_tie_4_0 = chunk_4_d1471_tie_4(); 
drone_propose_operator_C2_Lost_Link_Start_lightly_0 = drone_propose_operator_C2_Lost_Link_Start_lightly(); 
drone_propose_startTimer_lightlyPopulatedArea_0 = drone_propose_startTimer_lightlyPopulatedArea(); 
drone_apply_returnToBase_emergency_0 = drone_apply_returnToBase_emergency(); 
AV_state_1_maxTimers = Attribute_Value(4, _state, maxTimers);
AV_state_1_c4Timer = Attribute_Value(1, _state, c4Timer);
AV_state_1_flewOverPopulatedArea = Attribute_Value(2, _state, flewOverPopulatedArea);
AV_state_1_currentTimers = Attribute_Value(3, _state, currentTimers);
AV_state_1_startNewTimer = Attribute_Value(2, _state, startNewTimer);
AV_state_1_acknowledgedCommands = Attribute_Value(1, _state, acknowledgedCommands);
AV_state_1_addressedProblem = Attribute_Value(5, _state, addressedProblem);
AV_state_1_operator = Attribute_Value(25, _state, operator);
AV_state_1_previousDecisionCommand = Attribute_Value(1, _state, previousDecisionCommand);
AV_state_1_timer = Attribute_Value(3, _state, timer);
AV_state_1_previousDecisionValue = Attribute_Value(1, _state, previousDecisionValue);
AV_state_1_sentCommand = Attribute_Value(2, _state, sentCommand);
AV_state_1_startContingency = Attribute_Value(2, _state, startContingency);
AV_state_1_name = Attribute_Value(1, _state, name);
AV_state_1_wait_flag = Attribute_Value(3, _state, wait_flag);
AV_state_1_willBeInPopulatedArea = Attribute_Value(3, _state, willBeInPopulatedArea);
AV_state_1_contingencyComplete = Attribute_Value(1, _state, contingencyComplete);
AV_state_timer_1_targetTime = Attribute_Value(1, state_timer_1, targetTime);
AV_state_timer_2_targetTime = Attribute_Value(1, state_timer_2, targetTime);
AV_state_operator_14_name = Attribute_Value(1, state_operator_14, name);
AV_state_operator_14_timerLength = Attribute_Value(1, state_operator_14, timerLength);
AV_state_operator_15_name = Attribute_Value(1, state_operator_15, name);
AV_state_operator_15_timerLength = Attribute_Value(1, state_operator_15, timerLength);
AV_state_operator_16_name = Attribute_Value(1, state_operator_16, name);
AV_state_operator_17_name = Attribute_Value(1, state_operator_17, name);
AV_state_operator_18_name = Attribute_Value(1, state_operator_18, name);
AV_state_operator_18_timerLength = Attribute_Value(1, state_operator_18, timerLength);
AV_state_operator_19_name = Attribute_Value(1, state_operator_19, name);
AV_state_c4Timer_1_targetTime = Attribute_Value(1, state_c4Timer_1, targetTime);
AV_state_operator_3_name = Attribute_Value(1, state_operator_3, name);
AV_state_operator_10_name = Attribute_Value(1, state_operator_10, name);
AV_state_operator_10_timerLength = Attribute_Value(1, state_operator_10, timerLength);
AV_state_operator_4_targetTime = Attribute_Value(1, state_operator_4, targetTime);
AV_state_operator_11_name = Attribute_Value(1, state_operator_11, name);
AV_state_operator_11_timerLength = Attribute_Value(1, state_operator_11, timerLength);
AV_state_operator_1_targetTime = Attribute_Value(1, state_operator_1, targetTime);
AV_state_operator_12_name = Attribute_Value(1, state_operator_12, name);
AV_state_operator_2_name = Attribute_Value(1, state_operator_2, name);
AV_state_operator_13_name = Attribute_Value(1, state_operator_13, name);
AV_state_operator_7_name = Attribute_Value(1, state_operator_7, name);
AV_state_operator_8_name = Attribute_Value(1, state_operator_8, name);
AV_state_operator_5_name = Attribute_Value(1, state_operator_5, name);
AV_state_operator_5_timerLength = Attribute_Value(1, state_operator_5, timerLength);
AV_state_operator_6_name = Attribute_Value(1, state_operator_6, name);
AV_state_operator_6_timerLength = Attribute_Value(1, state_operator_6, timerLength);
AV_state_operator_9_name = Attribute_Value(1, state_operator_9, name);
AV_state_operator_9_timerLength = Attribute_Value(1, state_operator_9, timerLength);
AV_final_operator = Attribute_Value(1, finalOp, operator);
AV_state_superstate = Attribute_Value(1, _state, superstate);
AVUtility = Attribute_Value_Utility();

//new
AV_state_io = Attribute_Value(1, _state, io);
AV_IO_input_link = Attribute_Value(1, dummy_io1, input_link);
AV_input_link_flightdata = Attribute_Value(1, dummy_io2, flightdata);
AV_input_link_flightdata_takeOver =  Attribute_Value(1, dummy_io3, takeOver);
AV_input_link_flightdata_populated =  Attribute_Value(1, dummy_io3, populated);
Input_template_0 = Input_template();
AV_input_link_flightdata_currentTime = Attribute_Value(1, dummy_io3, currentTime);

preferenceResolution = preferenceResolutionTemplate(); 
scheduler = Scheduler(); 
system drone_propose_turnAround_0, drone_apply_turnAround_0, drone_apply_operator_StartTimerLostLinkFirst_0, 
drone_propose_operator_C3_Lost_Link_Start_fully_0, drone_apply_startTimer_nullPopulatedArea_0, 
drone_propose_operator_C6_Lost_Link_Start_lightly_0, drone_propose_operator_C2_Lost_Link_Start_fully_0, 
applyWait_0, drone_propose_operator_C7_Lost_Link_Start_fully_0, drone_propose_didFlyOverPopulatedArea_0, 
drone_apply_operator_C4_Lost_Link_Start_0, drone_apply_removeWillBeInPopulatedAreaFully_0, 
//drone_apply_throwAwayPreviousDecision_0, drone_apply_usePreviousDecisionTimer_0, 
drone_propose_operator_C4_Lost_Link_Start_0, drone_propose_returnToBase_populated_0, 
drone_apply_startTimer_lightlyPopulatedArea_0, drone_propose_operator_C6_Lost_Link_Start_fully_0, 
drone_apply_commandToStartTimer_0, drone_apply_outOfTimeMarkContingency_0, 
//drone_propose_usePreviousDecision_0,
drone_apply_timer_done_execute_0, chunk_3_d1471_tie_3_0, 
proposeWait_0,
//drone_propose_takeOver_0,
drone_propose_startTimer_nullPopulatedArea_0, 
drone_apply_removeTimerAfterFlyingOverPopulatedArea_0, chunk_1_d1471_tie_1_0, chunk_2_d1471_tie_2_0, 
drone_propose_initialize_0, drone_apply_initialize_0, drone_propose_operator_C7_Lost_Link_Start_lightly_0, 
drone_apply_operator_StartTimerLostLinkLater_0, drone_propose_operator_C3_Lost_Link_Start_lightly_0, 
drone_apply_initializeCurrentTimers_0, drone_propose_removeC4DoneTimer_0, chunk_5_d1471_tie_5_0, 
chunk_6_d1471_tie_6_0, chunk_4_d1471_tie_4_0, drone_propose_operator_C2_Lost_Link_Start_lightly_0, 
drone_propose_startTimer_lightlyPopulatedArea_0, drone_apply_returnToBase_emergency_0, AVUtility, 
preferenceResolution, scheduler, AV_state_1_maxTimers, AV_state_1_c4Timer, AV_state_1_flewOverPopulatedArea, 
AV_state_1_currentTimers, AV_state_1_startNewTimer, AV_state_1_acknowledgedCommands, 
AV_state_1_addressedProblem, AV_state_1_operator, AV_state_1_previousDecisionCommand, 
AV_state_1_timer, AV_state_1_previousDecisionValue, AV_state_1_sentCommand, 
AV_state_1_startContingency, AV_state_1_name, AV_state_1_wait_flag, AV_state_1_willBeInPopulatedArea,
 AV_state_1_contingencyComplete, AV_state_timer_1_targetTime, AV_state_timer_2_targetTime, 
AV_state_operator_14_name, AV_state_operator_14_timerLength, AV_state_operator_15_name, 
AV_state_operator_15_timerLength, AV_state_operator_16_name, AV_state_operator_17_name, 
AV_state_operator_18_name, AV_state_operator_18_timerLength, AV_state_operator_19_name, 
AV_state_c4Timer_1_targetTime, AV_state_operator_3_name, AV_state_operator_10_name, 
AV_state_operator_10_timerLength, AV_state_operator_4_targetTime, AV_state_operator_11_name, 
AV_state_operator_11_timerLength, AV_state_operator_1_targetTime, AV_state_operator_12_name, 
AV_state_operator_2_name, AV_state_operator_13_name, AV_state_operator_7_name, 
AV_state_operator_8_name, AV_state_operator_5_name, AV_state_operator_5_timerLength, 
AV_state_operator_6_name, AV_state_operator_6_timerLength, AV_state_operator_9_name, 
AV_state_operator_9_timerLength, AV_final_operator, AV_state_superstate, Input_template_0, AV_state_io,
AV_IO_input_link, AV_input_link_flightdata_takeOver, AV_input_link_flightdata_populated,AV_input_link_flightdata,
AV_input_link_flightdata_currentTime;</system>
	<queries>
		<query>
			<formula>AV_input_link_flightdata_takeOver.values[0] == yes--&gt; AV_state_1_startNewTimer.values[0] ==yes</formula>
			<comment>When take over is yes new timer is started</comment>
		</query>
		<query>
			<formula>A&lt;&gt; AV_input_link_flightdata_takeOver.values[0] == yes &amp;&amp; AV_input_link_flightdata_populated.values[0] == lightly imply operators[14].operator.isAcceptable == true </formula>
			<comment>When take over is yes and it is lightly populated the C2 actions are executed which is max timer = 2</comment>
		</query>
		<query>
			<formula>A&lt;&gt; AV_input_link_flightdata_takeOver.values[0] == yes &amp;&amp; AV_input_link_flightdata_populated.values[0] == fully imply operators[13].operator.isAcceptable == true </formula>
			<comment></comment>
		</query>
		<query>
			<formula>AV_input_link_flightdata_takeOver.values[0] == yes &amp;&amp; AV_input_link_flightdata_populated.values[0] == null --&gt; AV_state_1_c4Timer.values[0] == 1</formula>
			<comment></comment>
		</query>
		<query>
			<formula>AV_input_link_flightdata_takeOver.values[0] == yes &amp;&amp; AV_state_1_name.values[0] == turnAroundEmergency  --&gt; AV_state_1_sentCommand.values[0] == reverse</formula>
			<comment></comment>
		</query>
		<query>
			<formula>E&lt;&gt; operators[14].operator.isAcceptable == true &amp;&amp; operators[8].operator.isAcceptable == true &amp;&amp; operators[5].operator.isAcceptable == true &amp;&amp; operators[17].operator.isAcceptable == true &amp;&amp; currentTimeValue[0] == 180</formula>
			<comment></comment>
		</query>
		<query>
			<formula>operators[14].operator.isAcceptable == true &amp;&amp; operators[8].operator.isAcceptable == true &amp;&amp; operators[5].operator.isAcceptable == true &amp;&amp; operators[17].operator.isAcceptable == true --&gt; preferenceResolution.finalOperatorIndex == 15 </formula>
			<comment></comment>
		</query>
		<query>
			<formula></formula>
			<comment></comment>
		</query>
		<query>
			<formula></formula>
			<comment></comment>
		</query>
	</queries>
</nta>
